function y = doFilter1921(x)
%DOFILTER Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 9.7 and DSP System Toolbox 9.9.
% Generated on: 08-Jan-2022 23:45:28

%#codegen

% To generate C/C++ code from this function use the codegen command.
% Type 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    %
    % Fstop1 = 19200;  % First Stopband Frequency
    % Fpass1 = 19300;  % First Passband Frequency
    % Fpass2 = 20700;  % Second Passband Frequency
    % Fstop2 = 20800;  % Second Stopband Frequency
    % Astop1 = 60;     % First Stopband Attenuation (dB)
    % Apass  = 1;      % Passband Ripple (dB)
    % Astop2 = 80;     % Second Stopband Attenuation (dB)
    % Fs     = 48000;  % Sampling Frequency
    %
    % h = fdesign.bandpass('fst1,fp1,fp2,fst2,ast1,ap,ast2', Fstop1, Fpass1, ...
    %                      Fpass2, Fstop2, Astop1, Apass, Astop2, Fs);
    %
    % Hd = design(h, 'cheby1', ...
    %     'MatchExactly', 'passband', ...
    %     'SystemObject', true);
    
    Hd = dsp.BiquadFilter( ...
        'Structure', 'Direct form II', ...
        'SOSMatrix', [1 0 -1 1 1.63253849347323 0.999021704645808; 1 0 -1 1 ...
        1.81561312331427 0.999290151754638; 1 0 -1 1 1.63343461601432 ...
        0.997094731126481; 1 0 -1 1 1.81302165261333 0.997877810184715; 1 0 -1 1 ...
        1.63677187113468 0.995250660931233; 1 0 -1 1 1.80914001170747 ...
        0.996485513836244; 1 0 -1 1 1.64241101877343 0.993538740756697; 1 0 -1 1 ...
        1.8039804092589 0.995126963205486; 1 0 -1 1 1.65013655075941 ...
        0.99200342436452; 1 0 -1 1 1.79755960598421 0.99381826796567; 1 0 -1 1 ...
        1.65966989228155 0.990682752557334; 1 0 -1 1 1.78990412512237 ...
        0.992578600839035; 1 0 -1 1 1.67068550955802 0.98960690381567; 1 0 -1 1 ...
        1.78105652241678 0.991430507109844; 1 0 -1 1 1.68282873160314 ...
        0.988797035926234; 1 0 -1 1 1.77108235445564 0.990399771255669; 1 0 -1 1 ...
        1.69573395258623 0.988264562019803; 1 0 -1 1 1.76007731847891 ...
        0.989514767003123; 1 0 -1 1 1.70904184920943 0.98801099488315; 1 0 -1 1 ...
        1.7481738617055 0.988805267499337; 1 0 -1 1 1.72241435778594 ...
        0.988028444074068; 1 0 -1 1 1.73554641638967 0.988300766179355], ...
        'ScaleValues', [0.0914235330722152; 0.0914235330722152; ...
        0.0895106315986737; 0.0895106315986737; 0.0858031724556511; ...
        0.0858031724556511; 0.0803766961389661; 0.0803766961389661; ...
        0.0733405369824165; 0.0733405369824165; 0.0648371856849769; ...
        0.0648371856849769; 0.0550420545010691; 0.0550420545010691; ...
        0.0441652970615106; 0.0441652970615106; 0.0324629536118324; ...
        0.0324629536118324; 0.0203012771863835; 0.0203012771863835; ...
        0.00881254498582465; 0.00881254498582465; 0.891250938133746]);
end

s = double(x);
y = step(Hd,s);

