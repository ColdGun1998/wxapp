/**Released Version v3.1.0,BUILD 1329,Time 1666271059426. Fengmap Javascript SDK , see: https://www.fengmap.com for details**/
!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i(require("fs")):"function"==typeof define&&define.amd?define(["fs"],i):"object"==typeof exports?exports.fengmap=i(require("fs")):t.fengmap=i(t.fs)}(this,function(__WEBPACK_EXTERNAL_MODULE__47__){return d=[function(t,i,n){"use strict";var r,e,s=t.exports=n(2),o=n(16);s.codegen=n(40),s.fetch=n(41),s.path=n(42),s.fs=s.inquire("fs"),s.toArray=function(t){if(t){for(var i=Object.keys(t),n=new Array(i.length),r=0;r<i.length;)n[r]=t[i[r++]];return n}return[]},s.toObject=function(t){for(var i={},n=0;n<t.length;){var r=t[n++],e=t[n++];void 0!==e&&(i[r]=e)}return i};var u=/\\/g,h=/"/g;s.isReserved=function(t){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(t)},s.safeProp=function(t){return!/^[$\w_]+$/.test(t)||s.isReserved(t)?'["'+t.replace(u,"\\\\").replace(h,'\\"')+'"]':"."+t},s.ucFirst=function(t){return t.charAt(0).toUpperCase()+t.substring(1)};var a=/_([a-z])/g;s.camelCase=function(t){return t.substring(0,1)+t.substring(1).replace(a,function(t,i){return i.toUpperCase()})},s.compareFieldsById=function(t,i){return t.id-i.id},s.decorateType=function(t,i){if(t.$type)return i&&t.$type.name!==i&&(s.decorateRoot.remove(t.$type),t.$type.name=i,s.decorateRoot.add(t.$type)),t.$type;i=new(r=r||n(18))(i||t.name);return s.decorateRoot.add(i),i.ctor=t,Object.defineProperty(t,"$type",{value:i,enumerable:!1}),Object.defineProperty(t.prototype,"$type",{value:i,enumerable:!1}),i};var f=0;s.decorateEnum=function(t){if(t.$type)return t.$type;var i=new(e=e||n(3))("Enum"+f++,t);return s.decorateRoot.add(i),Object.defineProperty(t,"$type",{value:i,enumerable:!1}),i},s.setProperty=function(t,i,n){if("object"!=typeof t)throw TypeError("dst must be an object");if(!i)throw TypeError("path must be specified");return function t(i,n,r){var e=n.shift();return 0<n.length?i[e]=t(i[e]||{},n,r):((n=i[e])&&(r=[].concat(n).concat(r)),i[e]=r),i}(t,i=i.split("."),n)},Object.defineProperty(s,"decorateRoot",{get:function(){return o.decorated||(o.decorated=new(n(26)))}})},function(t,i,n){"use strict";!function(o){function u(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var h=null;i.a=function(){function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t)}var i,n,r,e;function s(){return e.apply(this,arguments)}return i=t,n=null,r=[{key:"global",value:(e=function(){if("undefined"!=typeof self&&null!==self&&0!==Object.keys(self).length)return self;if("undefined"!=typeof window&&null!==window&&0!==Object.keys(window).length)return window;if(null!=o&&0!==Object.keys(o).length)return o;if("undefined"==typeof my)throw new Error("unable to locate global object");var t;return h||(t=my.getAppIdSync(),h={location:{host:t.appId+".hybrid.alipay-eco.com"}}),h},s.toString=function(){return e.toString()},s)}],n&&u(i.prototype,n),r&&u(i,r),t}()}.call(this,n(8))},function(t,n,s){"use strict";!function(t){var r=n;function e(t,i,n){for(var r=Object.keys(i),e=0;e<r.length;++e)void 0!==t[r[e]]&&n||(t[r[e]]=i[r[e]]);return t}function i(t){function n(t,i){if(!(this instanceof n))return new n(t,i);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,n):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),i&&e(this,i)}return(n.prototype=Object.create(Error.prototype)).constructor=n,Object.defineProperty(n.prototype,"name",{get:function(){return t}}),n.prototype.toString=function(){return this.name+": "+this.message},n}r.asPromise=s(13),r.base64=s(31),r.EventEmitter=s(32),r.float=s(33),r.inquire=s(14),r.utf8=s(34),r.pool=s(35),r.LongBits=s(36),r.isNode=Boolean(void 0!==t&&t&&t.process&&t.process.versions&&t.process.versions.node),r.global=r.isNode&&t||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},r.isString=function(t){return"string"==typeof t||t instanceof String},r.isObject=function(t){return t&&"object"==typeof t},r.isset=r.isSet=function(t,i){var n=t[i];return!(null==n||!t.hasOwnProperty(i))&&("object"!=typeof n||0<(Array.isArray(n)?n:Object.keys(n)).length)},r.Buffer=function(){try{var t=r.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(t){return null}}(),r.u=null,r.v=null,r.newBuffer=function(t){return"number"==typeof t?r.Buffer?r.v(t):new r.Array(t):r.Buffer?r.u(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(t){return t?r.LongBits.from(t).toHash():r.LongBits.zeroHash},r.longFromHash=function(t,i){t=r.LongBits.fromHash(t);return r.Long?r.Long.fromBits(t.lo,t.hi,i):t.toNumber(Boolean(i))},r.merge=e,r.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},r.newError=i,r.ProtocolError=i("ProtocolError"),r.oneOfGetter=function(t){for(var n={},i=0;i<t.length;++i)n[t[i]]=1;return function(){for(var t=Object.keys(this),i=t.length-1;-1<i;--i)if(1===n[t[i]]&&void 0!==this[t[i]]&&null!==this[t[i]])return t[i]}},r.oneOfSetter=function(n){return function(t){for(var i=0;i<n.length;++i)n[i]!==t&&delete this[n[i]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._=function(){var n=r.Buffer;n?(r.u=n.from!==Uint8Array.from&&n.from||function(t,i){return new n(t,i)},r.v=n.allocUnsafe||function(t){return new n(t)}):r.u=r.v=null}}.call(this,s(8))},function(t,i,n){"use strict";t.exports=s;var u=n(4);((s.prototype=Object.create(u.prototype)).constructor=s).className="Enum";var r=n(6),e=n(0);function s(t,i,n,r,e){if(u.call(this,t,n),i&&"object"!=typeof i)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=r,this.comments=e||{},this.reserved=void 0,i)for(var s=Object.keys(i),o=0;o<s.length;++o)"number"==typeof i[s[o]]&&(this.valuesById[this.values[s[o]]=i[s[o]]]=s[o])}s.fromJSON=function(t,i){t=new s(t,i.values,i.options,i.comment,i.comments);return t.reserved=i.reserved,t},s.prototype.toJSON=function(t){t=!!t&&Boolean(t.keepComments);return e.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},s.prototype.add=function(t,i,n){if(!e.isString(t))throw TypeError("name must be a string");if(!e.isInteger(i))throw TypeError("id must be an integer");if(void 0!==this.values[t])throw Error("duplicate name '"+t+"' in "+this);if(this.isReservedId(i))throw Error("id "+i+" is reserved in "+this);if(this.isReservedName(t))throw Error("name '"+t+"' is reserved in "+this);if(void 0!==this.valuesById[i]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+i+" in "+this);this.values[t]=i}else this.valuesById[this.values[t]=i]=t;return this.comments[t]=n||null,this},s.prototype.remove=function(t){if(!e.isString(t))throw TypeError("name must be a string");var i=this.values[t];if(null==i)throw Error("name '"+t+"' does not exist in "+this);return delete this.valuesById[i],delete this.values[t],delete this.comments[t],this},s.prototype.isReservedId=function(t){return r.isReservedId(this.reserved,t)},s.prototype.isReservedName=function(t){return r.isReservedName(this.reserved,t)}},function(t,i,n){"use strict";(t.exports=e).className="ReflectionObject";var r,o=n(0);function e(t,i){if(!o.isString(t))throw TypeError("name must be a string");if(i&&!o.isObject(i))throw TypeError("options must be an object");this.options=i,this.parsedOptions=null,this.name=t,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(e.prototype,{root:{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t}},fullName:{get:function(){for(var t=[this.name],i=this.parent;i;)t.unshift(i.name),i=i.parent;return t.join(".")}}}),e.prototype.toJSON=function(){throw Error()},e.prototype.onAdd=function(t){this.parent&&this.parent!==t&&this.parent.remove(this),this.parent=t,this.resolved=!1;t=t.root;t instanceof r&&t.O(this)},e.prototype.onRemove=function(t){t=t.root;t instanceof r&&t.M(this),this.parent=null,this.resolved=!1},e.prototype.resolve=function(){return this.resolved||this.root instanceof r&&(this.resolved=!0),this},e.prototype.getOption=function(t){if(this.options)return this.options[t]},e.prototype.setOption=function(t,i,n){return n&&this.options&&void 0!==this.options[t]||((this.options||(this.options={}))[t]=i),this},e.prototype.setParsedOption=function(i,t,n){this.parsedOptions||(this.parsedOptions=[]);var r,e,s=this.parsedOptions;return n?(e=s.find(function(t){return Object.prototype.hasOwnProperty.call(t,i)}))?(r=e[i],o.setProperty(r,n,t)):((e={})[i]=o.setProperty({},n,t),s.push(e)):((e={})[i]=t,s.push(e)),this},e.prototype.setOptions=function(t,i){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)this.setOption(n[r],t[n[r]],i);return this},e.prototype.toString=function(){var t=this.constructor.className,i=this.fullName;return i.length?t+" "+i:t},e._=function(t){r=t}},function(t,i,n){"use strict";t.exports=o;var u=n(4);((o.prototype=Object.create(u.prototype)).constructor=o).className="Field";var r,e=n(3),h=n(7),a=n(0),f=/^required|optional|repeated$/;function o(t,i,n,r,e,s,o){if(a.isObject(r)?(o=e,s=r,r=e=void 0):a.isObject(e)&&(o=s,s=e,e=void 0),u.call(this,t,s),!a.isInteger(i)||i<0)throw TypeError("id must be a non-negative integer");if(!a.isString(n))throw TypeError("type must be a string");if(void 0!==r&&!f.test(r=r.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==e&&!a.isString(e))throw TypeError("extend must be a string");this.rule=r&&"optional"!==r?r:void 0,this.type=n,this.id=i,this.extend=e||void 0,this.required="required"===r,this.optional=!this.required,this.repeated="repeated"===r,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!a.Long&&void 0!==h.long[n],this.bytes="bytes"===n,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this.j=null,this.comment=o}o.fromJSON=function(t,i){return new o(t,i.id,i.type,i.rule,i.extend,i.options,i.comment)},Object.defineProperty(o.prototype,"packed",{get:function(){return null===this.j&&(this.j=!1!==this.getOption("packed")),this.j}}),o.prototype.setOption=function(t,i,n){return"packed"===t&&(this.j=null),u.prototype.setOption.call(this,t,i,n)},o.prototype.toJSON=function(t){t=!!t&&Boolean(t.keepComments);return a.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},o.prototype.resolve=function(){return this.resolved?this:(void 0===(this.typeDefault=h.defaults[this.type])&&(this.resolvedType=(this.declaringField||this).parent.lookupTypeOrEnum(this.type),this.resolvedType instanceof r?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof e&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof e)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long?(this.typeDefault=a.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault)):this.bytes&&"string"==typeof this.typeDefault&&(a.base64.test(this.typeDefault)?a.base64.decode(this.typeDefault,t=a.newBuffer(a.base64.length(this.typeDefault)),0):a.utf8.write(this.typeDefault,t=a.newBuffer(a.utf8.length(this.typeDefault)),0),this.typeDefault=t),this.map?this.defaultValue=a.emptyObject:this.repeated?this.defaultValue=a.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof r&&(this.parent.ctor.prototype[this.name]=this.defaultValue),u.prototype.resolve.call(this));var t},o.d=function(n,r,e,s){return"function"==typeof r?r=a.decorateType(r).name:r&&"object"==typeof r&&(r=a.decorateEnum(r).name),function(t,i){a.decorateType(t.constructor).add(new o(i,n,r,e,{default:s}))}},o._=function(t){r=t}},function(t,i,n){"use strict";t.exports=f;var r=n(4);((f.prototype=Object.create(r.prototype)).constructor=f).className="Namespace";var e,s,o,u=n(5),h=n(0);function a(t,i){if(t&&t.length){for(var n={},r=0;r<t.length;++r)n[t[r].name]=t[r].toJSON(i);return n}}function f(t,i){r.call(this,t,i),this.nested=void 0,this.k=null}function c(t){return t.k=null,t}f.fromJSON=function(t,i){return new f(t,i.options).addJSON(i.nested)},f.arrayToJSON=a,f.isReservedId=function(t,i){if(t)for(var n=0;n<t.length;++n)if("string"!=typeof t[n]&&t[n][0]<=i&&t[n][1]>i)return!0;return!1},f.isReservedName=function(t,i){if(t)for(var n=0;n<t.length;++n)if(t[n]===i)return!0;return!1},Object.defineProperty(f.prototype,"nestedArray",{get:function(){return this.k||(this.k=h.toArray(this.nested))}}),f.prototype.toJSON=function(t){return h.toObject(["options",this.options,"nested",a(this.nestedArray,t)])},f.prototype.addJSON=function(t){if(t)for(var i,n=Object.keys(t),r=0;r<n.length;++r)i=t[n[r]],this.add((void 0!==i.fields?e:void 0!==i.values?o:void 0!==i.methods?s:void 0!==i.id?u:f).fromJSON(n[r],i));return this},f.prototype.get=function(t){return this.nested&&this.nested[t]||null},f.prototype.getEnum=function(t){if(this.nested&&this.nested[t]instanceof o)return this.nested[t].values;throw Error("no such enum: "+t)},f.prototype.add=function(t){if(!(t instanceof u&&void 0!==t.extend||t instanceof e||t instanceof o||t instanceof s||t instanceof f))throw TypeError("object must be a valid nested object");if(this.nested){var i=this.get(t.name);if(i){if(!(i instanceof f&&t instanceof f)||i instanceof e||i instanceof s)throw Error("duplicate name '"+t.name+"' in "+this);for(var n=i.nestedArray,r=0;r<n.length;++r)t.add(n[r]);this.remove(i),this.nested||(this.nested={}),t.setOptions(i.options,!0)}}else this.nested={};return(this.nested[t.name]=t).onAdd(this),c(this)},f.prototype.remove=function(t){if(!(t instanceof r))throw TypeError("object must be a ReflectionObject");if(t.parent!==this)throw Error(t+" is not a member of "+this);return delete this.nested[t.name],Object.keys(this.nested).length||(this.nested=void 0),t.onRemove(this),c(this)},f.prototype.define=function(t,i){if(h.isString(t))t=t.split(".");else if(!Array.isArray(t))throw TypeError("illegal path");if(t&&t.length&&""===t[0])throw Error("path must be relative");for(var n=this;0<t.length;){var r=t.shift();if(n.nested&&n.nested[r]){if(!((n=n.nested[r])instanceof f))throw Error("path conflicts with non-namespace objects")}else n.add(n=new f(r))}return i&&n.addJSON(i),n},f.prototype.resolveAll=function(){for(var t=this.nestedArray,i=0;i<t.length;)t[i]instanceof f?t[i++].resolveAll():t[i++].resolve();return this.resolve()},f.prototype.lookup=function(t,i,n){if("boolean"==typeof i?(n=i,i=void 0):i&&!Array.isArray(i)&&(i=[i]),h.isString(t)&&t.length){if("."===t)return this.root;t=t.split(".")}else if(!t.length)return this;if(""===t[0])return this.root.lookup(t.slice(1),i);var r=this.get(t[0]);if(r){if(1===t.length){if(!i||-1<i.indexOf(r.constructor))return r}else if(r instanceof f&&(r=r.lookup(t.slice(1),i,!0)))return r}else for(var e=0;e<this.nestedArray.length;++e)if(this.k[e]instanceof f&&(r=this.k[e].lookup(t,i,!0)))return r;return null===this.parent||n?null:this.parent.lookup(t,i)},f.prototype.lookupType=function(t){var i=this.lookup(t,[e]);if(!i)throw Error("no such type: "+t);return i},f.prototype.lookupEnum=function(t){var i=this.lookup(t,[o]);if(!i)throw Error("no such Enum '"+t+"' in "+this);return i},f.prototype.lookupTypeOrEnum=function(t){var i=this.lookup(t,[e,o]);if(!i)throw Error("no such Type or Enum '"+t+"' in "+this);return i},f.prototype.lookupService=function(t){var i=this.lookup(t,[s]);if(!i)throw Error("no such Service '"+t+"' in "+this);return i},f._=function(t,i,n){e=t,s=i,o=n}},function(t,i,n){"use strict";var i=i,n=n(0),e=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function r(t,i){var n=0,r={};for(i|=0;n<t.length;)r[e[n+i]]=t[n++];return r}i.basic=r([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),i.defaults=r([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",n.emptyArray,null]),i.long=r([0,0,0,1,1],7),i.mapKey=r([0,0,0,5,5,0,0,0,1,1,0,2],2),i.packed=r([1,5,0,0,0,5,5,0,0,0,1,1,0])},function(t,i){var n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,i,n){"use strict";t.exports=c;var r,e=n(2),s=e.LongBits,o=e.base64,u=e.utf8;function h(t,i,n){this.fn=t,this.len=i,this.next=void 0,this.val=n}function a(){}function f(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function c(){this.len=0,this.head=new h(a,0,0),this.tail=this.head,this.states=null}function l(){return e.Buffer?function(){return(c.create=function(){return new r})()}:function(){return new c}}function v(t,i,n){i[n]=255&t}function d(t,i){this.len=t,this.next=void 0,this.val=i}function y(t,i,n){for(;t.hi;)i[n++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;127<t.lo;)i[n++]=127&t.lo|128,t.lo=t.lo>>>7;i[n++]=t.lo}function b(t,i,n){i[n]=255&t,i[n+1]=t>>>8&255,i[n+2]=t>>>16&255,i[n+3]=t>>>24}c.create=l(),c.alloc=function(t){return new e.Array(t)},e.Array!==Array&&(c.alloc=e.pool(c.alloc,e.Array.prototype.subarray)),c.prototype.T=function(t,i,n){return this.tail=this.tail.next=new h(t,i,n),this.len+=i,this},(d.prototype=Object.create(h.prototype)).fn=function(t,i,n){for(;127<t;)i[n++]=127&t|128,t>>>=7;i[n]=t},c.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new d((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},c.prototype.int32=function(t){return t<0?this.T(y,10,s.fromNumber(t)):this.uint32(t)},c.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},c.prototype.int64=c.prototype.uint64=function(t){t=s.from(t);return this.T(y,t.length(),t)},c.prototype.sint64=function(t){t=s.from(t).zzEncode();return this.T(y,t.length(),t)},c.prototype.bool=function(t){return this.T(v,1,t?1:0)},c.prototype.sfixed32=c.prototype.fixed32=function(t){return this.T(b,4,t>>>0)},c.prototype.sfixed64=c.prototype.fixed64=function(t){t=s.from(t);return this.T(b,4,t.lo).T(b,4,t.hi)},c.prototype.float=function(t){return this.T(e.float.writeFloatLE,4,t)},c.prototype.double=function(t){return this.T(e.float.writeDoubleLE,8,t)};var p=e.Array.prototype.set?function(t,i,n){i.set(t,n)}:function(t,i,n){for(var r=0;r<t.length;++r)i[n+r]=t[r]};c.prototype.bytes=function(t){var i,n=t.length>>>0;return n?(e.isString(t)&&(i=c.alloc(n=o.length(t)),o.decode(t,i,0),t=i),this.uint32(n).T(p,n,t)):this.T(v,1,0)},c.prototype.string=function(t){var i=u.length(t);return i?this.uint32(i).T(u.write,i,t):this.T(v,1,0)},c.prototype.fork=function(){return this.states=new f(this),this.head=this.tail=new h(a,0,0),this.len=0,this},c.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new h(a,0,0),this.len=0),this},c.prototype.ldelim=function(){var t=this.head,i=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=i,this.len+=n),this},c.prototype.finish=function(){for(var t=this.head.next,i=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,i,n),n+=t.len,t=t.next;return i},c._=function(t){r=t,c.create=l(),r._()}},function(t,i,n){"use strict";t.exports=h;var r,e=n(2),s=e.LongBits,o=e.utf8;function u(t,i){return RangeError("index out of range: "+t.pos+" + "+(i||1)+" > "+t.len)}function h(t){this.buf=t,this.pos=0,this.len=t.length}function a(){return e.Buffer?function(t){return(h.create=function(t){return e.Buffer.isBuffer(t)?new r(t):c(t)})(t)}:c}var f,c="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new h(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new h(t);throw Error("illegal buffer")};function l(){var t=new s(0,0),i=0;if(!(4<this.len-this.pos)){for(;i<3;++i){if(this.pos>=this.len)throw u(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*i)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*i)>>>0,t}for(;i<4;++i)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*i)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(i=0,4<this.len-this.pos){for(;i<5;++i)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*i+3)>>>0,this.buf[this.pos++]<128)return t}else for(;i<5;++i){if(this.pos>=this.len)throw u(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*i+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function v(t,i){return(t[i-4]|t[i-3]<<8|t[i-2]<<16|t[i-1]<<24)>>>0}function d(){if(this.pos+8>this.len)throw u(this,8);return new s(v(this.buf,this.pos+=4),v(this.buf,this.pos+=4))}h.create=a(),h.prototype.R=e.Array.prototype.subarray||e.Array.prototype.slice,h.prototype.uint32=(f=4294967295,function(){if(f=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return f;if(f=(f|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return f;if(f=(f|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return f;if(f=(f|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return f;if(f=(f|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return f;if((this.pos+=5)>this.len)throw this.pos=this.len,u(this,10);return f}),h.prototype.int32=function(){return 0|this.uint32()},h.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},h.prototype.bool=function(){return 0!==this.uint32()},h.prototype.fixed32=function(){if(this.pos+4>this.len)throw u(this,4);return v(this.buf,this.pos+=4)},h.prototype.sfixed32=function(){if(this.pos+4>this.len)throw u(this,4);return 0|v(this.buf,this.pos+=4)},h.prototype.float=function(){if(this.pos+4>this.len)throw u(this,4);var t=e.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},h.prototype.double=function(){if(this.pos+8>this.len)throw u(this,4);var t=e.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},h.prototype.bytes=function(){var t=this.uint32(),i=this.pos,n=this.pos+t;if(n>this.len)throw u(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(i,n):i===n?new this.buf.constructor(0):this.R.call(this.buf,i,n)},h.prototype.string=function(){var t=this.bytes();return o.read(t,0,t.length)},h.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw u(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw u(this)}while(128&this.buf[this.pos++]);return this},h.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},h._=function(t){r=t,h.create=a(),r._();var i=e.Long?"toLong":"toNumber";e.merge(h.prototype,{int64:function(){return l.call(this)[i](!1)},uint64:function(){return l.call(this)[i](!0)},sint64:function(){return l.call(this).zzDecode()[i](!1)},fixed64:function(){return d.call(this)[i](!0)},sfixed64:function(){return d.call(this)[i](!1)}})}},function(t,i,n){"use strict";t.exports=o;var e=n(4);((o.prototype=Object.create(e.prototype)).constructor=o).className="OneOf";var r=n(5),s=n(0);function o(t,i,n,r){if(Array.isArray(i)||(n=i,i=void 0),e.call(this,t,n),void 0!==i&&!Array.isArray(i))throw TypeError("fieldNames must be an Array");this.oneof=i||[],this.fieldsArray=[],this.comment=r}function u(t){if(t.parent)for(var i=0;i<t.fieldsArray.length;++i)t.fieldsArray[i].parent||t.parent.add(t.fieldsArray[i])}o.fromJSON=function(t,i){return new o(t,i.oneof,i.options,i.comment)},o.prototype.toJSON=function(t){t=!!t&&Boolean(t.keepComments);return s.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},o.prototype.add=function(t){if(!(t instanceof r))throw TypeError("field must be a Field");return t.parent&&t.parent!==this.parent&&t.parent.remove(t),this.oneof.push(t.name),this.fieldsArray.push(t),u(t.partOf=this),this},o.prototype.remove=function(t){if(!(t instanceof r))throw TypeError("field must be a Field");var i=this.fieldsArray.indexOf(t);if(i<0)throw Error(t+" is not a member of "+this);return this.fieldsArray.splice(i,1),-1<(i=this.oneof.indexOf(t.name))&&this.oneof.splice(i,1),t.partOf=null,this},o.prototype.onAdd=function(t){e.prototype.onAdd.call(this,t);for(var i=0;i<this.oneof.length;++i){var n=t.get(this.oneof[i]);n&&!n.partOf&&(n.partOf=this).fieldsArray.push(n)}u(this)},o.prototype.onRemove=function(t){for(var i,n=0;n<this.fieldsArray.length;++n)(i=this.fieldsArray[n]).parent&&i.parent.remove(i);e.prototype.onRemove.call(this,t)},o.d=function(){for(var n=new Array(arguments.length),t=0;t<arguments.length;)n[t]=arguments[t++];return function(t,i){s.decorateType(t.constructor).add(new o(i,n)),Object.defineProperty(t,i,{get:s.oneOfGetter(n),set:s.oneOfSetter(n)})}}},function(t,i,n){"use strict";t.exports=e;var r=n(2);function e(t){if(t)for(var i=Object.keys(t),n=0;n<i.length;++n)this[i[n]]=t[i[n]]}e.create=function(t){return this.$type.create(t)},e.encode=function(t,i){return this.$type.encode(t,i)},e.encodeDelimited=function(t,i){return this.$type.encodeDelimited(t,i)},e.decode=function(t){return this.$type.decode(t)},e.decodeDelimited=function(t){return this.$type.decodeDelimited(t)},e.verify=function(t){return this.$type.verify(t)},e.fromObject=function(t){return this.$type.fromObject(t)},e.toObject=function(t,i){return this.$type.toObject(t,i)},e.prototype.toJSON=function(){return this.$type.toObject(this,r.toJSONOptions)}},function(t,i,n){"use strict";t.exports=function(t,i){var n=new Array(arguments.length-1),s=0,r=2,o=!0;for(;r<arguments.length;)n[s++]=arguments[r++];return new Promise(function(r,e){n[s]=function(t){if(o)if(o=!1,t)e(t);else{for(var i=new Array(arguments.length-1),n=0;n<i.length;)i[n++]=arguments[n];r.apply(null,i)}};try{t.apply(i||null,n)}catch(t){o&&(o=!1,e(t))}})}},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},function(t,i,n){"use strict";i.Service=n(39)},function(t,i,n){"use strict";t.exports={}},function(t,i,n){"use strict";t.exports=function(t){for(var i,n=c.codegen(["m","w"],t.name+"$encode")("if(!w)")("w=Writer.create()"),r=t.fieldsArray.slice().sort(c.compareFieldsById),e=0;e<r.length;++e){var s=r[e].resolve(),o=t.A.indexOf(s),u=s.resolvedType instanceof a?"int32":s.type,h=f.basic[u];i="m"+c.safeProp(s.name),s.map?(n("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",i,s.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",i)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(s.id<<3|2)>>>0,8|f.mapKey[s.keyType],s.keyType),void 0===h?n("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",o,i):n(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|h,u,i),n("}")("}")):s.repeated?(n("if(%s!=null&&%s.length){",i,i),s.packed&&void 0!==f.packed[u]?n("w.uint32(%i).fork()",(s.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",i)("w.%s(%s[i])",u,i)("w.ldelim()"):(n("for(var i=0;i<%s.length;++i)",i),void 0===h?l(n,s,o,i+"[i]"):n("w.uint32(%i).%s(%s[i])",(s.id<<3|h)>>>0,u,i)),n("}")):(s.optional&&n("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",i,s.name),void 0===h?l(n,s,o,i):n("w.uint32(%i).%s(%s)",(s.id<<3|h)>>>0,u,i))}return n("return w")};var a=n(3),f=n(7),c=n(0);function l(t,i,n,r){return i.resolvedType.group?t("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",n,r,(i.id<<3|3)>>>0,(i.id<<3|4)>>>0):t("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",n,r,(i.id<<3|2)>>>0)}},function(t,i,n){"use strict";t.exports=w;var o=n(6);((w.prototype=Object.create(o.prototype)).constructor=w).className="Type";var u=n(3),h=n(11),a=n(5),f=n(19),c=n(20),e=n(12),s=n(10),l=n(9),v=n(0),d=n(17),y=n(22),b=n(23),p=n(24),m=n(25);function w(t,i){o.call(this,t,i),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this.S=null,this.A=null,this.I=null,this.N=null}function r(t){return t.S=t.A=t.I=null,delete t.encode,delete t.decode,delete t.verify,t}Object.defineProperties(w.prototype,{fieldsById:{get:function(){if(this.S)return this.S;this.S={};for(var t=Object.keys(this.fields),i=0;i<t.length;++i){var n=this.fields[t[i]],r=n.id;if(this.S[r])throw Error("duplicate id "+r+" in "+this);this.S[r]=n}return this.S}},fieldsArray:{get:function(){return this.A||(this.A=v.toArray(this.fields))}},oneofsArray:{get:function(){return this.I||(this.I=v.toArray(this.oneofs))}},ctor:{get:function(){return this.N||(this.ctor=w.generateConstructor(this)())},set:function(t){var i=t.prototype;i instanceof e||((t.prototype=new e).constructor=t,v.merge(t.prototype,i)),t.$type=t.prototype.$type=this,v.merge(t,e,!0),this.N=t;for(var n=0;n<this.fieldsArray.length;++n)this.A[n].resolve();for(var r={},n=0;n<this.oneofsArray.length;++n)r[this.I[n].resolve().name]={get:v.oneOfGetter(this.I[n].oneof),set:v.oneOfSetter(this.I[n].oneof)};n&&Object.defineProperties(t.prototype,r)}}}),w.generateConstructor=function(t){for(var i,n=v.codegen(["p"],t.name),r=0;r<t.fieldsArray.length;++r)(i=t.A[r]).map?n("this%s={}",v.safeProp(i.name)):i.repeated&&n("this%s=[]",v.safeProp(i.name));return n("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},w.fromJSON=function(t,i){var n=new w(t,i.options);n.extensions=i.extensions,n.reserved=i.reserved;for(var r=Object.keys(i.fields),e=0;e<r.length;++e)n.add((void 0!==i.fields[r[e]].keyType?f:a).fromJSON(r[e],i.fields[r[e]]));if(i.oneofs)for(r=Object.keys(i.oneofs),e=0;e<r.length;++e)n.add(h.fromJSON(r[e],i.oneofs[r[e]]));if(i.nested)for(r=Object.keys(i.nested),e=0;e<r.length;++e){var s=i.nested[r[e]];n.add((void 0!==s.id?a:void 0!==s.fields?w:void 0!==s.values?u:void 0!==s.methods?c:o).fromJSON(r[e],s))}return i.extensions&&i.extensions.length&&(n.extensions=i.extensions),i.reserved&&i.reserved.length&&(n.reserved=i.reserved),i.group&&(n.group=!0),i.comment&&(n.comment=i.comment),n},w.prototype.toJSON=function(t){var i=o.prototype.toJSON.call(this,t),n=!!t&&Boolean(t.keepComments);return v.toObject(["options",i&&i.options||void 0,"oneofs",o.arrayToJSON(this.oneofsArray,t),"fields",o.arrayToJSON(this.fieldsArray.filter(function(t){return!t.declaringField}),t)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",i&&i.nested||void 0,"comment",n?this.comment:void 0])},w.prototype.resolveAll=function(){for(var t=this.fieldsArray,i=0;i<t.length;)t[i++].resolve();for(var n=this.oneofsArray,i=0;i<n.length;)n[i++].resolve();return o.prototype.resolveAll.call(this)},w.prototype.get=function(t){return this.fields[t]||this.oneofs&&this.oneofs[t]||this.nested&&this.nested[t]||null},w.prototype.add=function(t){if(this.get(t.name))throw Error("duplicate name '"+t.name+"' in "+this);if(t instanceof a&&void 0===t.extend){if((this.S||this.fieldsById)[t.id])throw Error("duplicate id "+t.id+" in "+this);if(this.isReservedId(t.id))throw Error("id "+t.id+" is reserved in "+this);if(this.isReservedName(t.name))throw Error("name '"+t.name+"' is reserved in "+this);return t.parent&&t.parent.remove(t),(this.fields[t.name]=t).message=this,t.onAdd(this),r(this)}return t instanceof h?(this.oneofs||(this.oneofs={}),(this.oneofs[t.name]=t).onAdd(this),r(this)):o.prototype.add.call(this,t)},w.prototype.remove=function(t){if(t instanceof a&&void 0===t.extend){if(!this.fields||this.fields[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.fields[t.name],t.parent=null,t.onRemove(this),r(this)}if(t instanceof h){if(!this.oneofs||this.oneofs[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.oneofs[t.name],t.parent=null,t.onRemove(this),r(this)}return o.prototype.remove.call(this,t)},w.prototype.isReservedId=function(t){return o.isReservedId(this.reserved,t)},w.prototype.isReservedName=function(t){return o.isReservedName(this.reserved,t)},w.prototype.create=function(t){return new this.ctor(t)},w.prototype.setup=function(){for(var t=this.fullName,i=[],n=0;n<this.fieldsArray.length;++n)i.push(this.A[n].resolve().resolvedType);this.encode=d(this)({Writer:l,types:i,util:v}),this.decode=y(this)({Reader:s,types:i,util:v}),this.verify=b(this)({types:i,util:v}),this.fromObject=p.fromObject(this)({types:i,util:v}),this.toObject=p.toObject(this)({types:i,util:v});var r=m[t];return r&&((t=Object.create(this)).fromObject=this.fromObject,this.fromObject=r.fromObject.bind(t),t.toObject=this.toObject,this.toObject=r.toObject.bind(t)),this},w.prototype.encode=function(t,i){return this.setup().encode(t,i)},w.prototype.encodeDelimited=function(t,i){return this.encode(t,i&&i.len?i.fork():i).ldelim()},w.prototype.decode=function(t,i){return this.setup().decode(t,i)},w.prototype.decodeDelimited=function(t){return t instanceof s||(t=s.create(t)),this.decode(t,t.uint32())},w.prototype.verify=function(t){return this.setup().verify(t)},w.prototype.fromObject=function(t){return this.setup().fromObject(t)},w.prototype.toObject=function(t,i){return this.setup().toObject(t,i)},w.d=function(i){return function(t){v.decorateType(t,i)}}},function(t,i,n){"use strict";t.exports=s;var o=n(5);((s.prototype=Object.create(o.prototype)).constructor=s).className="MapField";var r=n(7),u=n(0);function s(t,i,n,r,e,s){if(o.call(this,t,i,r,void 0,void 0,e,s),!u.isString(n))throw TypeError("keyType must be a string");this.keyType=n,this.resolvedKeyType=null,this.map=!0}s.fromJSON=function(t,i){return new s(t,i.id,i.keyType,i.type,i.options,i.comment)},s.prototype.toJSON=function(t){t=!!t&&Boolean(t.keepComments);return u.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},s.prototype.resolve=function(){if(this.resolved)return this;if(void 0===r.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return o.prototype.resolve.call(this)},s.d=function(n,r,e){return"function"==typeof e?e=u.decorateType(e).name:e&&"object"==typeof e&&(e=u.decorateEnum(e).name),function(t,i){u.decorateType(t.constructor).add(new s(i,n,r,e))}}},function(t,i,n){"use strict";t.exports=o;var r=n(6);((o.prototype=Object.create(r.prototype)).constructor=o).className="Service";var s=n(21),u=n(0),h=n(15);function o(t,i){r.call(this,t,i),this.methods={},this.L=null}function e(t){return t.L=null,t}o.fromJSON=function(t,i){var n=new o(t,i.options);if(i.methods)for(var r=Object.keys(i.methods),e=0;e<r.length;++e)n.add(s.fromJSON(r[e],i.methods[r[e]]));return i.nested&&n.addJSON(i.nested),n.comment=i.comment,n},o.prototype.toJSON=function(t){var i=r.prototype.toJSON.call(this,t),n=!!t&&Boolean(t.keepComments);return u.toObject(["options",i&&i.options||void 0,"methods",r.arrayToJSON(this.methodsArray,t)||{},"nested",i&&i.nested||void 0,"comment",n?this.comment:void 0])},Object.defineProperty(o.prototype,"methodsArray",{get:function(){return this.L||(this.L=u.toArray(this.methods))}}),o.prototype.get=function(t){return this.methods[t]||r.prototype.get.call(this,t)},o.prototype.resolveAll=function(){for(var t=this.methodsArray,i=0;i<t.length;++i)t[i].resolve();return r.prototype.resolve.call(this)},o.prototype.add=function(t){if(this.get(t.name))throw Error("duplicate name '"+t.name+"' in "+this);return t instanceof s?e((this.methods[t.name]=t).parent=this):r.prototype.add.call(this,t)},o.prototype.remove=function(t){if(t instanceof s){if(this.methods[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.methods[t.name],t.parent=null,e(this)}return r.prototype.remove.call(this,t)},o.prototype.create=function(t,i,n){for(var r,e=new h.Service(t,i,n),s=0;s<this.methodsArray.length;++s){var o=u.lcFirst((r=this.L[s]).resolve().name).replace(/[^$\w_]/g,"");e[o]=u.codegen(["r","c"],u.isReserved(o)?o+"_":o)("return this.rpcCall(m,q,s,r,c)")({m:r,q:r.resolvedRequestType.ctor,s:r.resolvedResponseType.ctor})}return e}},function(t,i,n){"use strict";t.exports=r;var a=n(4);((r.prototype=Object.create(a.prototype)).constructor=r).className="Method";var f=n(0);function r(t,i,n,r,e,s,o,u,h){if(f.isObject(e)?(o=e,e=s=void 0):f.isObject(s)&&(o=s,s=void 0),void 0!==i&&!f.isString(i))throw TypeError("type must be a string");if(!f.isString(n))throw TypeError("requestType must be a string");if(!f.isString(r))throw TypeError("responseType must be a string");a.call(this,t,o),this.type=i||"rpc",this.requestType=n,this.requestStream=!!e||void 0,this.responseType=r,this.responseStream=!!s||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=u,this.parsedOptions=h}r.fromJSON=function(t,i){return new r(t,i.type,i.requestType,i.responseType,i.requestStream,i.responseStream,i.options,i.comment,i.parsedOptions)},r.prototype.toJSON=function(t){t=!!t&&Boolean(t.keepComments);return f.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])},r.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),a.prototype.resolve.call(this))}},function(t,i,n){"use strict";t.exports=function(t){var i=a.codegen(["r","l"],t.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(t.fieldsArray.filter(function(t){return t.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");t.group&&i("if((t&7)===4)")("break");i("switch(t>>>3){");for(var n=0;n<t.fieldsArray.length;++n){var r=t.A[n].resolve(),e=r.resolvedType instanceof u?"int32":r.type,s="m"+a.safeProp(r.name);i("case %i:",r.id),r.map?(i("if(%s===util.emptyObject)",s)("%s={}",s)("var c2 = r.uint32()+r.pos"),void 0!==h.defaults[r.keyType]?i("k=%j",h.defaults[r.keyType]):i("k=null"),void 0!==h.defaults[e]?i("value=%j",h.defaults[e]):i("value=null"),i("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",r.keyType)("case 2:"),void 0===h.basic[e]?i("value=types[%i].decode(r,r.uint32())",n):i("value=r.%s()",e),i("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),void 0!==h.long[r.keyType]?i('%s[typeof k==="object"?util.longToHash(k):k]=value',s):i("%s[k]=value",s)):r.repeated?(i("if(!(%s&&%s.length))",s,s)("%s=[]",s),void 0!==h.packed[e]&&i("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",s,e)("}else"),void 0===h.basic[e]?i(r.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",s,n):i("%s.push(r.%s())",s,e)):void 0===h.basic[e]?i(r.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",s,n):i("%s=r.%s()",s,e),i("break")}for(i("default:")("r.skipType(t&7)")("break")("}")("}"),n=0;n<t.A.length;++n){var o=t.A[n];o.required&&i("if(!m.hasOwnProperty(%j))",o.name)("throw util.ProtocolError(%j,{instance:m})","missing required '"+o.name+"'")}return i("return m")};var u=n(3),h=n(7),a=n(0)},function(t,i,n){"use strict";t.exports=function(t){var i=h.codegen(["m"],t.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),n=t.oneofsArray,r={};n.length&&i("var p={}");for(var e=0;e<t.fieldsArray.length;++e){var s,o=t.A[e].resolve(),u="m"+h.safeProp(o.name);o.optional&&i("if(%s!=null&&m.hasOwnProperty(%j)){",u,o.name),o.map?(i("if(!util.isObject(%s))",u)("return%j",a(o,"object"))("var k=Object.keys(%s)",u)("for(var i=0;i<k.length;++i){"),function(t,i,n){switch(i.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.key32Re.test(%s))",n)("return%j",a(i,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.key64Re.test(%s))",n)("return%j",a(i,"integer|Long key"));break;case"bool":t("if(!util.key2Re.test(%s))",n)("return%j",a(i,"boolean key"))}}(i,o,"k[i]"),f(i,o,e,u+"[k[i]]")("}")):o.repeated?(i("if(!Array.isArray(%s))",u)("return%j",a(o,"array"))("for(var i=0;i<%s.length;++i){",u),f(i,o,e,u+"[i]")("}")):(o.partOf&&(s=h.safeProp(o.partOf.name),1===r[o.partOf.name]&&i("if(p%s===1)",s)("return%j",o.partOf.name+": multiple values"),r[o.partOf.name]=1,i("p%s=1",s)),f(i,o,e,u)),o.optional&&i("}")}return i("return null")};var o=n(3),h=n(0);function a(t,i){return t.name+": "+i+(t.repeated&&"array"!==i?"[]":t.map&&"object"!==i?"{k:"+t.keyType+"}":"")+" expected"}function f(t,i,n,r){if(i.resolvedType)if(i.resolvedType instanceof o){t("switch(%s){",r)("default:")("return%j",a(i,"enum value"));for(var e=Object.keys(i.resolvedType.values),s=0;s<e.length;++s)t("case %i:",i.resolvedType.values[e[s]]);t("break")("}")}else t("{")("var e=types[%i].verify(%s);",n,r)("if(e)")("return%j+e",i.name+".")("}");else switch(i.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.isInteger(%s))",r)("return%j",a(i,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",r,r,r,r)("return%j",a(i,"integer|Long"));break;case"float":case"double":t('if(typeof %s!=="number")',r)("return%j",a(i,"number"));break;case"bool":t('if(typeof %s!=="boolean")',r)("return%j",a(i,"boolean"));break;case"string":t("if(!util.isString(%s))",r)("return%j",a(i,"string"));break;case"bytes":t('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',r,r,r)("return%j",a(i,"buffer"))}return t}},function(t,i,n){"use strict";var i=i,l=n(3),v=n(0);function o(t,i,n,r){if(i.resolvedType)if(i.resolvedType instanceof l){t("switch(d%s){",r);for(var e=i.resolvedType.values,s=Object.keys(e),o=0;o<s.length;++o)i.repeated&&e[s[o]]===i.typeDefault&&t("default:"),t("case%j:",s[o])("case %i:",e[s[o]])("m%s=%j",r,e[s[o]])("break");t("}")}else t('if(typeof d%s!=="object")',r)("throw TypeError(%j)",i.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",r,n,r);else{var u=!1;switch(i.type){case"double":case"float":t("m%s=Number(d%s)",r,r);break;case"uint32":case"fixed32":t("m%s=d%s>>>0",r,r);break;case"int32":case"sint32":case"sfixed32":t("m%s=d%s|0",r,r);break;case"uint64":u=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",r,r,u)('else if(typeof d%s==="string")',r)("m%s=parseInt(d%s,10)",r,r)('else if(typeof d%s==="number")',r)("m%s=d%s",r,r)('else if(typeof d%s==="object")',r)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",r,r,r,u?"true":"");break;case"bytes":t('if(typeof d%s==="string")',r)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",r,r,r)("else if(d%s.length)",r)("m%s=d%s",r,r);break;case"string":t("m%s=String(d%s)",r,r);break;case"bool":t("m%s=Boolean(d%s)",r,r)}}return t}function d(t,i,n,r){if(i.resolvedType)i.resolvedType instanceof l?t("d%s=o.enums===String?types[%i].values[m%s]:m%s",r,n,r,r):t("d%s=types[%i].toObject(m%s,o)",r,n,r);else{var e=!1;switch(i.type){case"double":case"float":t("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",r,r,r,r);break;case"uint64":e=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t('if(typeof m%s==="number")',r)("d%s=o.longs===String?String(m%s):m%s",r,r,r)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",r,r,r,r,e?"true":"",r);break;case"bytes":t("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",r,r,r,r,r);break;default:t("d%s=m%s",r,r)}}return t}i.fromObject=function(t){var i=t.fieldsArray,n=v.codegen(["d"],t.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!i.length)return n("return new this.ctor");n("var m=new this.ctor");for(var r=0;r<i.length;++r){var e=i[r].resolve(),s=v.safeProp(e.name);e.map?(n("if(d%s){",s)('if(typeof d%s!=="object")',s)("throw TypeError(%j)",e.fullName+": object expected")("m%s={}",s)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",s),o(n,e,r,s+"[ks[i]]")("}")("}")):e.repeated?(n("if(d%s){",s)("if(!Array.isArray(d%s))",s)("throw TypeError(%j)",e.fullName+": array expected")("m%s=[]",s)("for(var i=0;i<d%s.length;++i){",s),o(n,e,r,s+"[i]")("}")("}")):(e.resolvedType instanceof l||n("if(d%s!=null){",s),o(n,e,r,s),e.resolvedType instanceof l||n("}"))}return n("return m")},i.toObject=function(t){var i=t.fieldsArray.slice().sort(v.compareFieldsById);if(!i.length)return v.codegen()("return {}");for(var n=v.codegen(["m","o"],t.name+"$toObject")("if(!o)")("o={}")("var d={}"),r=[],e=[],s=[],o=0;o<i.length;++o)i[o].partOf||(i[o].resolve().repeated?r:i[o].map?e:s).push(i[o]);if(r.length){for(n("if(o.arrays||o.defaults){"),o=0;o<r.length;++o)n("d%s=[]",v.safeProp(r[o].name));n("}")}if(e.length){for(n("if(o.objects||o.defaults){"),o=0;o<e.length;++o)n("d%s={}",v.safeProp(e[o].name));n("}")}if(s.length){for(n("if(o.defaults){"),o=0;o<s.length;++o){var u,h=s[o],a=v.safeProp(h.name);h.resolvedType instanceof l?n("d%s=o.enums===String?%j:%j",a,h.resolvedType.valuesById[h.typeDefault],h.typeDefault):h.long?n("if(util.Long){")("var n=new util.Long(%i,%i,%j)",h.typeDefault.low,h.typeDefault.high,h.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",a)("}else")("d%s=o.longs===String?%j:%i",a,h.typeDefault.toString(),h.typeDefault.toNumber()):h.bytes?(u="["+Array.prototype.slice.call(h.typeDefault).join(",")+"]",n("if(o.bytes===String)d%s=%j",a,String.fromCharCode.apply(String,h.typeDefault))("else{")("d%s=%s",a,u)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",a,a)("}")):n("d%s=%j",a,h.typeDefault)}n("}")}for(var f=!1,o=0;o<i.length;++o){var h=i[o],c=t.A.indexOf(h),a=v.safeProp(h.name);h.map?(f||(f=!0,n("var ks2")),n("if(m%s&&(ks2=Object.keys(m%s)).length){",a,a)("d%s={}",a)("for(var j=0;j<ks2.length;++j){"),d(n,h,c,a+"[ks2[j]]")("}")):h.repeated?(n("if(m%s&&m%s.length){",a,a)("d%s=[]",a)("for(var j=0;j<m%s.length;++j){",a),d(n,h,c,a+"[j]")("}")):(n("if(m%s!=null&&m.hasOwnProperty(%j)){",a,h.name),d(n,h,c,a),h.partOf&&n("if(o.oneofs)")("d%s=%j",v.safeProp(h.partOf.name),h.name)),n("}")}return n("return d")}},function(t,i,n){"use strict";var i=i,s=n(12);i[".google.protobuf.Any"]={fromObject:function(t){if(t&&t["@type"]){var i=t["@type"].substring(t["@type"].lastIndexOf("/")+1),n=this.lookup(i);if(n){i="."===t["@type"].charAt(0)?t["@type"].substr(1):t["@type"];return-1===i.indexOf("/")&&(i="/"+i),this.create({type_url:i,value:n.encode(n.fromObject(t)).finish()})}}return this.fromObject(t)},toObject:function(t,i){var n,r="",e="";if(i&&i.json&&t.type_url&&t.value&&(e=t.type_url.substring(t.type_url.lastIndexOf("/")+1),r=t.type_url.substring(0,t.type_url.lastIndexOf("/")+1),(n=this.lookup(e))&&(t=n.decode(t.value))),t instanceof this.ctor||!(t instanceof s))return this.toObject(t,i);i=t.$type.toObject(t,i),t="."===t.$type.fullName[0]?t.$type.fullName.substr(1):t.$type.fullName;return i["@type"]=e=(r=""===r?"type.googleapis.com/":r)+t,i}}},function(t,i,n){"use strict";t.exports=h;var r=n(6);((h.prototype=Object.create(r.prototype)).constructor=h).className="Root";var e,v,d,s=n(5),o=n(3),u=n(11),y=n(0);function h(t){r.call(this,"",t),this.deferred=[],this.files=[]}function b(){}h.fromJSON=function(t,i){return i=i||new h,t.options&&i.setOptions(t.options),i.addJSON(t.nested)},h.prototype.resolvePath=y.path.resolve,h.prototype.fetch=y.fetch,h.prototype.load=function t(i,s,e){"function"==typeof s&&(e=s,s=void 0);var o=this;if(!e)return y.asPromise(t,o,i,s);var u=e===b;function h(t,i){if(e){var n=e;if(e=null,u)throw t;n(t,i)}}function a(t){var i=t.lastIndexOf("google/protobuf/");if(-1<i){i=t.substring(i);if(i in d)return i}return null}function f(t,i){try{if(y.isString(i)&&"{"===i.charAt(0)&&(i=JSON.parse(i)),y.isString(i)){v.filename=t;var n,r=v(i,o,s),e=0;if(r.imports)for(;e<r.imports.length;++e)(n=a(r.imports[e])||o.resolvePath(t,r.imports[e]))&&c(n);if(r.weakImports)for(e=0;e<r.weakImports.length;++e)(n=a(r.weakImports[e])||o.resolvePath(t,r.weakImports[e]))&&c(n,!0)}else o.setOptions(i.options).addJSON(i.nested)}catch(t){h(t)}u||l||h(null,o)}function c(n,r){if(!(-1<o.files.indexOf(n)))if(o.files.push(n),n in d)u?f(n,d[n]):(++l,setTimeout(function(){--l,f(n,d[n])}));else if(u){var t;try{t=y.fs.readFileSync(n).toString("utf8")}catch(t){return void(r||h(t))}f(n,t)}else++l,o.fetch(n,function(t,i){--l,e&&(t?r?l||h(null,o):h(t):f(n,i))})}var l=0;y.isString(i)&&(i=[i]);for(var n,r=0;r<i.length;++r)(n=o.resolvePath("",i[r]))&&c(n);if(u)return o;l||h(null,o)},h.prototype.loadSync=function(t,i){if(!y.isNode)throw Error("not supported");return this.load(t,i,b)},h.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(t){return"'extend "+t.extend+"' in "+t.parent.fullName}).join(", "));return r.prototype.resolveAll.call(this)};var a=/^[A-Z]/;function f(t,i){var n=i.parent.lookup(i.extend);if(n){var r=new s(i.fullName,i.id,i.type,i.rule,void 0,i.options);return(r.declaringField=i).extensionField=r,n.add(r),1}}h.prototype.O=function(t){if(t instanceof s)void 0===t.extend||t.extensionField||f(0,t)||this.deferred.push(t);else if(t instanceof o)a.test(t.name)&&(t.parent[t.name]=t.values);else if(!(t instanceof u)){if(t instanceof e)for(var i=0;i<this.deferred.length;)f(0,this.deferred[i])?this.deferred.splice(i,1):++i;for(var n=0;n<t.nestedArray.length;++n)this.O(t.k[n]);a.test(t.name)&&(t.parent[t.name]=t)}},h.prototype.M=function(t){var i;if(t instanceof s)void 0!==t.extend&&(t.extensionField?(t.extensionField.parent.remove(t.extensionField),t.extensionField=null):-1<(i=this.deferred.indexOf(t))&&this.deferred.splice(i,1));else if(t instanceof o)a.test(t.name)&&delete t.parent[t.name];else if(t instanceof r){for(var n=0;n<t.nestedArray.length;++n)this.M(t.k[n]);a.test(t.name)&&delete t.parent[t.name]}},h._=function(t,i,n){e=t,v=i,d=n}},function(t,i,n){"use strict";t.exports=n(29)},function(t,i,n){"use strict";!function(s){function e(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=n(47),t=(n(48),function(){function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.P=null,this.D=400,this.F=null,this.C=null,this.B=new Map}var i,n,r;return i=t,(n=[{key:"url",get:function(){return this.P}},{key:"status",get:function(){return this.D}},{key:"responseType",get:function(){return this.F},set:function(t){this.F=t}},{key:"response",get:function(){return this.C}},{key:"open",value:function(t,i){"GET"==t&&(this.P=i)}},{key:"addEventListener",value:function(t,i){var n=this.B.get(t);n||this.B.set(t,n=[]),n.push(i)}},{key:"send",value:function(){var i=this,t=this.P,n=o.createReadStream(t),r=[],e=0;this.C=null,n.on("readable",function(){var t=n.read();null!=t&&(r.push(t),e+=t.length,i.C?i.C=s.concat([i.C,new s(t)],e):i.C=new s(t))}),n.on("end",function(){i.D=200,i.U("load")}),n.on("error",function(t){i.D=400,i.U("error",t)})}}])&&e(i.prototype,n),r&&e(i,r),t}());Object.assign(t.prototype,{U:function(t,i){if(0!=this.B.size){var n=this.B.get(t);if(n)for(var r=0;r<n.length;r++)n[r]&&n[r](i)}}}),i.a=t}.call(this,n(43).Buffer)},function(t,i,n){"use strict";var r=t.exports=n(30);r.build="light",r.load=function(t,i,n){return(i="function"==typeof i?(n=i,new r.Root):i||new r.Root).load(t,n)},r.loadSync=function(t,i){return(i=i||new r.Root).loadSync(t)},r.encoder=n(17),r.decoder=n(22),r.verifier=n(23),r.converter=n(24),r.ReflectionObject=n(4),r.Namespace=n(6),r.Root=n(26),r.Enum=n(3),r.Type=n(18),r.Field=n(5),r.OneOf=n(11),r.MapField=n(19),r.Service=n(20),r.Method=n(21),r.Message=n(12),r.wrappers=n(25),r.types=n(7),r.util=n(0),r.ReflectionObject._(r.Root),r.Namespace._(r.Type,r.Service,r.Enum),r.Root._(r.Type),r.Field._(r.Type)},function(t,i,n){"use strict";var r=i;function e(){r.util._(),r.Writer._(r.BufferWriter),r.Reader._(r.BufferReader)}r.build="minimal",r.Writer=n(9),r.BufferWriter=n(37),r.Reader=n(10),r.BufferReader=n(38),r.util=n(2),r.rpc=n(15),r.roots=n(16),r.configure=e,e()},function(t,i,n){"use strict";i.length=function(t){var i=t.length;if(!i)return 0;for(var n=0;1<--i%4&&"="===t.charAt(i);)++n;return Math.ceil(3*t.length)/4-n};for(var a=new Array(64),h=new Array(123),r=0;r<64;)h[a[r]=r<26?r+65:r<52?r+71:r<62?r-4:r-59|43]=r++;i.encode=function(t,i,n){for(var r,e=null,s=[],o=0,u=0;i<n;){var h=t[i++];switch(u){case 0:s[o++]=a[h>>2],r=(3&h)<<4,u=1;break;case 1:s[o++]=a[r|h>>4],r=(15&h)<<2,u=2;break;case 2:s[o++]=a[r|h>>6],s[o++]=a[63&h],u=0}8191<o&&((e=e||[]).push(String.fromCharCode.apply(String,s)),o=0)}return u&&(s[o++]=a[r],s[o++]=61,1===u&&(s[o++]=61)),e?(o&&e.push(String.fromCharCode.apply(String,s.slice(0,o))),e.join("")):String.fromCharCode.apply(String,s.slice(0,o))};var f="invalid encoding";i.decode=function(t,i,n){for(var r,e=n,s=0,o=0;o<t.length;){var u=t.charCodeAt(o++);if(61===u&&1<s)break;if(void 0===(u=h[u]))throw Error(f);switch(s){case 0:r=u,s=1;break;case 1:i[n++]=r<<2|(48&u)>>4,r=u,s=2;break;case 2:i[n++]=(15&r)<<4|(60&u)>>2,r=u,s=3;break;case 3:i[n++]=(3&r)<<6|u,s=0}}if(1===s)throw Error(f);return n-e},i.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}},function(t,i,n){"use strict";function r(){this.B={}}(t.exports=r).prototype.on=function(t,i,n){return(this.B[t]||(this.B[t]=[])).push({fn:i,ctx:n||this}),this},r.prototype.off=function(t,i){if(void 0===t)this.B={};else if(void 0===i)this.B[t]=[];else for(var n=this.B[t],r=0;r<n.length;)n[r].fn===i?n.splice(r,1):++r;return this},r.prototype.emit=function(t){var i=this.B[t];if(i){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<i.length;)i[r].fn.apply(i[r++].ctx,n)}return this}},function(t,i,n){"use strict";function r(t){function i(t,i,n,r){var e=i<0?1:0;0===(i=e?-i:i)?t(0<1/i?0:2147483648,n,r):isNaN(i)?t(2143289344,n,r):t(34028234663852886e22<i?(e<<31|2139095040)>>>0:i<11754943508222875e-54?(e<<31|Math.round(i/1401298464324817e-60))>>>0:(e<<31|(e=Math.floor(Math.log(i)/Math.LN2))+127<<23|8388607&Math.round(i*Math.pow(2,-e)*8388608))>>>0,n,r)}function n(t,i,n){t=t(i,n),i=2*(t>>31)+1,n=t>>>23&255,t&=8388607;return 255==n?t?NaN:1/0*i:0==n?1401298464324817e-60*i*t:i*Math.pow(2,n-150)*(8388608+t)}function r(t,i,n){u[0]=t,i[n]=h[0],i[n+1]=h[1],i[n+2]=h[2],i[n+3]=h[3]}function e(t,i,n){u[0]=t,i[n]=h[3],i[n+1]=h[2],i[n+2]=h[1],i[n+3]=h[0]}function s(t,i){return h[0]=t[i],h[1]=t[i+1],h[2]=t[i+2],h[3]=t[i+3],u[0]}function o(t,i){return h[3]=t[i],h[2]=t[i+1],h[1]=t[i+2],h[0]=t[i+3],u[0]}var u,h,a,f,c;function l(t,i,n,r,e,s){var o,u,h=r<0?1:0;0===(r=h?-r:r)?(t(0,e,s+i),t(0<1/r?0:2147483648,e,s+n)):isNaN(r)?(t(0,e,s+i),t(2146959360,e,s+n)):17976931348623157e292<r?(t(0,e,s+i),t((h<<31|2146435072)>>>0,e,s+n)):r<22250738585072014e-324?(t((o=r/5e-324)>>>0,e,s+i),t((h<<31|o/4294967296)>>>0,e,s+n)):(1024===(u=Math.floor(Math.log(r)/Math.LN2))&&(u=1023),t(4503599627370496*(o=r*Math.pow(2,-u))>>>0,e,s+i),t((h<<31|u+1023<<20|1048576*o&1048575)>>>0,e,s+n))}function v(t,i,n,r,e){i=t(r,e+i),r=t(r,e+n),e=2*(r>>31)+1,n=r>>>20&2047,i=4294967296*(1048575&r)+i;return 2047==n?i?NaN:1/0*e:0==n?5e-324*e*i:e*Math.pow(2,n-1075)*(i+4503599627370496)}function d(t,i,n){a[0]=t,i[n]=f[0],i[n+1]=f[1],i[n+2]=f[2],i[n+3]=f[3],i[n+4]=f[4],i[n+5]=f[5],i[n+6]=f[6],i[n+7]=f[7]}function y(t,i,n){a[0]=t,i[n]=f[7],i[n+1]=f[6],i[n+2]=f[5],i[n+3]=f[4],i[n+4]=f[3],i[n+5]=f[2],i[n+6]=f[1],i[n+7]=f[0]}function b(t,i){return f[0]=t[i],f[1]=t[i+1],f[2]=t[i+2],f[3]=t[i+3],f[4]=t[i+4],f[5]=t[i+5],f[6]=t[i+6],f[7]=t[i+7],a[0]}function p(t,i){return f[7]=t[i],f[6]=t[i+1],f[5]=t[i+2],f[4]=t[i+3],f[3]=t[i+4],f[2]=t[i+5],f[1]=t[i+6],f[0]=t[i+7],a[0]}return"undefined"!=typeof Float32Array?(u=new Float32Array([-0]),h=new Uint8Array(u.buffer),c=128===h[3],t.writeFloatLE=c?r:e,t.writeFloatBE=c?e:r,t.readFloatLE=c?s:o,t.readFloatBE=c?o:s):(t.writeFloatLE=i.bind(null,m),t.writeFloatBE=i.bind(null,w),t.readFloatLE=n.bind(null,_),t.readFloatBE=n.bind(null,g)),"undefined"!=typeof Float64Array?(a=new Float64Array([-0]),f=new Uint8Array(a.buffer),c=128===f[7],t.writeDoubleLE=c?d:y,t.writeDoubleBE=c?y:d,t.readDoubleLE=c?b:p,t.readDoubleBE=c?p:b):(t.writeDoubleLE=l.bind(null,m,0,4),t.writeDoubleBE=l.bind(null,w,4,0),t.readDoubleLE=v.bind(null,_,0,4),t.readDoubleBE=v.bind(null,g,4,0)),t}function m(t,i,n){i[n]=255&t,i[n+1]=t>>>8&255,i[n+2]=t>>>16&255,i[n+3]=t>>>24}function w(t,i,n){i[n]=t>>>24,i[n+1]=t>>>16&255,i[n+2]=t>>>8&255,i[n+3]=255&t}function _(t,i){return(t[i]|t[i+1]<<8|t[i+2]<<16|t[i+3]<<24)>>>0}function g(t,i){return(t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3])>>>0}t.exports=r(r)},function(t,i,n){"use strict";i.length=function(t){for(var i,n=0,r=0;r<t.length;++r)(i=t.charCodeAt(r))<128?n+=1:i<2048?n+=2:55296==(64512&i)&&56320==(64512&t.charCodeAt(r+1))?(++r,n+=4):n+=3;return n},i.read=function(t,i,n){if(n-i<1)return"";for(var r,e=null,s=[],o=0;i<n;)(r=t[i++])<128?s[o++]=r:191<r&&r<224?s[o++]=(31&r)<<6|63&t[i++]:239<r&&r<365?(r=((7&r)<<18|(63&t[i++])<<12|(63&t[i++])<<6|63&t[i++])-65536,s[o++]=55296+(r>>10),s[o++]=56320+(1023&r)):s[o++]=(15&r)<<12|(63&t[i++])<<6|63&t[i++],8191<o&&((e=e||[]).push(String.fromCharCode.apply(String,s)),o=0);return e?(o&&e.push(String.fromCharCode.apply(String,s.slice(0,o))),e.join("")):String.fromCharCode.apply(String,s.slice(0,o))},i.write=function(t,i,n){for(var r,e,s=n,o=0;o<t.length;++o)(r=t.charCodeAt(o))<128?i[n++]=r:(r<2048?i[n++]=r>>6|192:(55296==(64512&r)&&56320==(64512&(e=t.charCodeAt(o+1)))?(++o,i[n++]=(r=65536+((1023&r)<<10)+(1023&e))>>18|240,i[n++]=r>>12&63|128):i[n++]=r>>12|224,i[n++]=r>>6&63|128),i[n++]=63&r|128);return n-s}},function(t,i,n){"use strict";t.exports=function(i,n,t){var r=t||8192,e=r>>>1,s=null,o=r;return function(t){if(t<1||e<t)return i(t);r<o+t&&(s=i(r),o=0);t=n.call(s,o,o+=t);return 7&o&&(o=1+(7|o)),t}}},function(t,i,n){"use strict";t.exports=e;var r=n(2);function e(t,i){this.lo=t>>>0,this.hi=i>>>0}var s=e.zero=new e(0,0);s.toNumber=function(){return 0},s.zzEncode=s.zzDecode=function(){return this},s.length=function(){return 1};e.zeroHash="\0\0\0\0\0\0\0\0";e.fromNumber=function(t){if(0===t)return s;var i=t<0,n=(t=i?-t:t)>>>0,t=(t-n)/4294967296>>>0;return i&&(t=~t>>>0,n=~n>>>0,4294967295<++n&&(n=0,4294967295<++t&&(t=0))),new e(n,t)},e.from=function(t){if("number"==typeof t)return e.fromNumber(t);if(r.isString(t)){if(!r.Long)return e.fromNumber(parseInt(t,10));t=r.Long.fromString(t)}return t.low||t.high?new e(t.low>>>0,t.high>>>0):s},e.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var i=1+~this.lo>>>0,t=~this.hi>>>0;return-(i+4294967296*(t=!i?t+1>>>0:t))}return this.lo+4294967296*this.hi},e.prototype.toLong=function(t){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var o=String.prototype.charCodeAt;e.fromHash=function(t){return"\0\0\0\0\0\0\0\0"===t?s:new e((o.call(t,0)|o.call(t,1)<<8|o.call(t,2)<<16|o.call(t,3)<<24)>>>0,(o.call(t,4)|o.call(t,5)<<8|o.call(t,6)<<16|o.call(t,7)<<24)>>>0)},e.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},e.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},e.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},e.prototype.length=function(){var t=this.lo,i=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0==n?0==i?t<16384?t<128?1:2:t<2097152?3:4:i<16384?i<128?5:6:i<2097152?7:8:n<128?9:10}},function(t,i,n){"use strict";t.exports=s;var r=n(9);(s.prototype=Object.create(r.prototype)).constructor=s;var e=n(2);function s(){r.call(this)}function o(t,i,n){t.length<40?e.utf8.write(t,i,n):i.utf8Write?i.utf8Write(t,n):i.write(t,n)}s._=function(){s.alloc=e.v,s.writeBytesBuffer=e.Buffer&&e.Buffer.prototype instanceof Uint8Array&&"set"===e.Buffer.prototype.set.name?function(t,i,n){i.set(t,n)}:function(t,i,n){if(t.copy)t.copy(i,n,0,t.length);else for(var r=0;r<t.length;)i[n++]=t[r++]}},s.prototype.bytes=function(t){var i=(t=e.isString(t)?e.u(t,"base64"):t).length>>>0;return this.uint32(i),i&&this.T(s.writeBytesBuffer,i,t),this},s.prototype.string=function(t){var i=e.Buffer.byteLength(t);return this.uint32(i),i&&this.T(o,i,t),this},s._()},function(t,i,n){"use strict";t.exports=s;var r=n(10);(s.prototype=Object.create(r.prototype)).constructor=s;var e=n(2);function s(t){r.call(this,t)}s._=function(){e.Buffer&&(s.prototype.R=e.Buffer.prototype.slice)},s.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))},s._()},function(t,i,n){"use strict";t.exports=r;var u=n(2);function r(t,i,n){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");u.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(i),this.responseDelimited=Boolean(n)}((r.prototype=Object.create(u.EventEmitter.prototype)).constructor=r).prototype.rpcCall=function t(n,i,r,e,s){if(!e)throw TypeError("request must be specified");var o=this;if(!s)return u.asPromise(t,o,n,i,r,e);if(o.rpcImpl)try{return o.rpcImpl(n,i[o.requestDelimited?"encodeDelimited":"encode"](e).finish(),function(t,i){if(t)return o.emit("error",t,n),s(t);if(null!==i){if(!(i instanceof r))try{i=r[o.responseDelimited?"decodeDelimited":"decode"](i)}catch(t){return o.emit("error",t,n),s(t)}return o.emit("data",i,n),s(null,i)}o.end(!0)})}catch(t){return o.emit("error",t,n),void setTimeout(function(){s(t)},0)}else setTimeout(function(){s(Error("already ended"))},0)},r.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(t,i,n){"use strict";function r(i,n){"string"==typeof i&&(n=i,i=void 0);var h=[];function a(t){if("string"!=typeof t){var i="return "+(i=f());if(t){for(var n=Object.keys(t),r=new Array(n.length+1),e=new Array(n.length),s=0;s<n.length;)r[s]=n[s],e[s]=t[n[s++]];return r[s]=i,Function.apply(null,r).apply(null,e)}return Function(i)()}for(var o=new Array(arguments.length-1),u=0;u<o.length;)o[u]=arguments[++u];if(u=0,t=t.replace(/%([%dfijs])/g,function(t,i){var n=o[u++];switch(i){case"d":case"f":return String(Number(n));case"i":return String(Math.floor(n));case"j":return JSON.stringify(n);case"s":return String(n)}return"%"}),u!==o.length)throw Error("parameter count mismatch");return h.push(t),a}function f(t){return"function "+(t||n||"")+"("+(i&&i.join(",")||"")+"){\n  "+h.join("\n  ")+"\n}"}return a.toString=f,a}(t.exports=r).verbose=!1},function(t,i,n){"use strict";t.exports=u;var s=n(13),o=n(14)("fs");function u(n,r,e){return r="function"==typeof r?(e=r,{}):r||{},e?!r.xhr&&o&&o.readFile?o.readFile(n,function(t,i){return t&&"undefined"!=typeof XMLHttpRequest?u.xhr(n,r,e):t?e(t):e(null,r.binary?i:i.toString("utf8"))}):u.xhr(n,r,e):s(u,this,n,r)}u.xhr=function(t,n,r){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(4===e.readyState){if(0!==e.status&&200!==e.status)return r(Error("status "+e.status));if(n.binary){if(!(t=e.response))for(var t=[],i=0;i<e.responseText.length;++i)t.push(255&e.responseText.charCodeAt(i));return r(null,"undefined"!=typeof Uint8Array?new Uint8Array(t):t)}return r(null,e.responseText)}},n.binary&&("overrideMimeType"in e&&e.overrideMimeType("text/plain; charset=x-user-defined"),e.responseType="arraybuffer"),e.open("GET",t),e.send()}},function(t,i,n){"use strict";var i=i,e=i.isAbsolute=function(t){return/^(?:\/|\w+:)/.test(t)},r=i.normalize=function(t){var i=(t=t.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),n=e(t),t="";n&&(t=i.shift()+"/");for(var r=0;r<i.length;)".."===i[r]?0<r&&".."!==i[r-1]?i.splice(--r,2):n?i.splice(r,1):++r:"."===i[r]?i.splice(r,1):++r;return t+i.join("/")};i.resolve=function(t,i,n){return n||(i=r(i)),!e(i)&&(t=(t=!n?r(t):t).replace(/(?:\/|^)[^/]+$/,"")).length?r(t+"/"+i):i}},function(t,I,N){"use strict";!function(t){var u=N(44),s=N(45),o=N(46);function n(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function e(t,i){if(n()<i)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(i)).__proto__=c.prototype:(t=null===t?new c(i):t).length=i,t}function c(t,i,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,i,n);if("number"!=typeof t)return r(this,t,i,n);if("string"==typeof i)throw new Error("If encoding is specified then the first argument must be a string");return a(this,t)}function r(t,i,n,r){if("number"==typeof i)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer?function(t,i,n,r){if(i.byteLength,n<0||i.byteLength<n)throw new RangeError("'offset' is out of bounds");if(i.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");i=void 0===n&&void 0===r?new Uint8Array(i):void 0===r?new Uint8Array(i,n):new Uint8Array(i,n,r);c.TYPED_ARRAY_SUPPORT?(t=i).__proto__=c.prototype:t=f(t,i);return t}(t,i,n,r):"string"==typeof i?function(t,i,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|v(i,n),n=(t=e(t,r)).write(i,n);n!==r&&(t=t.slice(0,n));return t}(t,i,n):function(t,i){if(c.isBuffer(i)){var n=0|l(i.length);return 0===(t=e(t,n)).length?t:(i.copy(t,0,0,n),t)}if(i){if("undefined"!=typeof ArrayBuffer&&i.buffer instanceof ArrayBuffer||"length"in i)return"number"!=typeof i.length||function(t){return t!=t}(i.length)?e(t,0):f(t,i);if("Buffer"===i.type&&o(i.data))return f(t,i.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,i)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function a(t,i){if(h(i),t=e(t,i<0?0:0|l(i)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<i;++n)t[n]=0;return t}function f(t,i){var n=i.length<0?0:0|l(i.length);t=e(t,n);for(var r=0;r<n;r+=1)t[r]=255&i[r];return t}function l(t){if(t>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|t}function v(t,i){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;var n=(t="string"!=typeof t?""+t:t).length;if(0===n)return 0;for(var r=!1;;)switch(i){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return R(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return A(t).length;default:if(r)return R(t).length;i=(""+i).toLowerCase(),r=!0}}function i(t,i,n){var r,e,s,o=!1;if((i=void 0===i||i<0?0:i)>this.length)return"";if((n=void 0===n||n>this.length?this.length:n)<=0)return"";if((n>>>=0)<=(i>>>=0))return"";for(t=t||"utf8";;)switch(t){case"hex":return function(t,i,n){var r=t.length;(!i||i<0)&&(i=0);(!n||n<0||r<n)&&(n=r);for(var e="",s=i;s<n;++s)e+=function(t){return t<16?"0"+t.toString(16):t.toString(16)}(t[s]);return e}(this,i,n);case"utf8":case"utf-8":return w(this,i,n);case"ascii":return function(t,i,n){var r="";n=Math.min(t.length,n);for(var e=i;e<n;++e)r+=String.fromCharCode(127&t[e]);return r}(this,i,n);case"latin1":case"binary":return function(t,i,n){var r="";n=Math.min(t.length,n);for(var e=i;e<n;++e)r+=String.fromCharCode(t[e]);return r}(this,i,n);case"base64":return r=this,s=n,0===(e=i)&&s===r.length?u.fromByteArray(r):u.fromByteArray(r.slice(e,s));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(t,i,n){for(var r=t.slice(i,n),e="",s=0;s<r.length;s+=2)e+=String.fromCharCode(r[s]+256*r[s+1]);return e}(this,i,n);default:if(o)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),o=!0}}function d(t,i,n){var r=t[i];t[i]=t[n],t[n]=r}function y(t,i,n,r,e){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,(n=(n=isNaN(n)?e?0:t.length-1:n)<0?t.length+n:n)>=t.length){if(e)return-1;n=t.length-1}else if(n<0){if(!e)return-1;n=0}if("string"==typeof i&&(i=c.from(i,r)),c.isBuffer(i))return 0===i.length?-1:b(t,i,n,r,e);if("number"==typeof i)return i&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?(e?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(t,i,n):b(t,[i],n,r,e);throw new TypeError("val must be string, number or Buffer")}function b(t,i,n,r,e){var s=1,o=t.length,u=i.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||i.length<2)return-1;o/=s=2,u/=2,n/=2}function h(t,i){return 1===s?t[i]:t.readUInt16BE(i*s)}if(e)for(var a=-1,f=n;f<o;f++)if(h(t,f)===h(i,-1===a?0:f-a)){if(f-(a=-1===a?f:a)+1===u)return a*s}else-1!==a&&(f-=f-a),a=-1;else for(f=n=o<n+u?o-u:n;0<=f;f--){for(var c=!0,l=0;l<u;l++)if(h(t,f+l)!==h(i,l)){c=!1;break}if(c)return f}return-1}function p(t,i,n,r){return S(function(t){for(var i=[],n=0;n<t.length;++n)i.push(255&t.charCodeAt(n));return i}(i),t,n,r)}function m(t,i,n,r){return S(function(t,i){for(var n,r,e=[],s=0;s<t.length&&!((i-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,r=r%256,e.push(r),e.push(n);return e}(i,t.length-n),t,n,r)}function w(t,i,n){n=Math.min(t.length,n);for(var r=[],e=i;e<n;){var s,o,u,h,a=t[e],f=null,c=239<a?4:223<a?3:191<a?2:1;if(e+c<=n)switch(c){case 1:a<128&&(f=a);break;case 2:128==(192&(s=t[e+1]))&&127<(h=(31&a)<<6|63&s)&&(f=h);break;case 3:s=t[e+1],o=t[e+2],128==(192&s)&&128==(192&o)&&2047<(h=(15&a)<<12|(63&s)<<6|63&o)&&(h<55296||57343<h)&&(f=h);break;case 4:s=t[e+1],o=t[e+2],u=t[e+3],128==(192&s)&&128==(192&o)&&128==(192&u)&&65535<(h=(15&a)<<18|(63&s)<<12|(63&o)<<6|63&u)&&h<1114112&&(f=h)}null===f?(f=65533,c=1):65535<f&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),e+=c}return function(t){var i=t.length;if(i<=_)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<i;)n+=String.fromCharCode.apply(String,t.slice(r,r+=_));return n}(r)}I.Buffer=c,I.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},I.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),I.kMaxLength=n(),c.poolSize=8192,c.G=function(t){return t.__proto__=c.prototype,t},c.from=function(t,i,n){return r(null,t,i,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,i,n){return r=null,i=i,n=n,h(t=t),!(t<=0)&&void 0!==i?"string"==typeof n?e(r,t).fill(i,n):e(r,t).fill(i):e(r,t);var r},c.allocUnsafe=function(t){return a(null,t)},c.allocUnsafeSlow=function(t){return a(null,t)},c.isBuffer=function(t){return!(null==t||!t.W)},c.compare=function(t,i){if(!c.isBuffer(t)||!c.isBuffer(i))throw new TypeError("Arguments must be Buffers");if(t===i)return 0;for(var n=t.length,r=i.length,e=0,s=Math.min(n,r);e<s;++e)if(t[e]!==i[e]){n=t[e],r=i[e];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,i){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);if(void 0===i)for(e=i=0;e<t.length;++e)i+=t[e].length;for(var n=c.allocUnsafe(i),r=0,e=0;e<t.length;++e){var s=t[e];if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,r),r+=s.length}return n},c.byteLength=v,c.prototype.W=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<t;i+=2)d(this,i,i+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<t;i+=4)d(this,i,i+3),d(this,i+1,i+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<t;i+=8)d(this,i,i+7),d(this,i+1,i+6),d(this,i+2,i+5),d(this,i+3,i+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0==t?"":0===arguments.length?w(this,0,t):i.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",i=I.INSPECT_MAX_BYTES;return 0<this.length&&(t=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,i,n,r,e){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===e&&(e=this.length),(i=void 0===i?0:i)<0||n>t.length||r<0||e>this.length)throw new RangeError("out of range index");if(e<=r&&n<=i)return 0;if(e<=r)return-1;if(n<=i)return 1;if(this===t)return 0;for(var s=(e>>>=0)-(r>>>=0),o=(n>>>=0)-(i>>>=0),u=Math.min(s,o),h=this.slice(r,e),a=t.slice(i,n),f=0;f<u;++f)if(h[f]!==a[f]){s=h[f],o=a[f];break}return s<o?-1:o<s?1:0},c.prototype.includes=function(t,i,n){return-1!==this.indexOf(t,i,n)},c.prototype.indexOf=function(t,i,n){return y(this,t,i,n,!0)},c.prototype.lastIndexOf=function(t,i,n){return y(this,t,i,n,!1)},c.prototype.write=function(t,i,n,r){if(void 0===i)r="utf8",n=this.length,i=0;else if(void 0===n&&"string"==typeof i)r=i,n=this.length,i=0;else{if(!isFinite(i))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");i|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var e=this.length-i;if((void 0===n||e<n)&&(n=e),0<t.length&&(n<0||i<0)||i>this.length)throw new RangeError("Attempt to write outside buffer bounds");r=r||"utf8";for(var s,o,u,h=!1;;)switch(r){case"hex":return function(t,i,n,r){n=Number(n)||0;var e=t.length-n;if((!r||e<(r=Number(r)))&&(r=e),(e=i.length)%2!=0)throw new TypeError("Invalid hex string");e/2<r&&(r=e/2);for(var s=0;s<r;++s){var o=parseInt(i.substr(2*s,2),16);if(isNaN(o))return s;t[n+s]=o}return s}(this,t,i,n);case"utf8":case"utf-8":return o=i,u=n,S(R(t,(s=this).length-o),s,o,u);case"ascii":return p(this,t,i,n);case"latin1":case"binary":return p(this,t,i,n);case"base64":return s=this,o=i,u=n,S(A(t),s,o,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m(this,t,i,n);default:if(h)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),h=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this.Z||this,0)}};var _=4096;function g(t,i,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(n<t+i)throw new RangeError("Trying to access beyond buffer length")}function x(t,i,n,r,e,s){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e<i||i<s)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function O(t,i,n,r){i<0&&(i=65535+i+1);for(var e=0,s=Math.min(t.length-n,2);e<s;++e)t[n+e]=(i&255<<8*(r?e:1-e))>>>8*(r?e:1-e)}function M(t,i,n,r){i<0&&(i=4294967295+i+1);for(var e=0,s=Math.min(t.length-n,4);e<s;++e)t[n+e]=i>>>8*(r?e:3-e)&255}function j(t,i,n,r){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function E(t,i,n,r,e){return e||j(t,0,n,4),s.write(t,i,n,r,23,4),n+4}function k(t,i,n,r,e){return e||j(t,0,n,8),s.write(t,i,n,r,52,8),n+8}c.prototype.slice=function(t,i){var n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),(i=void 0===i?n:~~i)<0?(i+=n)<0&&(i=0):n<i&&(i=n),i<t&&(i=t),c.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,i)).__proto__=c.prototype;else for(var r=i-t,e=new c(r,void 0),s=0;s<r;++s)e[s]=this[s+t];return e},c.prototype.readUIntLE=function(t,i,n){t|=0,i|=0,n||g(t,i,this.length);for(var r=this[t],e=1,s=0;++s<i&&(e*=256);)r+=this[t+s]*e;return r},c.prototype.readUIntBE=function(t,i,n){t|=0,i|=0,n||g(t,i,this.length);for(var r=this[t+--i],e=1;0<i&&(e*=256);)r+=this[t+--i]*e;return r},c.prototype.readUInt8=function(t,i){return i||g(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,i){return i||g(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,i){return i||g(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,i){return i||g(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,i){return i||g(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,i,n){t|=0,i|=0,n||g(t,i,this.length);for(var r=this[t],e=1,s=0;++s<i&&(e*=256);)r+=this[t+s]*e;return(e*=128)<=r&&(r-=Math.pow(2,8*i)),r},c.prototype.readIntBE=function(t,i,n){t|=0,i|=0,n||g(t,i,this.length);for(var r=i,e=1,s=this[t+--r];0<r&&(e*=256);)s+=this[t+--r]*e;return(e*=128)<=s&&(s-=Math.pow(2,8*i)),s},c.prototype.readInt8=function(t,i){return i||g(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,i){i||g(t,2,this.length);t=this[t]|this[t+1]<<8;return 32768&t?4294901760|t:t},c.prototype.readInt16BE=function(t,i){i||g(t,2,this.length);t=this[t+1]|this[t]<<8;return 32768&t?4294901760|t:t},c.prototype.readInt32LE=function(t,i){return i||g(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,i){return i||g(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,i){return i||g(t,4,this.length),s.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,i){return i||g(t,4,this.length),s.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,i){return i||g(t,8,this.length),s.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,i){return i||g(t,8,this.length),s.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,i,n,r){t=+t,i|=0,n|=0,r||x(this,t,i,n,Math.pow(2,8*n)-1,0);var e=1,s=0;for(this[i]=255&t;++s<n&&(e*=256);)this[i+s]=t/e&255;return i+n},c.prototype.writeUIntBE=function(t,i,n,r){t=+t,i|=0,n|=0,r||x(this,t,i,n,Math.pow(2,8*n)-1,0);var e=n-1,s=1;for(this[i+e]=255&t;0<=--e&&(s*=256);)this[i+e]=t/s&255;return i+n},c.prototype.writeUInt8=function(t,i,n){return t=+t,i|=0,n||x(this,t,i,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[i]=255&t,i+1},c.prototype.writeUInt16LE=function(t,i,n){return t=+t,i|=0,n||x(this,t,i,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[i]=255&t,this[i+1]=t>>>8):O(this,t,i,!0),i+2},c.prototype.writeUInt16BE=function(t,i,n){return t=+t,i|=0,n||x(this,t,i,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[i]=t>>>8,this[i+1]=255&t):O(this,t,i,!1),i+2},c.prototype.writeUInt32LE=function(t,i,n){return t=+t,i|=0,n||x(this,t,i,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[i+3]=t>>>24,this[i+2]=t>>>16,this[i+1]=t>>>8,this[i]=255&t):M(this,t,i,!0),i+4},c.prototype.writeUInt32BE=function(t,i,n){return t=+t,i|=0,n||x(this,t,i,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[i]=t>>>24,this[i+1]=t>>>16,this[i+2]=t>>>8,this[i+3]=255&t):M(this,t,i,!1),i+4},c.prototype.writeIntLE=function(t,i,n,r){t=+t,i|=0,r||x(this,t,i,n,(r=Math.pow(2,8*n-1))-1,-r);var e=0,s=1,o=0;for(this[i]=255&t;++e<n&&(s*=256);)t<0&&0===o&&0!==this[i+e-1]&&(o=1),this[i+e]=(t/s>>0)-o&255;return i+n},c.prototype.writeIntBE=function(t,i,n,r){t=+t,i|=0,r||x(this,t,i,n,(r=Math.pow(2,8*n-1))-1,-r);var e=n-1,s=1,o=0;for(this[i+e]=255&t;0<=--e&&(s*=256);)t<0&&0===o&&0!==this[i+e+1]&&(o=1),this[i+e]=(t/s>>0)-o&255;return i+n},c.prototype.writeInt8=function(t,i,n){return t=+t,i|=0,n||x(this,t,i,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[i]=255&(t=t<0?255+t+1:t),i+1},c.prototype.writeInt16LE=function(t,i,n){return t=+t,i|=0,n||x(this,t,i,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[i]=255&t,this[i+1]=t>>>8):O(this,t,i,!0),i+2},c.prototype.writeInt16BE=function(t,i,n){return t=+t,i|=0,n||x(this,t,i,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[i]=t>>>8,this[i+1]=255&t):O(this,t,i,!1),i+2},c.prototype.writeInt32LE=function(t,i,n){return t=+t,i|=0,n||x(this,t,i,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[i]=255&t,this[i+1]=t>>>8,this[i+2]=t>>>16,this[i+3]=t>>>24):M(this,t,i,!0),i+4},c.prototype.writeInt32BE=function(t,i,n){return t=+t,i|=0,n||x(this,t,i,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[i]=t>>>24,this[i+1]=t>>>16,this[i+2]=t>>>8,this[i+3]=255&t):M(this,t,i,!1),i+4},c.prototype.writeFloatLE=function(t,i,n){return E(this,t,i,!0,n)},c.prototype.writeFloatBE=function(t,i,n){return E(this,t,i,!1,n)},c.prototype.writeDoubleLE=function(t,i,n){return k(this,t,i,!0,n)},c.prototype.writeDoubleBE=function(t,i,n){return k(this,t,i,!1,n)},c.prototype.copy=function(t,i,n,r){if(n=n||0,r||0===r||(r=this.length),i>=t.length&&(i=t.length),(r=0<r&&r<n?n:r)===n)return 0;if(0===t.length||0===this.length)return 0;if((i=i||0)<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length);var e,s=(r=t.length-i<r-n?t.length-i+n:r)-n;if(this===t&&n<i&&i<r)for(e=s-1;0<=e;--e)t[e+i]=this[e+n];else if(s<1e3||!c.TYPED_ARRAY_SUPPORT)for(e=0;e<s;++e)t[e+i]=this[e+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+s),i);return s},c.prototype.fill=function(t,i,n,r){if("string"==typeof t){var e;if("string"==typeof i?(r=i,i=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1!==t.length||(e=t.charCodeAt(0))<256&&(t=e),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(i<0||this.length<i||this.length<n)throw new RangeError("Out of range index");if(n<=i)return this;if(i>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(t=t||0))for(u=i;u<n;++u)this[u]=t;else for(var s=c.isBuffer(t)?t:R(new c(t,r).toString()),o=s.length,u=0;u<n-i;++u)this[u+i]=s[u%o];return this};var T=/[^+\/0-9A-Za-z-_]/g;function R(t,i){var n;i=i||1/0;for(var r=t.length,e=null,s=[],o=0;o<r;++o){if(55295<(n=t.charCodeAt(o))&&n<57344){if(!e){if(56319<n){-1<(i-=3)&&s.push(239,191,189);continue}if(o+1===r){-1<(i-=3)&&s.push(239,191,189);continue}e=n;continue}if(n<56320){-1<(i-=3)&&s.push(239,191,189),e=n;continue}n=65536+(e-55296<<10|n-56320)}else e&&-1<(i-=3)&&s.push(239,191,189);if(e=null,n<128){if(--i<0)break;s.push(n)}else if(n<2048){if((i-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((i-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((i-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function A(t){return u.toByteArray(function(t){var i;if((t=((i=t).trim?i.trim():i.replace(/^\s+|\s+$/g,"")).replace(T,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function S(t,i,n,r){for(var e=0;e<r&&!(e+n>=i.length||e>=t.length);++e)i[e+n]=t[e];return e}}.call(this,N(8))},function(t,i,n){"use strict";i.byteLength=function(t){var i=f(t),t=i[0],i=i[1];return 3*(t+i)/4-i},i.toByteArray=function(t){var i,n,r=f(t),e=r[0],r=r[1],s=new a(function(t,i){return 3*(t+i)/4-i}(e,r)),o=0,u=0<r?e-4:e;for(n=0;n<u;n+=4)i=h[t.charCodeAt(n)]<<18|h[t.charCodeAt(n+1)]<<12|h[t.charCodeAt(n+2)]<<6|h[t.charCodeAt(n+3)],s[o++]=i>>16&255,s[o++]=i>>8&255,s[o++]=255&i;2===r&&(i=h[t.charCodeAt(n)]<<2|h[t.charCodeAt(n+1)]>>4,s[o++]=255&i);1===r&&(i=h[t.charCodeAt(n)]<<10|h[t.charCodeAt(n+1)]<<4|h[t.charCodeAt(n+2)]>>2,s[o++]=i>>8&255,s[o++]=255&i);return s},i.fromByteArray=function(t){for(var i,n=t.length,r=n%3,e=[],s=0,o=n-r;s<o;s+=16383)e.push(function(t,i,n){for(var r,e=[],s=i;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),e.push(function(t){return u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}(r));return e.join("")}(t,s,o<s+16383?o:s+16383));1==r?(i=t[n-1],e.push(u[i>>2]+u[i<<4&63]+"==")):2==r&&(i=(t[n-2]<<8)+t[n-1],e.push(u[i>>10]+u[i>>4&63]+u[i<<2&63]+"="));return e.join("")};for(var u=[],h=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,s=r.length;e<s;++e)u[e]=r[e],h[r.charCodeAt(e)]=e;function f(t){var i=t.length;if(0<i%4)throw new Error("Invalid string. Length must be a multiple of 4");t=t.indexOf("=");return[t=-1===t?i:t,t===i?0:4-t%4]}h["-".charCodeAt(0)]=62,h["_".charCodeAt(0)]=63},function(t,i){i.read=function(t,i,n,r,e){var s,o,u=8*e-r-1,h=(1<<u)-1,a=h>>1,f=-7,c=n?e-1:0,l=n?-1:1,n=t[i+c];for(c+=l,s=n&(1<<-f)-1,n>>=-f,f+=u;0<f;s=256*s+t[i+c],c+=l,f-=8);for(o=s&(1<<-f)-1,s>>=-f,f+=r;0<f;o=256*o+t[i+c],c+=l,f-=8);if(0===s)s=1-a;else{if(s===h)return o?NaN:1/0*(n?-1:1);o+=Math.pow(2,r),s-=a}return(n?-1:1)*o*Math.pow(2,s-r)},i.write=function(t,i,n,r,e,s){var o,u,h=8*s-e-1,a=(1<<h)-1,f=a>>1,c=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,l=r?0:s-1,v=r?1:-1,s=i<0||0===i&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(u=isNaN(i)?1:0,o=a):(o=Math.floor(Math.log(i)/Math.LN2),i*(r=Math.pow(2,-o))<1&&(o--,r*=2),2<=(i+=1<=o+f?c/r:c*Math.pow(2,1-f))*r&&(o++,r/=2),a<=o+f?(u=0,o=a):1<=o+f?(u=(i*r-1)*Math.pow(2,e),o+=f):(u=i*Math.pow(2,f-1)*Math.pow(2,e),o=0));8<=e;t[n+l]=255&u,l+=v,u/=256,e-=8);for(o=o<<e|u,h+=e;0<h;t[n+l]=255&o,l+=v,o/=256,h-=8);t[n+l-v]|=128*s}},function(t,i){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,i){t.exports=__WEBPACK_EXTERNAL_MODULE__47__},function(t,a,i){!function(e){function s(t,i){for(var n=0,r=t.length-1;0<=r;r--){var e=t[r];"."===e?t.splice(r,1):".."===e?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(i)for(;n--;)t.unshift("..");return t}function o(t,i){if(t.filter)return t.filter(i);for(var n=[],r=0;r<t.length;r++)i(t[r],r,t)&&n.push(t[r]);return n}a.resolve=function(){for(var t="",i=!1,n=arguments.length-1;-1<=n&&!i;n--){var r=0<=n?arguments[n]:e.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(t=r+"/"+t,i="/"===r.charAt(0))}return(i?"/":"")+(t=s(o(t.split("/"),function(t){return!!t}),!i).join("/"))||"."},a.normalize=function(t){var i=a.isAbsolute(t),n="/"===r(t,-1);return(t=!(t=s(o(t.split("/"),function(t){return!!t}),!i).join("/"))&&!i?".":t)&&n&&(t+="/"),(i?"/":"")+t},a.isAbsolute=function(t){return"/"===t.charAt(0)},a.join=function(){var t=Array.prototype.slice.call(arguments,0);return a.normalize(o(t,function(t,i){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},a.relative=function(t,i){function n(t){for(var i=0;i<t.length&&""===t[i];i++);for(var n=t.length-1;0<=n&&""===t[n];n--);return n<i?[]:t.slice(i,n-i+1)}t=a.resolve(t).substr(1),i=a.resolve(i).substr(1);for(var r=n(t.split("/")),e=n(i.split("/")),s=Math.min(r.length,e.length),o=s,u=0;u<s;u++)if(r[u]!==e[u]){o=u;break}for(var h=[],u=o;u<r.length;u++)h.push("..");return(h=h.concat(e.slice(o))).join("/")},a.sep="/",a.delimiter=":",a.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var i=t.charCodeAt(0),n=47===i,r=-1,e=!0,s=t.length-1;1<=s;--s)if(47===t.charCodeAt(s)){if(!e){r=s;break}}else e=!1;return-1===r?n?"/":".":n&&1===r?"/":t.slice(0,r)},a.basename=function(t,i){t=function(t){"string"!=typeof t&&(t+="");for(var i=0,n=-1,r=!0,e=t.length-1;0<=e;--e)if(47===t.charCodeAt(e)){if(!r){i=e+1;break}}else-1===n&&(r=!1,n=e+1);return-1===n?"":t.slice(i,n)}(t);return t=i&&t.substr(-1*i.length)===i?t.substr(0,t.length-i.length):t},a.extname=function(t){"string"!=typeof t&&(t+="");for(var i=-1,n=0,r=-1,e=!0,s=0,o=t.length-1;0<=o;--o){var u=t.charCodeAt(o);if(47===u){if(e)continue;n=o+1;break}-1===r&&(e=!1,r=o+1),46===u?-1===i?i=o:1!==s&&(s=1):-1!==i&&(s=-1)}return-1===i||-1===r||0===s||1===s&&i===r-1&&i===n+1?"":t.slice(i,r)};var r="b"==="ab".substr(-1)?function(t,i,n){return t.substr(i,n)}:function(t,i,n){return i<0&&(i=t.length+i),t.substr(i,n)}}.call(this,i(49))},function(t,i){var n,r,t=t.exports={};function e(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(i){if(n===setTimeout)return setTimeout(i,0);if((n===e||!n)&&setTimeout)return n=setTimeout,setTimeout(i,0);try{return n(i,0)}catch(t){try{return n.call(null,i,0)}catch(t){return n.call(this,i,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:e}catch(t){n=e}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var u,h=[],a=!1,f=-1;function c(){a&&u&&(a=!1,u.length?h=u.concat(h):f=-1,h.length&&l())}function l(){if(!a){var t=o(c);a=!0;for(var i=h.length;i;){for(u=h,h=[];++f<i;)u&&u[f].run();f=-1,i=h.length}u=null,a=!1,function(i){if(r===clearTimeout)return clearTimeout(i);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(i);try{r(i)}catch(t){try{return r.call(null,i)}catch(t){return r.call(this,i)}}}(t)}}function v(t,i){this.fun=t,this.array=i}function d(){}t.nextTick=function(t){var i=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)i[n-1]=arguments[n];h.push(new v(t,i)),1!==h.length||a||o(l)},v.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=d,t.addListener=d,t.once=d,t.off=d,t.removeListener=d,t.removeAllListeners=d,t.emit=d,t.prependListener=d,t.prependOnceListener=d,t.listeners=function(t){return[]},t.binding=function(t){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(t){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},function(t,i,n){"use strict";n.r(i);var u="v3.1.0",h=1330,r={NONE:0,EXTRUDE_MARKER:2,IMAGE_MARKER:8,LOCATION_MARKER:16,POLYGON_MARKER:32,TEXT_MARKER:64,LINE_MARKER:128,HEAT_MAP_MARKER:512,EXTENT:1024,EXTERNAL_MODEL:2048,MODEL:4096,FACILITY:8192,LABEL:16384,DYNAMIC_MODEL_MARKER:32768,DOM_MARKER:65536,EXTENT_LAYER:1<<20,EXTERNAL_MODEL_LAYER:1<<21,MODEL_LAYER:1<<22,FACILITY_LAYER:1<<23,LABEL_LAYER:1<<24,MARKER_GROUP:1<<25,SHARP_MARKER:1<<26,FLOW_LINE_LAYER:1<<27,FLOW_LINE_MARKER:1<<28};r.LAYER_NODE_TYPE=new Map,r.LAYER_NODE_TYPE.set(r.EXTENT_LAYER,r.EXTENT),r.LAYER_NODE_TYPE.set(r.EXTERNAL_MODEL_LAYER,r.EXTERNAL_MODEL),r.LAYER_NODE_TYPE.set(r.MODEL_LAYER,r.MODEL),r.LAYER_NODE_TYPE.set(r.FACILITY_LAYER,r.FACILITY),r.LAYER_NODE_TYPE.set(r.LABEL_LAYER,r.LABEL),r.LAYER_NODE_TYPE.set(r.DOM_MARKER,r.DOM_MARKER),r.LAYER_NODE_TYPE.set(r.DYNAMIC_MODEL_MARKER,r.DYNAMIC_MODEL_MARKER),r.LAYER_NODE_TYPE.set(r.EXTRUDE_MARKER,r.EXTRUDE_MARKER),r.LAYER_NODE_TYPE.set(r.HEAT_MAP_MARKER,r.HEAT_MAP_MARKER),r.LAYER_NODE_TYPE.set(r.LINE_MARKER,r.LINE_MARKER),r.LAYER_NODE_TYPE.set(r.LOCATION_MARKER,r.LOCATION_MARKER),r.LAYER_NODE_TYPE.set(r.POLYGON_MARKER,r.POLYGON_MARKER),r.LAYER_NODE_TYPE.set(r.TEXT_MARKER,r.TEXT_MARKER),r.LAYER_NODE_TYPE.set(r.IMAGE_MARKER,r.IMAGE_MARKER),r.LAYER_NODE_TYPE.set(r.FLOW_LINE_LAYER,r.FLOW_LINE_MARKER);var e=r,x={MODULE_SHORTEST:1,MODULE_BEST:2},w={PRIORITY_DEFAULT:1,PRIORITY_LIFTFIRST:2,PRIORITY_ESCALATORFIRST:3,PRIORITY_STAIRFIRST:4,PRIORITY_LIFTONLY:5,PRIORITY_ESCALATORONLY:6,PRIORITY_STAIRONLY:7,PRIORITY_ACCESSIBLEONLY:8,PRIORITY_LIFTFIRST1:9,PRIORITY_ESCALATORFIRST1:10,PRIORITY_STAIRFIRST1:11},T={ROUTE_SUCCESS:1,ROUTE_FAILED_NO_DATA_START:2,ROUTE_FAILED_NO_DATA_DEST:3,ROUTE_FAILED_CANNOT_ARRIVE:4,ROUTE_FAILED_WAYPOINT_CALCULATE_ERROR:5,ROUTE_FAILED_NO_START_ARRIVAL:6,ROUTE_FAILED_NO_DEST_ARRIVAL:7,ROUTE_FAILED_OUTLINE:8},a={ZH:"zh",EN:"en"},f={TRANSFER_LIFT:1,TRANSFER_STAIR:2,TRANSFER_ESCALATOR:3,TRANSFER_ACCESSIBLE:4,TRANSFER_RAMP:5,TRANSFER_ENTRANCE:6};var s=function t(i,n){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.V=i,this.Y=n};Object.assign(s.prototype,{X:function(t){return!1},H:function(t,i){}});var o=s;function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,i){return(l=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function v(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=d(n);return t=r?(t=d(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),i=this,!(t=t)||"object"!==c(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(i):t}}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(){!function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&l(t,i)}(r,o);var n=v(r);function r(t,i){return function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t,i)}return r}();Object.assign(y.prototype,{X:function(t){return this.Y==t.fid}});var b=y;function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,i){return(m=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function _(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=g(n);return t=r?(t=g(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),i=this,!(t=t)||"object"!==p(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(i):t}}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var O=function(){!function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&m(t,i)}(r,o);var n=_(r);function r(t,i){return function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,r),"object"==p((i=n.call(this,t,i)).Y)?(i.Q=i.Y.text,i.$=i.Y.fuzzy):i.Q=i.Y,i}return r}();Object.assign(O.prototype,{X:function(t){if(t.name){if(this.$&&-1!=t.name.indexOf(this.Q))return!0;if(this.Q==t.name)return!0}return!1}});var M=O;function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,i){return(E=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function k(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=R(n);return t=r?(t=R(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),i=this,!(t=t)||"object"!==j(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(i):t}}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var A=function(){!function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&E(t,i)}(r,o);var n=k(r);function r(t,i){return function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,r),"object"==j((i=n.call(this,t,i)).Y)?(i.Q=i.Y.text,i.$=i.Y.fuzzy):i.Q=i.Y,i}return r}();Object.assign(A.prototype,{X:function(t){if(t.ename){if(this.$&&-1!=t.ename.indexOf(this.Q))return!0;if(this.Q==t.ename)return!0}return!1}});var S=A;function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function N(t,i){return(N=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function L(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=P(n);return t=r?(t=P(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),i=this,!(t=t)||"object"!==I(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(i):t}}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var D=function(){!function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&N(t,i)}(r,o);var n=L(r);function r(t,i){return function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,r),(t=n.call(this,t)).Y=Array.isArray(i)?i:[i],t}return r}();Object.assign(D.prototype,{X:function(t){return-1!=this.Y.indexOf(t.type)}});var F=D;function C(t){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B(t,i){return(B=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function U(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=G(n);return t=r?(t=G(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),i=this,!(t=t)||"object"!==C(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(i):t}}function G(t){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}r=function(){!function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&B(t,i)}(r,o);var n=U(r);function r(t,i){return function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,r),"object"==C((i=n.call(this,t,i)).Y)?(i.Q=i.Y.text,i.$=void 0===i.Y.fuzzy||i.Y.fuzzy):(i.Q=i.Y,i.$=!0),i}return r}();Object.assign(r.prototype,{X:function(t){if(this.$){if(t.name&&-1!=t.name.indexOf(this.Q)||t.ename&&-1!=t.ename.indexOf(this.Q))return!0}else if(t.name&&t.name==this.Q||t.ename&&t.ename==this.Q)return!0;return!1}});var W=r,s={NONE:0,POINT:1,LINE:2,POLYGON:4,MULTIPOINT:8,MULTILINE:16,MULTIPOLYGON:32,GROUP:64,EXTENT:1024,EXTERNALMODEL:2048,MODEL:4096,FACILITY:8192,LABEL:16384,EXTENTGROUP:1<<20,EXTERNALMODELGROUP:1<<21,MODELGROUP:1<<22,FACILITYGROUP:1<<23,LABELGROUP:1<<24};Object.freeze(s);var Z=s,V=function(t,i,n){n=n||2;var r,e,s,o,u,h=i&&i.length,a=h?i[0]*n:t.length,f=q(t,0,a,n,!0),c=[];if(!f||f.next===f.prev)return c;if(h&&(f=function(t,i,n,r){var e,s,o,u,h=[];for(e=0,s=i.length;e<s;e++)o=i[e]*r,u=e<s-1?i[e+1]*r:t.length,(u=q(t,o,u,r,!1))===u.next&&(u.steiner=!0),h.push(function(t){var i=t,n=t;for(;(i.x<n.x||i.x===n.x&&i.y<n.y)&&(n=i),i=i.next,i!==t;);return n}(u));for(h.sort(X),e=0;e<h.length;e++)!function(t,i){(i=function(t,i){var n,r=i,e=t.x,s=t.y,o=-1/0;do{if(s<=r.y&&s>=r.next.y&&r.next.y!==r.y){var u=r.x+(s-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(u<=e&&o<u){if((o=u)===e){if(s===r.y)return r;if(s===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}}while(r=r.next,r!==i);if(!n)return null;if(e===o)return n;var h,a=n,f=n.x,c=n.y,l=1/0;r=n;for(;e>=r.x&&r.x>=f&&e!==r.x&&Q(s<c?e:o,s,f,c,s<c?o:e,s,r.x,r.y)&&(h=Math.abs(s-r.y)/(e-r.x),nt(r,t)&&(h<l||h===l&&(r.x>n.x||r.x===n.x&&function(t,i){return $(t.prev,t,i.prev)<0&&$(i.next,t,t.next)<0}(n,r)))&&(n=r,l=h)),r=r.next,r!==a;);return n}(t,i))&&(t=rt(i,t),z(i,i.next),z(t,t.next))}(h[e],n),n=z(n,n.next);return n}(t,i,f,n)),t.length>80*n){for(var l=r=t[0],v=e=t[1],d=n;d<a;d+=n)(s=t[d])<l&&(l=s),(o=t[d+1])<v&&(v=o),r<s&&(r=s),e<o&&(e=o);u=0!==(u=Math.max(r-l,e-v))?1/u:0}return Y(f,c,n,l,v,u),c};function q(t,i,n,r,e){var s,o;if(e===0<function(t,i,n,r){for(var e=0,s=i,o=n-r;s<n;s+=r)e+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return e}(t,i,n,r))for(s=i;s<n;s+=r)o=et(s,t[s],t[s+1],o);else for(s=n-r;i<=s;s-=r)o=et(s,t[s],t[s+1],o);return o&&K(o,o.next)&&(st(o),o=o.next),o}function z(t,i){if(!t)return t;i=i||t;var n,r=t;do{if(n=!1,r.steiner||!K(r,r.next)&&0!==$(r.prev,r,r.next))r=r.next;else{if(st(r),(r=i=r.prev)===r.next)break;n=!0}}while(n||r!==i);return i}function Y(t,i,n,r,e,s,o){if(t){!o&&s&&function(t,i,n,r){var e=t;for(;null===e.z&&(e.z=H(e.x,e.y,i,n,r)),e.prevZ=e.prev,e.nextZ=e.next,e=e.next,e!==t;);e.prevZ.nextZ=null,e.prevZ=null,function(t){var i,n,r,e,s,o,u,h,a=1;do{for(n=t,s=t=null,o=0;n;){for(o++,r=n,i=u=0;i<a&&(u++,r=r.nextZ);i++);for(h=a;0<u||0<h&&r;)0!==u&&(0===h||!r||n.z<=r.z)?(n=(e=n).nextZ,u--):(r=(e=r).nextZ,h--),s?s.nextZ=e:t=e,e.prevZ=s,s=e;n=r}}while(s.nextZ=null,a*=2,1<o)}(e)}(t,r,e,s);for(var u,h,a=t;t.prev!==t.next;)if(u=t.prev,h=t.next,s?function(t,i,n,r){var e=t.prev,s=t,o=t.next;if(0<=$(e,s,o))return!1;var u=(e.x<s.x?e.x<o.x?e:o:s.x<o.x?s:o).x,h=(e.y<s.y?e.y<o.y?e:o:s.y<o.y?s:o).y,a=(e.x>s.x?e.x>o.x?e:o:s.x>o.x?s:o).x,f=(e.y>s.y?e.y>o.y?e:o:s.y>o.y?s:o).y,c=H(u,h,i,n,r),l=H(a,f,i,n,r),v=t.prevZ,d=t.nextZ;for(;v&&v.z>=c&&d&&d.z<=l;){if(v!==t.prev&&v!==t.next&&Q(e.x,e.y,s.x,s.y,o.x,o.y,v.x,v.y)&&0<=$(v.prev,v,v.next))return!1;if(v=v.prevZ,d!==t.prev&&d!==t.next&&Q(e.x,e.y,s.x,s.y,o.x,o.y,d.x,d.y)&&0<=$(d.prev,d,d.next))return!1;d=d.nextZ}for(;v&&v.z>=c;){if(v!==t.prev&&v!==t.next&&Q(e.x,e.y,s.x,s.y,o.x,o.y,v.x,v.y)&&0<=$(v.prev,v,v.next))return!1;v=v.prevZ}for(;d&&d.z<=l;){if(d!==t.prev&&d!==t.next&&Q(e.x,e.y,s.x,s.y,o.x,o.y,d.x,d.y)&&0<=$(d.prev,d,d.next))return!1;d=d.nextZ}return!0}(t,r,e,s):function(t){var i=t.prev,n=t,r=t.next;if(0<=$(i,n,r))return!1;var e=t.next.next;for(;e!==t.prev;){if(Q(i.x,i.y,n.x,n.y,r.x,r.y,e.x,e.y)&&0<=$(e.prev,e,e.next))return!1;e=e.next}return!0}(t))i.push(u.i/n),i.push(t.i/n),i.push(h.i/n),st(t),t=h.next,a=h.next;else if((t=h)===a){o?1===o?Y(t=function(t,i,n){var r=t;do{var e=r.prev,s=r.next.next}while(!K(e,s)&&J(e,r,r.next,s)&&nt(e,s)&&nt(s,e)&&(i.push(e.i/n),i.push(r.i/n),i.push(s.i/n),st(r),st(r.next),r=t=s),r=r.next,r!==t);return z(r)}(z(t),i,n),i,n,r,e,s,2):2===o&&function(t,i,n,r,e,s){var o=t;do{for(var u=o.next.next;u!==o.prev;){if(o.i!==u.i&&function(t,i){return t.next.i!==i.i&&t.prev.i!==i.i&&!function(t,i){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==i.i&&n.next.i!==i.i&&J(n,n.next,t,i))return!0}while(n=n.next,n!==t);return!1}(t,i)&&(nt(t,i)&&nt(i,t)&&function(t,i){var n=t,r=!1,e=(t.x+i.x)/2,s=(t.y+i.y)/2;for(;n.y>s!=n.next.y>s&&n.next.y!==n.y&&e<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next,n!==t;);return r}(t,i)&&($(t.prev,t,i.prev)||$(t,i.prev,i))||K(t,i)&&0<$(t.prev,t,t.next)&&0<$(i.prev,i,i.next))}(o,u)){var h=rt(o,u);return o=z(o,o.next),h=z(h,h.next),Y(o,i,n,r,e,s),Y(h,i,n,r,e,s)}u=u.next}}while(o=o.next,o!==t)}(t,i,n,r,e,s):Y(z(t),i,n,r,e,s,1);break}}}function X(t,i){return t.x-i.x}function H(t,i,n,r,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*e)|t<<8))|t<<4))|t<<2))|t<<1))|(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=32767*(i-r)*e)|i<<8))|i<<4))|i<<2))|i<<1))<<1}function Q(t,i,n,r,e,s,o,u){return 0<=(e-o)*(i-u)-(t-o)*(s-u)&&0<=(t-o)*(r-u)-(n-o)*(i-u)&&0<=(n-o)*(s-u)-(e-o)*(r-u)}function $(t,i,n){return(i.y-t.y)*(n.x-i.x)-(i.x-t.x)*(n.y-i.y)}function K(t,i){return t.x===i.x&&t.y===i.y}function J(t,i,n,r){var e=it($(t,i,n)),s=it($(t,i,r)),o=it($(n,r,t)),u=it($(n,r,i));return e!==s&&o!==u||(0===e&&tt(t,n,i)||(0===s&&tt(t,r,i)||(0===o&&tt(n,t,r)||!(0!==u||!tt(n,i,r)))))}function tt(t,i,n){return i.x<=Math.max(t.x,n.x)&&i.x>=Math.min(t.x,n.x)&&i.y<=Math.max(t.y,n.y)&&i.y>=Math.min(t.y,n.y)}function it(t){return 0<t?1:t<0?-1:0}function nt(t,i){return $(t.prev,t,t.next)<0?0<=$(t,i,t.next)&&0<=$(t,t.prev,i):$(t,i,t.prev)<0||$(t,t.next,i)<0}function rt(t,i){var n=new ot(t.i,t.x,t.y),r=new ot(i.i,i.x,i.y),e=t.next,s=i.prev;return(t.next=i).prev=t,(n.next=e).prev=n,(r.next=n).prev=r,(s.next=r).prev=s,r}function et(t,i,n,r){n=new ot(t,i,n);return r?(n.next=r.next,(n.prev=r).next.prev=n,r.next=n):(n.prev=n).next=n,n}function st(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function ot(t,i,n){this.i=t,this.x=i,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ut(t){return function(t){if(Array.isArray(t))return ht(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,i){if(t){if("string"==typeof t)return ht(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ht(t,i):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ht(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}var at={area:function(t){for(var i=t.length,n=0,r=i-1,e=0;e<i;r=e++)n+=t[r].x*t[e].y-t[e].x*t[r].y;return.5*n},isClockWise:function(t){return at.area(t)<0},triangulateShape:function(t,i){var n=[],r=[],e=[];ft(t),ct(n,t);var s=t.length;i.forEach(ft);for(var o=0;o<i.length;o++)r.push(s),s+=i[o].length,ct(n,i[o]);for(var u=V(n,r),h=0;h<u.length;h+=3)e.push(u.slice(h,h+3));return e},triangulate:function(t){(e=[]).push.apply(e,ut(t[0]));for(var i=[],n=1;n<t.length;n++){var r=[];r.push.apply(r,ut(t[n])),i.push(r)}if(!at.isClockWise(e))for(var e=e.reverse(),s=0,o=i.length;s<o;s++){var u=i[s];at.isClockWise(u)&&(i[s]=u.reverse())}return at.triangulateShape(e,i)}};function ft(t){var i,n=t.length;2<n&&(i=t[n-1],n=t[0],i.x===n.x&&i.y===n.y)&&t.pop()}function ct(t,i){for(var n=0;n<i.length;n++)t.push(i[n].x),t.push(i[n].y)}var lt=1e-5,vt=Math.PI/180,dt=180/Math.PI,y=function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t)};Object.assign(y.prototype,{K:function(){return lt},J:function(){return vt},tt:function(){return dt},it:function(t){return t<lt&&-lt<t},nt:function(t){return lt<t},rt:function(t){return t<-lt},et:function(t,i,n){n=(t.x-n.x)*(i.y-n.y)-(i.x-n.x)*(t.y-n.y);return Math.abs(n)<lt?0:n},distanceOfTwoPoints:function(t,i){return t&&i?Math.sqrt((t.x-i.x)*(t.x-i.x)+(t.y-i.y)*(t.y-i.y)):Number.NaN},distance:function(t,i){return Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2))},isPolygonContainPoint:function(t,i){for(var n=0,r=0;r<t.length;r++){var e=t[r].x,s=t[r].y,o=0,u=0,u=r<t.length-1?(o=t[r+1].x,t[r+1].y):(o=t[0].x,t[0].y);if(e===i.x&&s===i.y||o===i.x&&u===i.y)return!0;if(u!==s){var h=e+(i.y-s)*(o-e)/(u-s);if(h===i.x)return!0;e!==o?h<=Math.max(e,o)&&h>=Math.min(e,o)&&h>i.x&&h!==e&&(h===o&&0<(s-i.y)*(u-i.y)?n+=2:n++):h<=Math.max(e,o)&&h>=Math.min(e,o)&&h>i.x&&(h===o&&0<(s-i.y)*(u-i.y)?n+=2:n++)}}return 0<n%2},st:function(t,i,n,r){return!(Math.max(t.x,i.x)<Math.min(n.x,r.x))&&(!(Math.max(t.y,i.y)<Math.min(n.y,r.y))&&(!(Math.max(n.x,r.x)<Math.min(t.x,i.x))&&!(Math.max(n.y,r.y)<Math.min(t.y,i.y))))},ot:function(t,i,n,r){return!(Math.max(t.x,i.x)<Math.min(n.x,r.x))&&(!(Math.max(t.y,i.y)<Math.min(n.y,r.y))&&(!(Math.max(n.x,r.x)<Math.min(t.x,i.x))&&(!(Math.max(n.y,r.y)<Math.min(t.y,i.y))&&((0!==this.et(n,i,t)||0!==this.et(i,r,t))&&(!(this.et(n,i,t)*this.et(i,r,t)<0)&&!(this.et(t,r,n)*this.et(r,i,n)<0))))))},ut:function(t,i,n){return!(t.x<i.x)&&(!(t.y<i.y)&&(!(t.x>n.x)&&!(t.y>n.y)))},ht:function(t,i,n){var r=Math.min(i.x,n.x),e=Math.max(i.x,n.x),s=Math.min(i.y,n.y),n=Math.max(i.y,n.y);return!(t.x<r||t.x>e||t.y<s||t.y>n)},at:function(t,i,n){var r=Math.min(n.x,i.x),e=Math.max(n.x,i.x),s=Math.min(n.y,i.y),i=Math.max(n.y,i.y);return!(t.x<r||t.x>e||t.y<s||t.y>i)},ft:function(t,i,n){for(var r,e,s=!1,o=0;o<n;o++)r=i[o],e=i[(o+1)%n],(r.y<t.y&&e.y>=t.y||e.y<t.y&&r.y>=t.y)&&(r.x<=t.x||e.x<=t.x)&&r.x+(t.y-r.y)/(e.y-r.y)*(e.x-r.x)<t.x&&(s=!s);return s},ct:function(t,i,n){return(t.x-i.x)*(n.y-i.y)==(n.x-i.x)*(t.y-i.y)&&Math.min(i.x,n.x)<=t.x&&t.x<=Math.max(i.x,n.x)&&Math.min(i.y,n.y)<=t.y&&t.y<=Math.max(i.y,n.y)},lt:function(t,i){return Math.sqrt((t.x-i.x)*(t.x-i.x)+(t.y-i.y)*(t.y-i.y))},vt:function(t,i){return(t.x-i.x)*(t.x-i.x)+(t.y-i.y)*(t.y-i.y)},dt:function(t,i,n){var r=i.x,e=i.y,s=n.x,o=n.y,u=t.x,h=t.y,a=s-r,f=o-e,c=a*a+f*f,i=u-r,n=h-e,t=i*i+n*n;if(this.it(c))return l=this.it(t)?0:t;var l,c=Math.sqrt(c),a=a/c,f=f/c,n=a*i+f*n;return l=this.nt(n)?this.rt(n-c)?(a=u-(r+n*a))*a+(f=h-(e+n*f))*f:(s=u-s)*s+(o=h-o)*o:t,this.it(l)?0:l},yt:function(t,i,n,r){var e=i.x,s=i.y,o=n.x,u=n.y,h=t.x,a=t.y,f=o-e,c=u-s,l=Math.sqrt(f*f+c*c),v=h-e,d=a-s,t=Math.sqrt(v*v+d*d);if(this.it(l))return r.x=i.x,r.y=i.y,this.it(y=t)?0:y;var f=f/l,c=c/l,d=f*v+c*d,y=this.nt(d)?this.rt(d-l)?(f=h-(e=e+d*f),c=a-(d=s+d*c),c=Math.sqrt(f*f+c*c),r.x=e,r.y=d,c):(o=h-o,u=a-u,u=Math.sqrt(o*o+u*u),r.x=n.x,r.y=n.y,u):(r.x=i.x,r.y=i.y,t);return this.it(y)?0:y},bt:function(t,i){for(var n=0,r=0,e=0,s=0;s<i;s++){var o=t[s],u=t[(s+1)%i],h=(o.x*u.y-o.y*u.x)/2;n+=h,r+=h*(o.x+u.x)/3,e+=h*(o.y+u.y)/3}return{x:r/=n,y:e/=n}},pt:function(t){for(var i=at.triangulate([t]),n=0,r=0,e=0,s=0;s<i.length;s++){var o=t[i[s][0]],u=t[i[s][1]],h=t[i[s][2]],a=u.x-o.x,f=u.y-o.y,c=h.x-o.x,f=(a*(h.y-o.y)-c*f)/2;n+=f,r+=(o.x+u.x+h.x)/3*f,e+=(o.y+u.y+h.y)/3*f}return{x:r/n,y:e/n}},mt:function(t,i){if(i<3)return 0;for(var n=0,r=0;r<i;++r){var e=t[r],s=t[(r+1)%i];n+=e.x*s.y-e.y*s.x}return Math.abs(n/2)},wt:function(t,i,n,r,e){if(this.ot(t,i,n,r)){var s=(r.x-n.x)*(t.y-i.y)-(i.x-t.x)*(n.y-r.y),o=(t.y-n.y)*(i.x-t.x)*(r.x-n.x)+n.x*(r.y-n.y)*(i.x-t.x)-t.x*(i.y-t.y)*(r.x-n.x);return e.x=o/s,s=(t.x-i.x)*(r.y-n.y)-(i.y-t.y)*(n.x-r.x),o=i.y*(t.x-i.x)*(r.y-n.y)+(r.x-i.x)*(r.y-n.y)*(t.y-i.y)-r.y*(n.x-r.x)*(i.y-t.y),e.y=o/s,1}return 0},_t:function(t,i,n,r,e){var s=Math.min(n.x,r.x),o=Math.max(n.x,r.x),u=Math.min(n.y,r.y),h=Math.max(n.y,r.y),a=t.x,f=t.y,c=n.x,l=n.y,v=r.x,d=r.y;if(90==i){if(t.x<s||t.x>o)return!1;var y=(d-l)/(v-c)*(a-c)+l;return e.y=y,e.x=a,y<f?!1:!!this.at(e,n,r)}if(270==i){if(t.x<s||t.x>o)return!1;t=(d-l)/(v-c)*(a-c)+l;return e.y=t,e.x=a,f<t?!1:!!this.at(e,n,r)}if(270!=i&&90!=i&&Math.abs(o-s<.001)){o=s,s=Math.tan(i/180*Math.PI)*(o-a)+f;if(e.y=s,e.x=o,this.at(e,n,r)){o=o-a,s=s-f;return 0<o/Math.sqrt(o*o+s*s)*Math.cos(i/180*Math.PI)}}if(Math.abs(h-u<=.001)){h=u,u=1/Math.tan(i/180*Math.PI)*(h-f)+a;if(e.x=u,e.y=h,this.at(e,n,r)){var u=u-a,b=h-f;return 0<u/Math.sqrt(u*u+b*b)*Math.cos(i/180*Math.PI)}return!1}b=Math.tan(i/180*Math.PI),v=(d-l)/(v-c),v=(l-f-(v*c-b*a))/(b-v),b=f+b*(v-a);if(e.x=v,e.y=b,this.at(e,n,r)){a=v-a,f=b-f;return Math.abs(a)<=.001&&Math.abs(f)<=.001?!0:0<a/Math.sqrt(a*a+f*f)*Math.cos(i/180*Math.PI)}return!1},gt:function(t,i){return Math.abs(t.x-i.x)<lt&&Math.abs(t.y-i.y)<lt},xt:function(t,i,n,r){var e=t.x,s=t.y,o=i.x,u=i.y,h=n.x,a=n.y;if(this.gt(t,i)||this.gt(t,n))return r.x=e,r.y=s,!0;var f=Math.min(i.x,n.x),c=Math.max(i.x,n.x),l=Math.min(i.y,n.y),v=Math.max(i.y,n.y);if(Math.abs(o-h)<1e-5)return r.x=o,l<=(r.y=s)&&s<=v;if(Math.abs(u-a)<1e-5)return r.x=e,r.y=u,f<=e&&e<=c;c=-1/((a-u)/(h-o)),h=(a-u)/(h-o),h=(u-s-(h*o-c*e))/(c-h),e=s+c*(h-e);return r.x=h,r.y=e,!!this.at(r,i,n)||!(!this.gt(t,i)&&!this.gt(t,n))},Ot:function(t,i){return{x:t.y*i.z-t.z*i.y,y:t.z*i.x-t.x*i.z,z:t.x*i.y-t.y*i.x}},Mt:function(t,i){return t.x*i.x+t.y*i.y+t.z*i.z},jt:function(t){return Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z)},Et:function(t,i){return t.x*i.x+t.y*i.y},kt:function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},Tt:function(t,i){if(0==t.x&&0==t.y||0==i.x&&0==i.y)return 0;var n={x:t.x,y:t.y,z:0},r={x:i.x,y:i.y,z:0},n=this.Ot(n,r),r=this.Et(t,i),i=Math.acos(r/(this.kt(t)*this.kt(i)));return 0<n.z?i/Math.PI*180:360-i/Math.PI*180},Rt:function(t,i,n,r){for(var e=0;e<n.length;e++){var s=n[e],o=n[(e+1)%n.length];if(1==this.wt(t,i,s,o,r))return!0}return!1},At:function(t,i,n,r,e){var s=Math.min(t.x,n.x,r.x),o=Math.max(t.x,n.x,r.x),u=Math.min(t.y,n.y,r.y),h=Math.max(t.y,n.y,r.y),h=Math.sqrt((o-s)*(o-s)+(h-u)*(h-u)),u=i/180*Math.PI,i=h*Math.cos(u)+t.x,u=h*Math.sin(u)+t.y;return 1==this.wt(t,{x:i,y:u},n,r,e)},St:function(t){for(var i={x:null,y:null},n=0,r=0,e=0;e<t.length;e++)n+=t[e].x,r+=t[e].y;return i.x=n/t.length,i.y=r/t.length,i},It:function(t,i,n,r){var e=[],s=t.x-i,o=t.x+i,u=t.y-i,h=t.y+i,a=Math.min(n.x,r.x),f=Math.max(n.x,r.x),c=Math.min(n.y,r.y),l=Math.max(n.y,r.y);if(f<s||o<a||l<u||h<c)return e;s=r.x-n.x,o=r.y-n.y,u=t.x-n.x,h=t.y-n.y,r=s*s+o*o,t=(s*u+o*h)/r,i=t*t-(u*u+h*h-i*i)/r;if(i<0)return e;r=Math.sqrt(i),i=-t+r,t=-t-r,r={x:n.x-s*i,y:n.y-o*i},o={x:n.x-s*t,y:n.y-o*t};return i===t||(a<=r.x&&r.x<=f&&c<=r.y&&r.y<=l&&e.push(r),a<=o.x&&o.x<=f&&c<=o.y&&o.y<=l&&e.push(o)),e}});var yt=new y;function bt(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}O=function(){function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.Nt={x:Number.MAX_VALUE,y:Number.MAX_VALUE},this.Lt={x:-Number.MAX_VALUE,y:-Number.MAX_VALUE}}var i,n,r;return i=t,(n=[{key:"min",get:function(){return this.Nt}},{key:"max",get:function(){return this.Lt}},{key:"center",get:function(){var t={x:Number.NaN,y:Number.NaN};return this.valid()&&(t.x=(this.min.x+this.max.x)/2,t.y=(this.min.y+this.max.y)/2),t}},{key:"size",get:function(){var t={x:Number.NaN,y:Number.NaN};return this.valid()&&(t.x=this.max.x-this.min.x,t.y=this.max.y-this.min.y),t}},{key:"copy",value:function(t){return this.Lt.x=t.max.x,this.Lt.y=t.max.y,this.Nt.x=t.min.x,this.Nt.y=t.min.y,this}},{key:"clone",value:function(){return(new t).copy(this)}},{key:"reset",value:function(){this.Nt={x:Number.MAX_VALUE,y:Number.MAX_VALUE},this.Lt={x:-Number.MAX_VALUE,y:-Number.MAX_VALUE}}},{key:"toObject",value:function(){return{min:this.min,max:this.max,center:this.center,size:this.size}}},{key:"expand",value:function(t){this.Pt(t)}},{key:"expandByCoords",value:function(t){this.Dt(t)}},{key:"valid",value:function(){return this.Ft()}},{key:"isCross",value:function(t){var i=!0;return t.max.x<this.min.x&&(i=!1),t.min.x>this.max.x&&(i=!1),t.max.y<this.min.y&&(i=!1),i=t.min.y>this.max.y?!1:i}}])&&bt(i.prototype,n),r&&bt(i,r),t}();Object.assign(O.prototype,{Ft:function(){return!(this.min.x>this.max.x||this.min.y>this.max.y)},Pt:function(t){t&&t.valid()&&(t.min.x<this.min.x&&(this.min.x=t.min.x),t.min.y<this.min.y&&(this.min.y=t.min.y),t.max.x>this.max.x&&(this.max.x=t.max.x),t.max.y>this.max.y&&(this.max.y=t.max.y))},Dt:function(t){var i=this;t&&0!=t.length&&t.forEach(function(t){t.x<i.min.x&&(i.min.x=t.x),t.y<i.min.y&&(i.min.y=t.y),t.x>i.max.x&&(i.max.x=t.x),t.y>i.max.y&&(i.max.y=t.y)})}});var pt=O;function mt(t){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wt(t,i){return(wt=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function _t(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=gt(n);return t=r?(t=gt(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),i=this,!(t=t)||"object"!==mt(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(i):t}}function gt(t){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}A=function(){!function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&wt(t,i)}(r,o);var n=_t(r);function r(t,i){return function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,r),(i=n.call(this,t,i)).Ct=i.Y.center,i.Bt=i.Y.radius,i.Ut=i.Y.radius*i.Y.radius,i.Gt=new pt,i.Gt.Dt([{x:i.Ct.x-i.Bt,y:i.Ct.y-i.Bt},{x:i.Ct.x+i.Bt,y:i.Ct.y+i.Bt}]),i}return r}();Object.assign(A.prototype,{X:function(t){return t.getType()!=Z.MODEL?this.Wt(t):this.Zt(t)},Zt:function(t){var i=t.getBound();if(!yt.st(this.Gt.Nt,this.Gt.Lt,i.min,i.max))return!1;for(var n=t.getCoordinates(),r=0,e=n.length;r<e;r++)for(var s=1,o=n[r].length;s<o;s++){var u=n[r][s];if(yt.vt(u,this.Ct)<this.Ut)return!0;var h=n[r][s-1];if(1==s&&yt.vt(h,this.Ct)<this.Ut)return!0;if(yt.dt(this.Ct,h,u)<this.Ut)return!0}return!1},Wt:function(t){t=t.getCoordinates()[0];return!!yt.ut(t,this.Gt.Nt,this.Gt.Lt)&&yt.vt(t,this.Ct)<this.Ut},H:function(t,i){var n=t.getCoordinates();if(t.getType()==Z.MODEL){for(var r=Number.MAX_VALUE,e=0,s=n.length;e<s;e++)for(var o=1,u=n[e].length;o<u;o++){var h=n[e][o-1],a=n[e][o],a=yt.dt(this.Ct,h,a);a<r&&(r=a)}i.lt=Math.sqrt(r)}else i.lt=Math.sqrt(yt.vt(n[0],this.Ct))}});var xt=A;function Ot(t){return(Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mt(t,i){return(Mt=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function jt(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=Et(n);return t=r?(t=Et(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),i=this,!(t=t)||"object"!==Ot(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(i):t}}function Et(t){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}D=function(){!function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&Mt(t,i)}(r,o);var n=jt(r);function r(t,i){return function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,r),(i=n.call(this,t,i)).Vt=i.Y,i.qt=i.Vt.length-1,i.Ct=yt.pt(i.Vt),i.Gt=new pt,i.Gt.Dt(i.Vt),i}return r}();Object.assign(D.prototype,{X:function(t){return t.getType()!=Z.MODEL?this.Wt(t):this.Zt(t)},Zt:function(t){var i=t.getBound();if(!yt.st(this.Gt.Nt,this.Gt.Lt,i.min,i.max))return!1;for(var n=t.getCoordinates(),r=0,e=n.length;r<e;r++)for(var s=0,o=n[r].length-1;s<o;s++)if(yt.ft(n[r][s],this.Vt,this.Vt.length))return!0;for(var u=0;u<this.qt;u++){for(var h=!1,a=0,f=n.length;a<f;a++)yt.ft(this.Vt[u],n[a],n[a].length-1)&&(h=0==a);if(h)return!0}for(var c=0;c<this.qt;c++)for(var l=this.Vt[c],v=this.Vt[c+1],d=0,y=n.length;d<y;d++)for(var b=0,p=n[d].length-1;b<p;b++){var m=n[d][b],w=n[d][b+1];if(yt.ot(l,v,m,w))return!0}for(var _=this.Vt[0],g=this.Vt[this.Vt.length-1],x=0,O=n.length;x<O;x++)for(var M=0,j=n[x].length-1;M<j;M++){var E=n[x][M],k=n[x][M+1];if(yt.ot(_,g,E,k))return!0}return!1},Wt:function(t){t=t.getCoordinates()[0];return!!yt.ut(t,this.Gt.Nt,this.Gt.Lt)&&yt.ft(t,this.Vt,this.Vt.length-1)},H:function(t,i){var n=t.getCoordinates();if(t.getType()===Z.MODEL){for(var r=Number.MAX_VALUE,e=0,s=n.length;e<s;e++)for(var o=1,u=n[e].length;o<u;o++){var h=n[e][o-1],a=n[e][o],a=yt.dt(this.Ct,h,a);a<r&&(r=a)}i.lt=Math.sqrt(r)}else i.lt=Math.sqrt(yt.vt(n[0],this.Ct))}});var kt=D;function Tt(t){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rt(t,i){return(Rt=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function At(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=St(n);return t=r?(t=St(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),i=this,!(t=t)||"object"!==Tt(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(i):t}}function St(t){return(St=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}r=function(){!function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&Rt(t,i)}(r,o);var n=At(r);function r(t,i){return function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t,i)}return r}();Object.assign(r.prototype,{X:function(t){return!1}});var It=r;function Nt(t){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lt(t,i){return(Lt=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function Pt(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=Dt(n);return t=r?(t=Dt(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),i=this,!(t=t)||"object"!==Nt(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(i):t}}function Dt(t){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}s=function(){!function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&Lt(t,i)}(r,o);var n=Pt(r);function r(t,i){return function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,r),(i=n.call(this,t,i)).zt=i.Y.point,i}return r}();Object.assign(s.prototype,{X:function(t){return t.getType()==Z.MODEL&&this.Zt(t)},Zt:function(t){var i=t.getBound();if(!yt.ut(this.zt,i.min,i.max))return!1;for(var n=t.getCoordinates(),r=0,e=0,s=n.length;e<s&&(yt.ft(this.zt,n[e],n[e].length-1)&&r++,!(1<r));e++);return 1==r}});var Ft=s;function Ct(t){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bt(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ut=new(function(){function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t)}var i,n,r;return i=t,(n=[{key:"create",value:function(t){if(!t||"object"!=Ct(t))return null;var i,n=[];for(i in t)switch(i){case"FID":n.push(new b(i,t[i]));break;case"name":n.push(new M(i,t[i]));break;case"ename":n.push(new S(i,t[i]));break;case"keyword":n.push(new W(i,t[i]));break;case"typeID":n.push(new F(i,t[i]));break;case"circle":n.push(new xt(i,t[i]));break;case"polygon":n.push(new kt(i,t[i]));break;case"buffer":n.push(new It(i,t[i]));break;case"contain":n.push(new Ft(i,t[i]))}return n}}])&&Bt(i.prototype,n),r&&Bt(i,r),t}());function Gt(t){return function(t){if(Array.isArray(t))return Wt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,i){if(t){if("string"==typeof t)return Wt(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wt(t,i):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wt(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function Zt(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var y=function(){function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.Yt=null,this.Xt=e.MODEL,this.Ht=null,this.Qt=[],this.$t=[],this.Kt=!1,this.Jt=null}var i,n,r;return i=t,(n=[{key:"levels",get:function(){return this.Yt},set:function(t){this.Yt=t}},{key:"type",get:function(){return this.Xt},set:function(t){this.Xt=t}},{key:"addCondition",value:function(t){var i,n=Ut.create(t);(i=this.$t).push.apply(i,Gt(n)),this.Qt.push(t)}},{key:"onlyInBuilding",get:function(){return this.Kt},set:function(t){this.Kt=t}},{key:"buildings",get:function(){return this.Jt},set:function(t){this.Jt=t}},{key:"buildingID",get:function(){return this.Ht},set:function(t){this.Ht=t}}])&&Zt(i.prototype,n),r&&Zt(i,r),t}(),Vt=n(1),qt={NAME_KEY_ERROR:0,MAP_ID_URL_ERROR:2,THEME_ID_URL_ERROR:4,LICENSE_ERROR:8,PATH_ERROR:404,INFO:32};function zt(t){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yt(i,t){var n,r=Object.keys(i);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(i),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable})),r.push.apply(r,n)),r}function Xt(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(e),!0).forEach(function(t){var i,n;i=r,t=e[n=t],n in i?Object.defineProperty(i,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[n]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):Yt(Object(e)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}return r}O=function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.ti=Xt({data:null,method:"GET",responseType:"json"},i)};Object.assign(O.prototype,{ii:function(t,i,n){var r=this.ti,e=r.data,s=r.method,o=r.url,u=r.responseType,h=r.header,a=null;if((a=new("undefined"!=typeof XMLHttpRequest?XMLHttpRequest:Vt.a.global().fengmap.XMLHttpRequest)).responseType=u,a.open(s,o),"object"==zt(h))for(var f in h)a.setRequestHeader(f,h[f]);a.addEventListener("load",function(){200===a.status||0===a.status||201===a.status?t&&t(a.response):i&&(404===a.status?i(qt.PATH_ERROR):2069===a.response.error_code?i(qt.NAME_KEY_ERROR):2063===a.response.error_code?i(qt.MAP_ID_URL_ERROR):400===a.response.error_code?i(qt.THEME_ID_URL_ERROR):i(a.response))}),a.addEventListener("timeout",function(t){n&&n(t)}),a.addEventListener("error",function(t){i&&i(t)}),a.send(JSON.stringify(e))}});var Ht=O,A=n(27),Qt=n.n(A);var $t=function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t);var i,e=["ZGVsQml6SW5mbw==","bWF4U2NhbGVMZQ==","TmF2aVJlbGF0aQ==","bm9kZUlk","TmF2aUZsb29y","Y29tLmZlbmdtYQ==","cm90YXRlQW5nbA==","QU5PUkFNQQ==","bGF5ZXJz","ZmxhZw==","bmVzdGVk","bmF2aVR5cGU=","ZGF0YQ==","cG9pTGF5ZXI=","R0VPUE9JTlRfRQ==","bWF4WQ==","UHJvdG9CdWY=","ZWxMYXllcg==","X1NUT1JF","ZGVsTGF5ZXI=","ZmlsZVZlcg==","TGFiZWxCaXpJbg==","cGFja2Vk","R0VPUE9JTlRfTQ==","bmF2aVpvbmVz","Zmxvb3JJZA==","ZW50cnl0eXBlcw==","ZGVzYw==","R2F0ZQ==","bWF4WA==","ZW50cmFuY2VUeQ==","bGlmdEVudHJ5","ZmxvYXQ=","cHJvdG9idWY=","ZXh0ZW50TGF5ZQ==","bW9kZWxMYXllcg==","bmV4dEZsb29ycw==","SUZU","UkFTVEVSQVRB","ZWlk","bWF4bGV2ZWw=","cC5wbGF0Zm9ybQ==","R0VPUE9MWUdPTg==","Zmlk","b2Zmc2V0WA==","c2VnbWVudElk","dmVs","c25vZGU=","bGlmdExheWVy","R0VPUE9JTlRfTg==","dHlwZQ==","R0VPUE9JTlRfUw==","Rmxvb3I=","X0VYVEVOVA==","cmVhZE9ubHk=","Ym9vbA==","Zmxvb3I=","cHRz","R0VPUE9JTlRfTA==","bWluWA==","U3RhaXJCaXpJbg==","c3RyaW5n","R0VPUE9JTlRfUA==","TmF2aVpvbmU=","ZW5hbWU=","ZGVmR2lk","a2V5","ZmllbGRz","b2Zmc2V0WQ==","bWlubGV2ZWw=","R2VuZXJhbEdlbw==","bW9kZWxpZA==","aW50MzI=","ZW50cmFuY2VGbA==","bm9kZVR5cGU=","ZmlsZURhdGU=","cnVsZQ==","bG5hbWU=","b3B0aW9ucw==","cmVwZWF0ZWQ=","cGFzcw==","TWFw","bWlk","bGlua1NlZw==","bHR5cGU=","c2NhbGU=","YW5nbGU=","c3RhaXJMYXllcg==","UkRFUg==","SW5mbw==","bGFiZWxMYXllcg==","aXNWaXNpYmxl","Z2Vv","dG9CaWQ=","SW5kZXhJbmZv","dWludDY0","TGF5ZXJHcm91cA==","b25zaGlw","UG9seWdvbkxhYg==","Z2lk","aGFzaENvZGU=","ZGF0ZVZlcg==","R0VPUE9JTlQ=","RXh0ZW50Qml6SQ==","Ymlk","aGVpZ2h0","YWxpYXM=","TmF2aVNlZ21lbg==","bmF2aVNlZ21lbg==","RXh0ZXJuYWxNbw==","YXJlYQ==","TW9kZWxCaXpJbg==","bWluWQ==","cmVxdWlyZWQ=","dG9HaWQ=","ZG91Ymxl","bW5hbWU=","Rmxvb3JOYXZp","YnR5cGU=","ZWxCaXpJbmZv","bmFtZQ==","ZGVmYXVsdA==","aWR4cw==","dmFsdWVz","X2NsYXNzbmFtZQ=="];i=e,function(t){for(;--t;)i.push(i.shift())}(460);function s(t,i){var n=e[t=+t];void 0===s.cjnKpV&&(function(){try{var i=Function('return (function() {}.constructor("return this")( ));')()}catch(t){i=window}i.atob||(i.atob=function(t){for(var i,n,r=String(t).replace(/=+$/,""),e="",s=0,o=0;n=r.charAt(o++);~n&&(i=s%4?64*i+n:n,s++%4)&&(e+=String.fromCharCode(255&i>>(-2*s&6))))n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return e})}(),s.kPInHx=function(t){for(var i=atob(t),n=[],r=0,e=i.length;r<e;r++)n+="%"+("00"+i.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)},s.bCPRQo={},s.cjnKpV=!0);var r=s.bCPRQo[t];return void 0===r?(n=s.kPInHx(n),s.bCPRQo[t]=n):n=r,n}var n={};n.java_package=s("0x2e")+s("0x52")+".protobuf",n["java_outer"+s("0x28")]="GateConfig"+s("0x39");var r={};r[s("0x75")]=s("0x1d"),r.type="string",r.id=1;var o={rule:"required"};o.type=s("0x71"),o.id=2;var u={rule:"required"};u.type=s("0xb"),u.id=3;var h={rule:"required"};h.type=s("0x66"),h.id=4;var a={};a[s("0x75")]="required",a[s("0x5b")]="string",a.id=5;var f={};f[s("0x5b")]="string",f.id=6;var c={},l={type:c[s("0x5b")]="string",id:8},v={default:!(c.id=7)},d={};d[s("0x5b")]="bool",d.id=9,d[s("0x77")]=v;var y={};y.rule=s("0x78"),y[s("0x5b")]="Buffer",y.id=10;var b={};b.rule=s("0x78"),b[s("0x5b")]="string",b.id=11;var p={};p.mid=r,p[s("0x3d")]=o,p[s("0x11")]=u,p[s("0x20")]=h,p[s("0x10")]=a,p[s("0x6b")]=f,p[s("0x74")]=c,p[s("0x44")]=l,p[s("0x5f")]=d,p.buffers=y,p.keys=b;var m={rule:"required"};m[s("0x5b")]="int32",m.id=1;var w={rule:"required"};w[s("0x5b")]=s("0x71"),w.id=2;var _={};_[s("0x75")]="required",_.type=s("0x71"),_.id=3;var g={};g.rule=s("0x1d"),g.type="uint64",g.id=4;var x={rule:"required",type:"bytes",id:5},O={};O[s("0xf")]=m,O.fileVer=w,O[s("0x22")]=_,O.len=g,O[s("0x35")]=x;var M={};M[s("0x6c")]=O;var j={};j.Buffer=M;var E={};E[s("0x6c")]=p,E[s("0x33")]=j;var k={rule:"required"};k[s("0x5b")]=s("0x66"),k.id=19;var T={};T.rule=s("0x1d"),T.type=s("0x71"),T.id=20;var R={};R.rule=s("0x1d"),R[s("0x5b")]=s("0xb"),R.id=21;var A={};A[s("0x75")]="required",A.type=s("0x66"),A.id=22;var S={};S[s("0x75")]=s("0x1d"),S[s("0x5b")]=s("0x66"),S.id=23;var I={};I[s("0x5b")]=s("0x66"),I.id=24;var N={};N.type=s("0x66");v={default:!(N.id=25)},r={};r[s("0x5b")]=s("0x60"),r.id=26,r[s("0x77")]=v;o={};o.type=s("0x49"),o.id=1;u={};u[s("0x5b")]=s("0x49"),u.id=2;h={};h.type=s("0x49"),h.id=3;a={};a[s("0x5b")]=s("0x49"),a.id=4;f={};f[s("0x5b")]=s("0x49"),f.id=5;c={};c[s("0x5b")]=s("0x49"),c.id=6;l={};l[s("0x5b")]=s("0x49"),l.id=7;d={type:"string",id:8},y={};y.type=s("0x49"),y.id=9;b={};b[s("0x5b")]=s("0x49"),b.id=10;m={type:"float",id:11},w={};w[s("0x5b")]="float",w.id=12;_={};_.type=s("0x49"),_.id=13;g={};g[s("0x5b")]=s("0x49"),g.id=14;x={type:"float",id:15},O={};O[s("0x5b")]=s("0x49"),O.id=16;M={};M[s("0x5b")]=s("0x66"),M.id=17;p={};p.rule=s("0x78"),p[s("0x5b")]="LayerGroup",p.id=18;j={};j[s("0x75")]=s("0x78"),j.type="Building",j.id=27;v={};v[s("0x7b")]=k,v.fileVer=T,v.dateVer=R,v[s("0x20")]=A,v[s("0x10")]=S,v.key=I,v[s("0x44")]=N,v.readOnly=r,v.x=o,v.y=u,v.z=h,v[s("0x64")]=a,v[s("0x1c")]=f,v[s("0x46")]=c,v[s("0x38")]=l,v[s("0x6a")]=d,v.defCenX=y,v.defCenY=b,v.defCenZ=m,v.height=w,v.rotateAngleX=_,v.rotateAngleY=g,v[s("0x2f")+"eZ"]=x,v[s("0x1")]=O,v.scaleLevel=M,v.layerGroups=p,v.buildings=j;u={};u[s("0x5b")]=s("0x71"),u.id=1;h={};h.type=s("0x66"),h.id=2;a={type:"string",id:3},f={};f[s("0x5b")]="Type",f.id=4;c={};c.type=s("0x49"),c.id=5;l={type:"float",id:6},d={};d[s("0x5b")]="float",d.id=7;y={type:"float",id:8},b={type:"float",id:9},m={};m[s("0x5b")]="float",m.id=10;w={};w.type=s("0x49"),w.id=11;_={type:"float",id:12},g={};g[s("0x5b")]="bool",g.id=13;x={};x[s("0x5b")]=s("0x60"),x.id=14;O={type:"bool",id:15},M={type:"string",id:16},p={};p.lid=u,p[s("0x76")]=h,p.alias=a,p[s("0x0")]=f,p.offsetX=c,p[s("0x6d")]=l,p.height=d,p[s("0x2f")+"eX"]=y,p[s("0x2f")+"eY"]=b,p[s("0x2f")+"eZ"]=m,p["minScaleLe"+s("0x57")]=w,p[s("0x2a")+"vel"]=_,p[s("0x7")]=g,p.isSelectable=x,p.isEditable=O,p.desc=M;j={};j[s("0x12")]=1,j[s("0x37")+"SCALATOR"]=2,j[s("0x63")+s("0x4e")]=3,j[s("0x5c")+"TAIR"]=4,j[s("0x67")+s("0x30")]=5,j[s("0x67")+"OI"]=6,j[s("0x5c")+"TORELABEL"]=7,j[s("0x5a")+"AVINODE"]=8,j[s("0x40")+"ODEL"]=9,j.GEOLINE=20,j.GEOLINE_NAVISEGMENT=21,j["GEOLINE_BO"+s("0x4")]=22,j[s("0x53")]=30,j[s("0x53")+s("0x5e")]=31,j["GEOPOLYGON"+s("0x3b")]=32,j.GEOPOLYGON_LABEL=33,j[s("0x4f")]=40,j.OVERLAYDATA=50;u={};u[s("0x27")]=j;h={};h.Type=u;a={};a[s("0x6c")]=p,a.nested=h;f={};f[s("0x5b")]=s("0x71"),f.id=1;c={};c[s("0x5b")]=s("0x66"),c.id=2;l={};l[s("0x5b")]="string",l.id=3;d={type:"float",id:4},y={};y.type=s("0x66"),y.id=5;b={};b.rule=s("0x78"),b.type="Layer",b.id=6;m={type:"string",id:7},w={type:"int32",id:8},_={};_.gid=f,_.gname=c,_[s("0x16")]=l,_[s("0x15")]=d,_.desc=y,_[s("0x31")]=b,_[s("0x42")]=m,_[s("0x34")]=w;g={};g[s("0x6c")]=_;x={};x.type=s("0x71"),x.id=1;O={};O[s("0x5b")]=s("0x49"),O.id=2;M={};M[s("0x5b")]="float",M.id=3;j={type:"float",id:4},u={};u[s("0x5b")]=s("0x49"),u.id=5;p={};p.type=s("0x49"),p.id=6;h={};h[s("0x5b")]="float",h.id=7;f={};f[s("0x75")]="repeated",f[s("0x5b")]="string",f.id=8;c={};c[s("0x5b")]="int32",c.id=9;l={type:"bool",id:10},d={type:"int32",id:11},y={};y.type=s("0x71"),y.id=12;b={};b[s("0x5b")]="string",b.id=13;m={};m[s("0x75")]="repeated",m[s("0x5b")]=s("0xa");w={packed:!(m.id=14)},_={rule:"repeated"};_[s("0x5b")]="double",_.id=15,_.options=w;w={};w[s("0xf")]=x,w.x=O,w.y=M,w[s("0x55")]=j,w[s("0x6d")]=u,w.angle=p,w[s("0x1")]=h,w.fids=f,w.pgid=c,w.baseLevel=l,w[s("0x6e")]=d,w.maxlevel=y,w.floorId=b,w[s("0x26")]=m,w[s("0x62")]=_;x={packed:!1},O={};O.rule=s("0x78"),O.type="int32",O.id=1,O.options=x;M={};M[s("0x26")]=O;j={};j[s("0x6c")]=M;u={};u.IndexInfo=j;p={};p[s("0x6c")]=w,p.nested=u;h={};h[s("0x5b")]=s("0x66"),h.id=1;f={};f.type=s("0x66"),f.id=2;c={};c.type=s("0x66"),c.id=3;l={};l[s("0x5b")]="string",l.id=4;d={};d.type=s("0x49"),d.id=5;y={};y[s("0x5b")]="float",y.id=6;b={};b.type=s("0x66"),b.id=7;m={};m.type=s("0x71"),m.id=8;_={};_.rule=s("0x78"),_.type="Floor",_.id=9;x={};x[s("0x14")]=h,x[s("0x24")]=f,x.ename=c,x.alias=l,x.x=d,x.y=y,x.mid=b,x.version=m,x.floors=_;O={};O[s("0x6c")]=x;M={};M.Layer=a,M[s("0xc")]=g,M[s("0x5d")]=p,M.Building=O;j={};j[s("0x6c")]=v,j.nested=M;w={};w[s("0x75")]="required",w[s("0x5b")]="string",w.id=1;u={};u.rule=s("0x1d"),u.type="int32",u.id=2;h={type:"float",id:3},f={};f[s("0x75")]="repeated",f[s("0x5b")]="GeneralGeoInfo",f.id=4;c={rule:"repeated"};c.type=s("0x6f")+"Info",c.id=5;l={};l[s("0x75")]=s("0x78"),l.type="GeneralGeo"+s("0x5"),l.id=6;d={};d[s("0x75")]=s("0x78"),d.type=s("0x6f")+"Info",d.id=7;y={rule:"repeated"};y.type=s("0x6f")+"Info",y.id=8;b={};b[s("0x75")]=s("0x78"),b[s("0x5b")]="GeneralGeo"+s("0x5"),b.id=9;m={};m[s("0x75")]=s("0x78"),m.type=s("0x6f")+s("0x5"),m.id=10;_={};_[s("0x75")]="repeated",_[s("0x5b")]="GeneralGeoInfo",_.id=11;x={};x.rule=s("0x78"),x[s("0x5b")]="GeneralGeo"+s("0x5"),x.id=12;a={};a[s("0x75")]=s("0x78"),a.type="GeneralGeo"+s("0x5"),a.id=13;g={};g[s("0x7b")]=w,g[s("0xf")]=u,g.height=h,g[s("0x4b")+"r"]=f,g[s("0x4c")]=c,g[s("0x6")]=l,g.poiLayer=d,g.polygonLayer=y,g.polygonLabelLayer=b,g[s("0x59")]=m,g.stairLayer=_,g.escalatorLayer=x,g["externalMo"+s("0x3c")]=a;p={};p[s("0x75")]=s("0x1d"),p.type="int32",p.id=1;O={};O[s("0x5b")]="string",O.id=2;v={};v.type=s("0x49"),v.id=3;M={};M[s("0x5b")]=s("0x49"),M.id=4;w={rule:"repeated"};w[s("0x5b")]="IndexInfo";u={packed:!(w.id=5)},h={};h[s("0x75")]="repeated",h[s("0x5b")]=s("0x1f"),h.id=6,h[s("0x77")]=u;f={};f.eid=p,f[s("0x8")]=O,f[s("0x15")]=v,f[s("0x1a")]=M,f.idxs=w,f[s("0x62")]=h;c={packed:!1},l={};l[s("0x75")]="repeated",l[s("0x5b")]=s("0x71"),l.id=1,l.options=c;d={};d[s("0x26")]=l;y={};y.fields=d;b={};b.IndexInfo=y;m={};m[s("0x6c")]=f,m[s("0x33")]=b;_={};_[s("0x6f")+"Info"]=m;x={};x.fields=g,x[s("0x33")]=_;a={};a.rule=s("0x1d"),a[s("0x5b")]="string",a.id=1;u={};u[s("0x75")]=s("0x1d"),u[s("0x5b")]=s("0x71"),u.id=2;p={};p[s("0x75")]="repeated",p[s("0x5b")]="ExtentBizInfo",p.id=3;O={};O.rule=s("0x78"),O[s("0x5b")]="ModelBizInfo",O.id=4;v={};v[s("0x75")]="repeated",v[s("0x5b")]=s("0x3e")+"fo",v.id=5;M={};M[s("0x75")]="repeated",M.type="POIBizInfo",M.id=6;w={};w[s("0x75")]="repeated",w.type="PolygonBizInfo",w.id=7;h={};h.rule=s("0x78"),h.type="LiftBizInfo",h.id=8;c={};c[s("0x75")]=s("0x78"),c[s("0x5b")]=s("0x65")+"fo",c.id=9;l={};l.rule=s("0x78"),l.type="PolygonLab"+s("0x23"),l.id=10;d={};d[s("0x75")]="repeated",d.type=s("0x19")+"delBizInfo",d.id=11;y={};y[s("0x7b")]=a,y[s("0xf")]=u,y.extentLayer=p,y[s("0x4c")]=O,y.labelLayer=v,y[s("0x36")]=M,y.polygonLayer=w,y[s("0x59")]=h,y[s("0x3")]=c,y["polygonLab"+s("0x3a")]=l,y.externalModelLayer=d;f={rule:"required"};f[s("0x5b")]="int32",f.id=1;b={};b[s("0x5b")]=s("0x66"),b.id=2;m={type:"int32",id:3},g={};g.type=s("0x66"),g.id=4;_={};_.type=s("0x66"),_.id=5;a={};a[s("0x5b")]="int32",a.id=6;u={type:"int32",id:7},p={};p.eid=f,p.fid=b,p.type=m,p.name=g,p[s("0x69")]=_,p.minlevel=a,p[s("0x51")]=u;O={};O[s("0x6c")]=p;v={};v.rule=s("0x1d"),v.type=s("0x71"),v.id=1;M={};M[s("0x5b")]="string",M.id=2;w={};w[s("0x5b")]=s("0x71"),w.id=3;h={};h[s("0x5b")]="string",h.id=4;c={};c[s("0x5b")]=s("0x66"),c.id=5;l={};l[s("0x5b")]="int32",l.id=6;d={type:"int32",id:7},f={type:"int32",id:8},b={};b.eid=v,b[s("0x54")]=M,b.type=w,b[s("0x24")]=h,b.ename=c,b.minlevel=l,b[s("0x51")]=d,b[s("0x79")]=f;m={};m[s("0x6c")]=b;g={rule:"required"};g[s("0x5b")]=s("0x71"),g.id=1;_={};_.type=s("0x66"),_.id=2;a={};a[s("0x5b")]=s("0x71"),a.id=3;u={};u[s("0x5b")]=s("0x66"),u.id=4;p={};p[s("0x5b")]="string",p.id=5;v={};v[s("0x5b")]=s("0x71"),v.id=6;M={};M[s("0x5b")]="int32",M.id=7;w={};w[s("0x50")]=g,w[s("0x54")]=_,w.type=a,w.name=u,w[s("0x69")]=p,w.minlevel=v,w[s("0x51")]=M;h={};h.fields=w;c={rule:"required",type:"int32",id:1},l={};l[s("0x5b")]="string",l.id=2;d={type:"int32",id:3},f={};f[s("0x5b")]=s("0x66"),f.id=4;b={};b[s("0x5b")]="string",b.id=5;g={};g[s("0x5b")]=s("0x71"),g.id=6;_={};_.type=s("0x71"),_.id=7;a={};a.eid=c,a[s("0x54")]=l,a[s("0x5b")]=d,a.name=f,a[s("0x69")]=b,a.minlevel=g,a.maxlevel=_;u={};u[s("0x6c")]=a;p={};p[s("0x75")]="required",p.type=s("0x71"),p.id=1;v={type:"string",id:2},M={};M[s("0x5b")]="int32",M.id=3;w={};w[s("0x5b")]=s("0x66"),w.id=4;c={};c.type=s("0x66"),c.id=5;l={};l.type=s("0x71"),l.id=6;d={};d[s("0x5b")]=s("0x71"),d.id=7;f={};f.eid=p,f[s("0x54")]=v,f[s("0x5b")]=M,f[s("0x24")]=w,f[s("0x69")]=c,f[s("0x6e")]=l,f[s("0x51")]=d;b={};b.fields=f;g={};g[s("0x75")]=s("0x1d"),g.type="int32",g.id=1;_={};_[s("0x5b")]="string",_.id=2;a={type:"int32",id:3},p={};p[s("0x5b")]="int32",p.id=4;v={};v[s("0x5b")]=s("0x66"),v.id=5;M={type:"int32",id:6},w={type:"int32",id:7},c={};c.eid=g,c[s("0x54")]=_,c.type=a,c.flag=p,c[s("0x61")]=v,c[s("0x6e")]=M,c[s("0x51")]=w;l={};l.fields=c;d={rule:"required"};d[s("0x5b")]=s("0x71"),d.id=1;f={};f[s("0x5b")]="string",f.id=2;g={type:"int32",id:3},_={};_[s("0x5b")]="int32",_.id=4;a={};a[s("0x5b")]=s("0x71"),a.id=5;p={};p.type=s("0x71"),p.id=6;v={};v.eid=d,v[s("0x54")]=f,v.type=g,v[s("0x32")]=_,v.minlevel=a,v.maxlevel=p;M={};M[s("0x6c")]=v;w={rule:"required",type:"int32",id:1},c={};c.type=s("0x66"),c.id=2;d={};d[s("0x5b")]=s("0x71"),d.id=3;f={};f[s("0x5b")]="float",f.id=4;g={};g[s("0x5b")]=s("0x66"),g.id=5;_={};_[s("0x5b")]=s("0x66"),_.id=6;a={};a[s("0x5b")]=s("0x49"),a.id=7;p={};p.eid=w,p.fid=c,p[s("0x5b")]=d,p.width=f,p[s("0x24")]=g,p[s("0x69")]=_,p[s("0x2")]=a;v={};v[s("0x6c")]=p;w={rule:"required"};w[s("0x5b")]="int32",w.id=1;c={};c.type=s("0x66"),c.id=2;d={};d[s("0x5b")]=s("0x71"),d.id=3;f={};f[s("0x5b")]=s("0x66"),f.id=4;g={};g.type=s("0x66"),g.id=5;_={};_[s("0x5b")]="int32",_.id=6;a={};a[s("0x5b")]=s("0x71"),a.id=7;p={};p.eid=w,p[s("0x54")]=c,p[s("0x5b")]=d,p[s("0x24")]=f,p.ename=g,p.minlevel=_,p[s("0x51")]=a;w={};w.fields=p;c={};c[s("0x13")+"nfo"]=O,c[s("0x1b")+"fo"]=m,c[s("0x3e")+"fo"]=h,c["PolygonBiz"+s("0x5")]=u,c.POIBizInfo=b,c.LiftBizInfo=l,c[s("0x65")+"fo"]=M,c[s("0xe")+s("0x23")]=v,c["ExternalMo"+s("0x29")]=w;d={};d[s("0x6c")]=y,d[s("0x33")]=c;f={};f[s("0x75")]="required",f.type="string",f.id=1;g={rule:"required"};g[s("0x5b")]=s("0x71"),g.id=2;_={rule:"repeated",type:"NaviNode",id:3},a={};a.rule=s("0x78"),a.type=s("0x17")+"t",a.id=4;p={};p.rule=s("0x78"),p[s("0x5b")]=s("0x68"),p.id=5;O={rule:"repeated",type:"NaviModel",id:6},m={};m[s("0x3f")]=!1;h={rule:"repeated"};h[s("0x5b")]=s("0x71"),h.id=7,h.options=m;u={};u.mid=f,u[s("0xf")]=g,u.naviNodes=_,u[s("0x18")+"ts"]=a,u[s("0x41")]=p,u.naviModels=O,u[s("0x4d")]=h;b={};b.type=s("0x71"),b.id=1;l={type:"int32",id:2},M={};M[s("0x5b")]="int32",M.id=3;v={type:"int32",id:4},w={};w[s("0x5b")]=s("0x71"),w.id=5;y={};y.type=s("0x66"),y.id=6;c={};c[s("0x5b")]="string",c.id=7;m={};m.type=s("0x66"),m.id=8;f={};f.type=s("0x71"),f.id=9;g={type:"string",id:10},_={};_.type=s("0x71");a={packed:!(_.id=11)},p={};p[s("0x75")]="repeated",p[s("0x5b")]="int32",p.id=12,p.options=a;O={packed:!1},h={};h[s("0x75")]=s("0x78"),h.type="double",h.id=13,h[s("0x77")]=O;a={default:0},O={type:"int32",id:14};O.options=a;a={};a[s("0x2c")]=b,a[s("0x73")]=l,a.liftType=M,a.liftFlag=v,a[s("0x48")]=w,a.liftFloor=y,a[s("0x7c")]=c,a.geo=m,a[s("0x47")+"pe"]=f,a[s("0x72")+"oor"]=g,a.doortype=_,a.idxs=p,a[s("0x62")]=h,a.accessible=O;l={};l.fields=a;M={};M[s("0x5b")]="int32",M.id=1;v={};v[s("0x5b")]=s("0x71"),v.id=2;w={};w.type=s("0x71"),w.id=3;y={};y[s("0x5b")]=s("0x1f"),y.id=4;c={type:"int32",id:5},m={};m.type=s("0x66"),m.id=6;f={};f[s("0x5b")]="int32",f.id=7;g={type:"string",id:8},_={};_[s("0x5b")]="string",_.id=9;p={};p[s("0x5b")]="int32",p.id=10;h={};h[s("0x3f")]=!1;O={};O.rule=s("0x78"),O.type="int32",O.id=11,O.options=h;a={};a[s("0x3f")]=!1;h={};h[s("0x75")]=s("0x78"),h[s("0x5b")]="double",h.id=12,h[s("0x77")]=a;a={};a[s("0x56")]=M,a[s("0x58")]=v,a.enode=w,a.length=y,a.rank=c,a[s("0x24")]=m,a.entry=f,a[s("0x44")]=g,a[s("0x8")]=_,a.through=p,a[s("0x26")]=O,a[s("0x62")]=h;y={};y[s("0x6c")]=a;c={};c[s("0x75")]="required",c.type=s("0x71"),c.id=1;m={};m[s("0x25")]=0;f={rule:"required"};f[s("0x5b")]=s("0x71"),f.id=2,f[s("0x77")]=m;g={type:"string",id:3},_={rule:"repeated",type:"string",id:4},p={};p[s("0x3f")]=!1;O={rule:"repeated"};O[s("0x5b")]="int32",O.id=5,O.options=p;h={};h[s("0x3f")]=!1;a={};a.rule=s("0x78"),a.type=s("0x1f"),a.id=6,a.options=h;m={};m.id=c,m[s("0x5b")]=f,m[s("0x8")]=g,m.rejects=_,m[s("0x26")]=O,m.pts=a;p={};p.fields=m;h={rule:"required"};h[s("0x5b")]="int32",h.id=1;c={};c[s("0x3f")]=!1;f={};f[s("0x75")]="repeated",f.type=s("0x71"),f.id=2,f[s("0x77")]=c;g={packed:!1},_={};_[s("0x75")]="repeated",_.type="int32",_.id=3,_[s("0x77")]=g;O={};O[s("0x3f")]=!1;a={};a[s("0x75")]="repeated",a.type="int32",a.id=4,a[s("0x77")]=O;m={};m[s("0x70")]=h,m.doorids=f,m.nodetypes=_,m[s("0x43")]=a;c={};c.fields=m;g={};g.NaviNode=l,g[s("0x17")+"t"]=y,g.NaviZone=p,g.NaviModel=c;O={};O.fields=u,O.nested=g;h={};h.rule=s("0x1d"),h[s("0x5b")]="string",h.id=1;f={};f.rule=s("0x78"),f.type=s("0x2d"),f.id=2;_={};_[s("0x7b")]=h,_.floors=f;a={};a[s("0x5b")]="int32",a.id=1;m={type:"string",id:2},l={type:"string",id:3},y={};y[s("0x5b")]="string",y.id=4;p={rule:"repeated"};p.type=s("0x2b")+s("0xd"),p.id=5;c={};c[s("0x75")]="repeated",c[s("0x5b")]="NaviRelati"+s("0xd"),c.id=6;u={rule:"repeated"};u.type=s("0x2b")+"onship",u.id=7;g={};g[s("0xf")]=a,g.floorId=m,g[s("0x14")]=l,g[s("0x7b")]=y,g.navi=p,g.drive=c,g.accessible=u;h={};h.fields=g;f={};f[s("0x75")]=s("0x1d"),f[s("0x5b")]=s("0x71"),f.id=1;a={};a.type=s("0x71"),a.id=2;m={};m.type=s("0x71"),m.id=3;l={};l[s("0x75")]="repeated",l[s("0x5b")]="IndexInfo",l.id=4;y={};y[s("0x3f")]=!1;p={};p[s("0x75")]=s("0x78"),p.type="double",p.id=5,p[s("0x77")]=y;c={};c[s("0x5b")]=s("0x71"),c.id=6;u={};u[s("0x75")]="repeated",u[s("0x5b")]="string",u.id=7;g={rule:"repeated",type:"string",id:8},y={};y[s("0x50")]=f,y[s("0x5b")]=a,y.accessible=m,y[s("0x26")]=l,y.pts=p,y[s("0x32")]=c,y[s("0x9")]=u,y[s("0x1e")]=g;u={};u[s("0x3f")]=!1;g={rule:"repeated"};g.type=s("0x71"),g.id=1,g.options=u;u={};u.idxs=g;g={};g[s("0x6c")]=u;u={};u.IndexInfo=g;g={};g.fields=y,g.nested=u;u={};u.NaviFloor=h,u[s("0x2b")+"onship"]=g;g={};g[s("0x6c")]=_,g.nested=u;u={};u[s("0x7a")]=E,u.Scene=j,u.FloorGeo=x,u.FloorBiz=d,u[s("0x21")]=O,u[s("0x45")]=g;g={};g.options=n,g.nested=u;u={};u[s("0x4a")]=g;g={};g.nested=u,this.id=g};D=function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.ni=null};Object.assign(D.prototype,{ri:function(){this.ni||(this.ni=Qt.a.Root.fromJSON("undefined"!=typeof KjWzhWlSj&&KjWzhWlSj.ProtoDef?KjWzhWlSj.ProtoDef:(new $t).id))},ei:function(t){return this.ri(),this.ni.lookup("Map").decode(t)},si:function(t){for(var i=0;i<t.buffers.length;i++){var n=t.buffers[i];if(1==n.btype)return this.oi(n.data)}return null},ui:function(t){for(var i=0;i<t.buffers.length;i++){var n=t.buffers[i];if(7==n.btype)return this.ai(n.data)}return null},fi:function(t,i){for(var n=0;n<t.buffers.length;n++){var r=t.buffers[n];if(2==r.btype&&r.gid==i)return this.ci(r.data)}return null},li:function(t,i){for(var n=0;n<t.buffers.length;n++){var r=t.buffers[n];if(3==r.btype&&r.gid==i)return this.vi(r.data)}return null},di:function(t,i){for(var n=0;n<t.buffers.length;n++){var r=t.buffers[n];if(4==r.btype&&r.gid==i)return this.yi(r.data)}return null},bi:function(t,i){for(var n=0;n<t.buffers.length;n++){var r=t.buffers[n];if(5===r.btype&&r.gid===i)return this.yi(r.data)}return null},pi:function(t,i){for(var n=0;n<t.buffers.length;n++){var r=t.buffers[n];if(6===r.btype&&r.gid===i)return this.yi(r.data)}return null},oi:function(t){this.ri();var i=this.ni.lookup("Scene").decode(t);return i.levels=[],i.layerGroups.forEach(function(t){i.levels.push(t.gid)}),i},ai:function(t){return this.ri(),this.ni.lookup("Gate").decode(t)},ci:function(t){return this.ri(),this.ni.lookup("FloorGeo").decode(t)},vi:function(t){return this.ri(),this.ni.lookup("FloorBiz").decode(t)},yi:function(t){return this.ri(),this.ni.lookup("FloorNavi").decode(t)}});var Kt=D;r=function t(){var i;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),void 0!==Vt.a.global().KjWzhWlSj&&Vt.a.global().KjWzhWlSj.ProtoReaderStatic?(i=Vt.a.global().KjWzhWlSj.ProtoReaderStatic,this.mi=new i):this.mi=new Kt};Object.assign(r.prototype,{ei:function(t){return this.mi.ei(t)},si:function(t){return this.mi.si(t)},ui:function(t){return this.mi.ui(t)},fi:function(t,i){return this.mi.fi(t,i)},li:function(t,i){return this.mi.li(t,i)},di:function(t,i){return this.mi.di(t,i)},bi:function(t,i){return this.mi.bi(t,i)},pi:function(t,i){return this.mi.pi(t,i)},oi:function(t){return this.mi.oi(t)},ai:function(t){return this.mi.ai(t)},ci:function(t){return this.mi.ci(t)},vi:function(t){return this.mi.vi(t)},yi:function(t){return this.mi.yi(t)}});var Jt,ti,ii,ni,ri,ei=r,s="https://console.fengmap.com/api-s/",si={domain:s,online:s+"sdk/check",check:s+"sdk/auth/web",download:s+"sdk/auth/obtainMapRoute",downloadTile:s+"sdk/authLayered/obtainMapRoute",collect:s+"sdk/collect",themeUrl:s+"webtheme/",externalModelURL:s+"webmodel/"};function oi(t,i){for(var n,r=0,e=0,e=0;e<8;e++)1&i&&(r^=t),n=128&t,t<<=1,n&&(t^=27),i>>=1;return r}function ui(t,i,n){for(var r=0;r<4;r++)t[0+r]^=i[16*n+4*r],t[4+r]^=i[16*n+4*r+1],t[8+r]^=i[16*n+4*r+2],t[12+r]^=i[16*n+4*r+3]}function hi(t){for(var i,n,r,e=1;e<4;e++)for(n=0;n<e;){for(r=t[4*e+4-1],i=3;0<i;i--)t[4*e+i]=t[4*e+i-1];t[4*e+0]=r,n++}}function ai(t){for(var i,n,r,e=0;e<4;e++)for(i=0;i<4;i++)n=(240&t[4*e+i])>>4,r=15&t[4*e+i],t[4*e+i]=ti[16*n+r]}function fi(t){for(var i=0;i<4;i++)t[i]=Jt[16*((240&t[i])>>4)+(15&t[i])]}function ci(t){return parseInt(t,16)}var li=(Jt=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],ti=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],ri=[2,ni=ii=0,0,0],{decryption:function(t,i){for(var n=Array(16),r=0;r<16;r++)n[r]=16*ci(i.substr(2*r,1))+ci(i.substr(2*r+1,1));var e=Array(16);for(r=0;r<16;r++)e[r]=16*ci(t.substr(2*r,1))+ci(t.substr(2*r+1,1));var s=Array(16);switch(r=[],n.length){default:case 16:ii=4,ni=10;break;case 24:ii=6,ni=12;break;case 32:ii=8,ni=14}for(var o=r=Array(16*(ni+1)),u=Array(4),h=4*(ni+1),a=0;a<ii;a++)o[4*a+0]=n[4*a+0],o[4*a+1]=n[4*a+1],o[4*a+2]=n[4*a+2],o[4*a+3]=n[4*a+3];for(a=ii;a<h;a++){if(u[0]=o[4*(a-1)+0],u[1]=o[4*(a-1)+1],u[2]=o[4*(a-1)+2],u[3]=o[4*(a-1)+3],0==a%ii){for(var f=void 0,c=void 0,f=(n=u)[0],c=0;c<3;c++)n[c]=n[c+1];if(n[3]=f,fi(u),1==(n=a/ii))ri[0]=1;else if(1<n)for(ri[0]=2,n--;0<n-1;)ri[0]=oi(ri[0],2),n--;(c=n=u)[0]=n[0]^(f=ri)[0],c[1]=n[1]^f[1],c[2]=n[2]^f[2],c[3]=n[3]^f[3]}else 6<ii&&4==a%ii&&fi(u);o[4*a+0]=o[4*(a-ii)+0]^u[0],o[4*a+1]=o[4*(a-ii)+1]^u[1],o[4*a+2]=o[4*(a-ii)+2]^u[2],o[4*a+3]=o[4*(a-ii)+3]^u[3]}for(o=Array(16),u=0;u<4;u++)for(a=0;a<4;a++)o[4*u+a]=e[u+4*a];for(ui(o,r,ni),e=ni-1;1<=e;e--)for(hi(o),ai(o),ui(o,r,e),u=o,a=[14,9,13,11],h=c=void 0,n=Array(4),f=Array(4),h=0;h<4;h++){for(c=0;c<4;c++)n[c]=u[4*c+h];var l=n,v=f;for(v[0]=oi((c=a)[0],l[0])^oi(c[3],l[1])^oi(c[2],l[2])^oi(c[1],l[3]),v[1]=oi(c[1],l[0])^oi(c[0],l[1])^oi(c[3],l[2])^oi(c[2],l[3]),v[2]=oi(c[2],l[0])^oi(c[1],l[1])^oi(c[0],l[2])^oi(c[3],l[3]),v[3]=oi(c[3],l[0])^oi(c[2],l[1])^oi(c[1],l[2])^oi(c[0],l[3]),c=0;c<4;c++)u[4*c+h]=f[c]}for(hi(o),ai(o),ui(o,r,0),u=0;u<4;u++)for(a=0;a<4;a++)s[u+4*a]=o[4*u+a];for(e="",r=0;r<16;++r)e+=o=(o=s[r].toString(16)).length<2?"0"+o:o;return e}});function vi(t,i){var n=(65535&t)+(65535&i);return(t>>16)+(i>>16)+(n>>16)<<16|65535&n}function di(t,i,n,r,e,s){return vi((s=vi(vi(i,t),vi(r,s)))<<(e=e)|s>>>32-e,n)}function yi(t,i,n,r,e,s,o){return di(i&n|~i&r,t,i,e,s,o)}function bi(t,i,n,r,e,s,o){return di(i&r|n&~r,t,i,e,s,o)}function pi(t,i,n,r,e,s,o){return di(i^n^r,t,i,e,s,o)}function mi(t,i,n,r,e,s,o){return di(n^(i|~r),t,i,e,s,o)}function wi(t,i){var n,r,e,s;t[i>>5]|=128<<i%32,t[14+(i+64>>>9<<4)]=i;for(var o=1732584193,u=-271733879,h=-1732584194,a=271733878,f=0;f<t.length;f+=16)o=yi(n=o,r=u,e=h,s=a,t[f],7,-680876936),a=yi(a,o,u,h,t[f+1],12,-389564586),h=yi(h,a,o,u,t[f+2],17,606105819),u=yi(u,h,a,o,t[f+3],22,-1044525330),o=yi(o,u,h,a,t[f+4],7,-176418897),a=yi(a,o,u,h,t[f+5],12,1200080426),h=yi(h,a,o,u,t[f+6],17,-1473231341),u=yi(u,h,a,o,t[f+7],22,-45705983),o=yi(o,u,h,a,t[f+8],7,1770035416),a=yi(a,o,u,h,t[f+9],12,-1958414417),h=yi(h,a,o,u,t[f+10],17,-42063),u=yi(u,h,a,o,t[f+11],22,-1990404162),o=yi(o,u,h,a,t[f+12],7,1804603682),a=yi(a,o,u,h,t[f+13],12,-40341101),h=yi(h,a,o,u,t[f+14],17,-1502002290),o=bi(o,u=yi(u,h,a,o,t[f+15],22,1236535329),h,a,t[f+1],5,-165796510),a=bi(a,o,u,h,t[f+6],9,-1069501632),h=bi(h,a,o,u,t[f+11],14,643717713),u=bi(u,h,a,o,t[f],20,-373897302),o=bi(o,u,h,a,t[f+5],5,-701558691),a=bi(a,o,u,h,t[f+10],9,38016083),h=bi(h,a,o,u,t[f+15],14,-660478335),u=bi(u,h,a,o,t[f+4],20,-405537848),o=bi(o,u,h,a,t[f+9],5,568446438),a=bi(a,o,u,h,t[f+14],9,-1019803690),h=bi(h,a,o,u,t[f+3],14,-187363961),u=bi(u,h,a,o,t[f+8],20,1163531501),o=bi(o,u,h,a,t[f+13],5,-1444681467),a=bi(a,o,u,h,t[f+2],9,-51403784),h=bi(h,a,o,u,t[f+7],14,1735328473),o=pi(o,u=bi(u,h,a,o,t[f+12],20,-1926607734),h,a,t[f+5],4,-378558),a=pi(a,o,u,h,t[f+8],11,-2022574463),h=pi(h,a,o,u,t[f+11],16,1839030562),u=pi(u,h,a,o,t[f+14],23,-35309556),o=pi(o,u,h,a,t[f+1],4,-1530992060),a=pi(a,o,u,h,t[f+4],11,1272893353),h=pi(h,a,o,u,t[f+7],16,-155497632),u=pi(u,h,a,o,t[f+10],23,-1094730640),o=pi(o,u,h,a,t[f+13],4,681279174),a=pi(a,o,u,h,t[f],11,-358537222),h=pi(h,a,o,u,t[f+3],16,-722521979),u=pi(u,h,a,o,t[f+6],23,76029189),o=pi(o,u,h,a,t[f+9],4,-640364487),a=pi(a,o,u,h,t[f+12],11,-421815835),h=pi(h,a,o,u,t[f+15],16,530742520),o=mi(o,u=pi(u,h,a,o,t[f+2],23,-995338651),h,a,t[f],6,-198630844),a=mi(a,o,u,h,t[f+7],10,1126891415),h=mi(h,a,o,u,t[f+14],15,-1416354905),u=mi(u,h,a,o,t[f+5],21,-57434055),o=mi(o,u,h,a,t[f+12],6,1700485571),a=mi(a,o,u,h,t[f+3],10,-1894986606),h=mi(h,a,o,u,t[f+10],15,-1051523),u=mi(u,h,a,o,t[f+1],21,-2054922799),o=mi(o,u,h,a,t[f+8],6,1873313359),a=mi(a,o,u,h,t[f+15],10,-30611744),h=mi(h,a,o,u,t[f+6],15,-1560198380),u=mi(u,h,a,o,t[f+13],21,1309151649),o=mi(o,u,h,a,t[f+4],6,-145523070),a=mi(a,o,u,h,t[f+11],10,-1120210379),h=mi(h,a,o,u,t[f+2],15,718787259),u=mi(u,h,a,o,t[f+9],21,-343485551),o=vi(o,n),u=vi(u,r),h=vi(h,e),a=vi(a,s);return[o,u,h,a]}function _i(t){for(var i="",n=32*t.length,r=0;r<n;r+=8)i+=String.fromCharCode(t[r>>5]>>>r%32&255);return i}function gi(t){var i=[];for(i[(t.length>>2)-1]=void 0,r=0;r<i.length;r+=1)i[r]=0;for(var n=8*t.length,r=0;r<n;r+=8)i[r>>5]|=(255&t.charCodeAt(r/8))<<r%32;return i}function xi(t){for(var i,n="0123456789abcdef",r="",e=0;e<t.length;e+=1)i=t.charCodeAt(e),r+=n.charAt(i>>>4&15)+n.charAt(15&i);return r}function Oi(t){return unescape(encodeURIComponent(t))}function Mi(t){return _i(wi(gi(t=Oi(t)),8*t.length))}function ji(t,i){return function(t,i){var n,r=gi(t),e=[],s=[];for(e[15]=s[15]=void 0,16<r.length&&(r=wi(r,8*t.length)),n=0;n<16;n+=1)e[n]=909522486^r[n],s[n]=1549556828^r[n];return i=wi(e.concat(gi(i)),512+8*i.length),_i(wi(s.concat(i),640))}(Oi(t),Oi(i))}function Ei(t,i,n){return i?n?ji(i,t):xi(ji(i,t)):n?Mi(t):xi(Mi(t))}var ki={encryption:function(t){return Ei(t)}};var Ti="0.0.0.0",O=function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t)};Object.assign(O.prototype,{wi:function(t,i,n,r,e){"undefined"==typeof KjWzhWlSj||!KjWzhWlSj.license||!KjWzhWlSj.license?r&&r():"string"==typeof i&&0!=i.length?(i=li.decryption(i,"026685bf295f587b5dffc1f18d5dc27c"),n=ki.encryption(n),i=li.decryption(i,n),-1!==t.indexOf(i)?r&&r():e&&e()):e&&e()},_i:function(t,i,n,r){var e;-1===i.indexOf("")&&-1===i.indexOf("aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa")?(e=ki.encryption("fengmap.localhost:"+t.appName),e=li.decryption(t.key,e),-1!==i.indexOf(e)?this.wi(i,t.license,t.buildingID,function(){n&&n()},function(){r&&r(qt.LICENSE_ERROR)}):r&&r(qt.NAME_KEY_ERROR)):n&&n()},gi:function(t,i,n){var r=this;void 0===t.mapURL?(t.enableCollect&&this.xi(t),this.Oi(function(){new Ht({method:"POST",url:si.check,header:{"X-Requested-With":"XMLHttpRequest","Content-type":"application/json;charset=utf-8"},data:r.Mi(t)}).ii(function(){i&&i()},function(t){n&&n(t)},function(){i&&i()})},function(){i&&i()})):i&&i()},Oi:function(t,i){new Ht({method:"GET",url:si.online}).ii(function(){t&&t()},function(){i&&i()},function(){i&&i()})},Mi:function(t,i){var n=Vt.a.global().location.host,r=n.indexOf(":");-1!==r&&(n=n.slice(0,r));r={mapId:t.buildingID,appName:t.appName};return i?r.keyValue=t.key:r.appKey=t.key,i?r.webUrl=n||Ti:r.webURL=n||Ti,r},xi:function(t){if("undefined"!=typeof navigator&&"undefined"!=typeof document){var i={};-1!==navigator.userAgent.indexOf("Opera")?i.userAgent="Opera":-1!==navigator.userAgent.indexOf("Firefox")?i.userAgent="FF":-1!==navigator.userAgent.indexOf("Chrome")?i.userAgent="Chrome":-1!==navigator.userAgent.indexOf("Safari")&&0===navigator.userAgent.indexOf("Chrome")?i.userAgent="Safari":-1!==navigator.userAgent.indexOf("compatible")&&-1!==navigator.userAgent.indexOf("MSIE")?i.userAgent="IE":-1!==navigator.userAgent.indexOf("Trident")&&(i.userAgent="Edge"),i.product="JS",i.sdkVersion=u+"."+h,i.appName=t.appName,i.appkey=t.key;var n=document.createElement("canvas").getContext("experimental-webgl"),t=n.getExtension("WEBGL_debug_renderer_info");i.gpu=t?n.getParameter(t.UNMASKED_RENDERER_WEBGL):null,i.os=navigator.platform;for(var r=!0,e=navigator.userAgent,s=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],o=0;o<s.length;o++)if(0<e.indexOf(s[o])){r=!1;break}i.device=r?"pc":"mobile",new Ht({method:"POST",url:si.collect,header:{"X-Requested-With":"XMLHttpRequest","Content-type":"application/json;charset=utf-8"},data:i}).ii()}}});var Ri=new O;function Ai(t){return function(t){if(Array.isArray(t))return Si(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,i){if(t){if("string"==typeof t)return Si(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Si(t,i):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Si(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}A=function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.mi=new ei};Object.assign(A.prototype,{ji:function(){},Ei:function(t,i,n,r){var e;t.mapURL?(e=t.isPreview||t.mapURLAbsolute?t.mapURL+t.buildingID+i+".fmap":t.isOutdoor?t.mapURL+t.buildingID+"/"+t.buildingID+i+".fmap":t.mapURL+t.mapID+"/"+t.bid+"/"+t.buildingID+"/"+t.buildingID+i+".fmap",n&&n(e)):(e={newFlag:"2",keyType:3,isSeparate:!1},t.isOutdoor||(e.bId=t.bid,e.rootMid=t.mapID),new Ht({method:"POST",url:""===i?si.download:si.downloadTile+"/"+t.buildingID+i+".fmap",header:{"X-Requested-With":"XMLHttpRequest","Content-type":"application/json;charset=utf-8"},data:Object.assign(e,Ri.Mi(t,!0))}).ii(function(t){n&&n(t.replace('"',"").replace('"',""))},function(t){r&&r(t)},function(t){r&&r(t)}))},ki:function(n,r,e){var s=this;n.enableCollect=!0,Ri.gi(n,function(){s.Ei(n,"",function(t){new Ht({method:"GET",responseType:"arraybuffer",url:t}).ii(function(t){var t=new Uint8Array(t),i=s.mi.ei(t),t=[];i.keys&&0!==i.keys.length?t.push.apply(t,Ai(i.keys)):t.push(i.key),n.isPreview?r&&r(i):Ri._i(n,t,function(){r&&r(i)},function(t){e&&e(t)})},function(t){e&&e(t===qt.PATH_ERROR?qt.MAP_ID_URL_ERROR:t)},function(t){e&&e(t)})},function(t){e&&e(t)})},function(t){e&&e(t)})},Ti:function(n,r,e){var s=this;n.enableCollect=!0,Ri.gi(n,function(){s.Ei(n,".scene",function(t){new Ht({method:"GET",responseType:"arraybuffer",url:t}).ii(function(t){var t=new Uint8Array(t),i=s.mi.oi(t),t=[];i.keys&&0!==i.keys.length?t.push.apply(t,Ai(i.keys)):t.push(i.key),n.isPreview?r&&r(i):Ri._i(n,t,function(){r&&r(i)},function(t){e&&e(t)})},function(t){e&&e(t)},function(t){e&&e(t)})},function(t){e&&e(t)})},function(t){e&&e(t)})},Ri:function(t,i,n){var r=this;this.Ei(t,".gate",function(t){new Ht({method:"GET",responseType:"arraybuffer",url:t}).ii(function(t){t=new Uint8Array(t),t=r.mi.ai(t);i&&i(t)},function(t){n&&n(t)},function(t){n&&n(t)})},function(t){n&&n(t)})},Ai:function(t,i,n,r){var e=this;this.Ei(t,".floor."+i+".geo",function(t){new Ht({method:"GET",responseType:"arraybuffer",url:t}).ii(function(t){t=new Uint8Array(t),t=e.mi.ci(t);n&&n(t)},function(t){r&&r(t)},function(t){r&&r(t)})},function(t){r&&r(t)})},Si:function(t,i,n,r){var e=this;this.Ei(t,".floor."+i+".biz",function(t){new Ht({method:"GET",responseType:"arraybuffer",url:t}).ii(function(t){t=new Uint8Array(t),t=e.mi.vi(t);n&&n(t)},function(t){r&&r(t)},function(t){r&&r(t)})},function(t){r&&r(t)})},Ii:function(t,i,n,r){var e=this;this.Ei(t,".floor."+i+".navi",function(t){new Ht({method:"GET",responseType:"arraybuffer",url:t}).ii(function(t){t=new Uint8Array(t),t=e.mi.yi(t);n&&n(t)},function(t){r&&r(t)})},function(t){r&&r(t)},function(t){r&&r(t)})},Ni:function(t,i,n,r){var e=this;this.Ei(t,".floor."+i+".drive.navi",function(t){new Ht({method:"GET",responseType:"arraybuffer",url:t}).ii(function(t){t=new Uint8Array(t),t=e.mi.yi(t);n&&n(t)},function(t){r&&r(t)})},function(t){r&&r(t)},function(t){r&&r(t)})},Li:function(t,i,n,r){var e=this;this.Ei(t,".floor."+i+".accessible.navi",function(t){new Ht({method:"GET",responseType:"arraybuffer",url:t}).ii(function(t){t=new Uint8Array(t),t=e.mi.yi(t);n&&n(t)},function(t){r&&r(t)})},function(t){r&&r(t)},function(t){r&&r(t)})}});var Ii=A;D=function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t)};Object.assign(D.prototype,{Pi:function(t,i){for(var n=[],r=0,e=0;e<t.length;e++){var s=t[e].idxs;if("number"==typeof(s=s||t[e]))for(;r<s;)n.push({x:i[r],y:i[r+1]}),r+=2;else for(var o=0;o<s.length;o++)for(var u=s[o];r<u;)n.push({x:i[r],y:i[r+1]}),r+=2}return n},Di:function(t,i){for(var n=[],r=0,e=0;e<t.length;e++){var s=t[e].idxs;if("number"==typeof(s=s||t[e])){for(var o=[];r<s;)o.push({x:i[r],y:i[r+1]}),r+=2;n.push(o)}else for(var u=0;u<s.length;u++){for(var h=s[u],a=[];r<h;)a.push({x:i[r],y:i[r+1]}),r+=2;n.push(a)}}return n},Fi:function(t,i){for(var n=[],r=[],e=0,s=0;s<t.length;s++){var o=t[s].idxs;if("number"==typeof(o=o||t[s]))for(;e<o;)n.push({x:i[e],y:i[e+1]}),e+=2;else for(var u=0;u<o.length;u++)if(0===u)for(var h=o[u];e<h;)n.push({x:i[e],y:i[e+1]}),e+=2;else{for(var a=[],f=o[u];e<f;)a.push({x:i[e],y:i[e+1]}),e+=2;r.push(a)}}var c=[];return c.push(n),c.push.apply(c,r),c},Ci:function(t){for(var i=[],n=t.length,r=0;r<n;r++){for(var e=t[r],s={x:this.Bi(e.x),y:this.Bi(e.y)},o=i.length,u=!1,h=0;h<o;h++){var a=i[h];if(a.x==s.x&&a.y==s.y){u=!0;break}}u||i.push(s)}return i},Bi:function(t){return+t.toFixed(2)}});var Ni=new D;var Li=Li||{};Li.G1="MULTIPOLYGON(((",Li.G2="POINT(",Li.G3="MULTILINESTRING((",Li.GLEN1="MULTIPOLYGON(((".length,Li.GLEN2="POINT(".length,Li.GLEN3="MULTILINESTRING((".length;r=function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t)};Object.assign(r.prototype,{Pi:function(t){var i=[];if(0!=t.indexOf(Li.G2))return[];t=t.substring(Li.GLEN2,t.length-1).split(" ");return i.push({x:parseFloat(t[0]),y:parseFloat(t[1])}),i},Di:function(t){if(0!=t.indexOf(Li.G3))return[];for(var i=t.substring(Li.GLEN3,t.length-2).split(","),n=[],r=0;r<i.length;r++){var e=i[r].split(" ");n.push({x:parseFloat(e[0]),y:parseFloat(e[1])})}return[n]},Fi:function(t){var i=[],n=[];if(0!=t.indexOf(Li.G1))return[];for(var r=t.substring(Li.GLEN1,t.length-3).split(/\),\(/),e=0;e<r.length;e++){var s=r[e].split(/,/);if(0==e)for(var o=0;o<s.length;o++){var u=s[o].split(" ");i.push({x:parseFloat(u[0]),y:parseFloat(u[1])})}else{for(var h=[],a=0;a<s.length;a++){var f=s[a].split(" ");h.push({x:parseFloat(f[0]),y:parseFloat(f[1])})}n.push(h)}}t=[];return t.push(i),t.push.apply(t,n),t},Ci:function(t){for(var i=[],n=t.length,r=0;r<n;r++){for(var e=t[r],s={x:this.Bi(e.x),y:this.Bi(e.y)},o=i.length,u=!1,h=0;h<o;h++){var a=i[h];if(a.x==s.x&&a.y==s.y){u=!0;break}}u||i.push(s)}return i},Bi:function(t){return+t.toFixed(2)}});var Pi=new r,s={STOP:0,PASS:1,PUSH:2};Object.freeze(s);var Di=s;function Fi(t,i){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,i){if(t){if("string"==typeof t)return Ci(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ci(t,i):void 0}}(t))||i&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,s=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){o=!0,e=t},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw e}}}}function Ci(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function Bi(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}O=function(){function i(t){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),this.Xt=Z.GROUP,this.Ui=new Map,this.Gi=-1,this.Wi=null,this.Gt=null,Object.assign(this,t)}var t,n,r;return t=i,(n=[{key:"getType",value:function(){return this.Xt}},{key:"getCoordinates",value:function(){return this.Wi}},{key:"getBound",value:function(){return this.Gt||this.Zi(),this.Gt}},{key:"getChildren",value:function(){return this.Ui}}])&&Bi(t.prototype,n),r&&Bi(t,r),i}();Object.assign(O.prototype,{ji:function(){var t,i=Fi(this.Ui.values());try{for(i.s();!(t=i.n()).done;){var n=t.value;n.ji&&n.ji()}}catch(t){i.e(t)}finally{i.f()}this.Ui.clear()},Vi:function(i){var t=i.qi(this);t==Di.PASS?this.Ui.forEach(function(t){t.Vi(i)}):t==Di.PUSH&&i.zi.push(this)},Zi:function(){var i=this;this.Gt=new pt,0!=this.Ui.size&&this.Ui.forEach(function(t){i.Gt.Pt(t.getBound())})}});var Ui=O;function Gi(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}A=function(){function i(t){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),this.Gi=t.eid,this.Xt=Z.POINT,this.Wi=null,this.Gt=null,Object.assign(this,t)}var t,n,r;return t=i,(n=[{key:"getType",value:function(){return this.Xt}},{key:"getCoordinates",value:function(){return this.Wi}},{key:"getBound",value:function(){return this.Gt||this.Zi(),this.Gt}}])&&Gi(t.prototype,n),r&&Gi(t,r),i}();Object.assign(A.prototype,{Zi:function(){this.Gt=new pt,this.Wi&&this.Gt.Dt(this.Wi)},Vi:function(t){t.qi(this)==Di.PUSH&&t.zi.push(this)}});var Wi=A;function Zi(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}D=function(){function i(t){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),this.Gi=t.eid,this.Xt=Z.POLYGON,this.Ct=null,this.Wi=null,this.Gt=null,Object.assign(this,t)}var t,n,r;return t=i,(n=[{key:"getType",value:function(){return this.Xt}},{key:"getCenter",value:function(){return this.Ct}},{key:"getCoordinates",value:function(){return this.Wi}},{key:"getBound",value:function(){return this.Gt||this.Zi(),this.Gt}}])&&Zi(t.prototype,n),r&&Zi(t,r),i}();Object.assign(D.prototype,{Zi:function(){var i=this;this.Gt=new pt,this.Wi&&this.Wi.forEach(function(t){i.Gt.Dt(t)})},Vi:function(t){t.qi(this)==Di.PUSH&&t.zi.push(this)}});var Vi=D;function qi(t,i){if(null==t)return{};var n,r=function(t,i){if(null==t)return{};var n,r,e={},s=Object.keys(t);for(r=0;r<s.length;r++)n=s[r],0<=i.indexOf(n)||(e[n]=t[n]);return e}(t,i);if(Object.getOwnPropertySymbols)for(var e=Object.getOwnPropertySymbols(t),s=0;s<e.length;s++)n=e[s],0<=i.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n]);return r}r=function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.Yi=[1,2,3,4],this.Xi=[6,7,9],this.Hi=[31,32],this.Qi=new Map,this.Qi.set(31,Z.EXTENTGROUP),this.Qi.set(32,Z.MODELGROUP),this.Qi.set(6,Z.FACILITYGROUP),this.Qi.set(7,Z.LABELGROUP),this.Qi.set(9,Z.EXTERNALMODELGROUP),this.$i=new Map,this.$i.set(31,["extentLayer",null]),this.$i.set(32,["modelLayer","labelLayer"]),this.$i.set(6,["poiLayer",null]),this.$i.set(7,["labelLayer",null]),this.$i.set(9,["externalModelLayer",null]),this.mi=new ei};Object.assign(r.prototype,{Ki:function(t){if(!t)return null;var i=t.scene;return this.Ji(i,t)},Ji:function(t,n){var r=this,i=t.layerGroups,e=qi(t,["layerGroups"]),s=t.fileVer,o=new Ui(e);return i.forEach(function(t){var i=r.tn(t,n,s);o.Ui.set(t.gid,i)}),o},tn:function(t,i,n){var r=this,e=t.layers,s=qi(t,["layers"]),o=new Ui(s),u=i&&i.floors?i.floors.get(t.gid).geo[0]:null,h=i&&i.floors?i.floors.get(t.gid).biz[0]:null;return e.forEach(function(t){6===t.ltype&&-1!==t.lname.indexOf("storelabel")&&(t.ltype=7);var i=r.in(t,u,h,n);null!==i&&o.Ui.set(r.Qi.get(t.ltype),i)}),this.nn(o),o},nn:function(t){var i=Array.from(t.Ui);i.sort(function(t,i){return t[0]-i[0]}),t.Ui=new Map(i)},in:function(t,i,n,r){if(-1!==this.Yi.indexOf(t.ltype))return null;if(!this.$i.get(t.ltype))return null;var e=new Ui(t);return this.rn(e,i,n,r),e&&(e.Xt=this.Qi.get(t.ltype)),e},rn:function(t,i,n,r){if(t){var e=this.$i.get(t.ltype);if(e){var s=i?i[e[0]]:[],o=n?n[e[0]]:[];switch(t.ltype){case 6:this.sn(t,s,o,r,Z.FACILITY);break;case 7:this.sn(t,s,o,r,Z.LABEL);break;case 9:this.sn(t,s,o,r,Z.EXTERNALMODEL);break;case 31:this.un(t,s,o,r,Z.EXTENT,null);break;case 32:this.un(t,s,o,r,Z.MODEL,i?i[e[1]]:null)}}}},sn:function(t,i,n,r,e){for(var s=0;s<i.length;s++){var o=this.hn(i[s],n[s],r);o.Xt=e,t.Ui.set(i[s].eid,o)}},hn:function(t,i,n){i=Object.assign({},i,{area:t.area,eid:t.eid,height:t.height}),i=new Wi(i);return t.coordinates?i.Wi=t.coordinates:(i.Wi=1==n?Pi.Pi(t.geo):Ni.Pi(t.idxs,t.pts),t.coordinates=i.Wi),i},un:function(t,i,n,r,e,s){for(var o=0;o<i.length;o++){var u=this.an(i[o],n[o],r,s?s[o]:null);u.Xt=e,t.Ui.set(i[o].eid,u)}},an:function(t,i,n,r){i=Object.assign({},i,{area:t.area,eid:t.eid,height:t.height}),i=new Vi(i);return i.Wi=1===n?Pi.Fi(t.geo):Ni.Fi(t.idxs,t.pts),r&&(r.coordinates||(r.coordinates=1===n?Pi.Pi(r.geo):Ni.Pi(r.idxs,r.pts)),i.Ct=r.coordinates[0]),i}});var zi=r,Yi={NONE_RODE_NETWORK:1,WALK_RODE_NETWORK:2,DRIVE_RODE_NETWORK:4,ACCESSIBLE_RODE_NETWORK:8};function Xi(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}s=function(){function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.cn=new Map,this.ln=new Map,this.ti=new Map,this.vn=new Map,this.dn=new Map,this.yn=new Map,this.bn=[2,3],this.pn=!1,this.mi=new ei,this.mn=new zi,this.wn=new Ii}var i,n,r;return i=t,(n=[{key:"load",value:function(t,i){this._n(t,i)}},{key:"loadWhole",value:function(t,i){this.gn(t,i)}},{key:"getDecode",value:function(t){t=void 0!==t.buildingID?t.buildingID:t.mapID;return this.xn({buildingID:t})}},{key:"getData",value:function(t){t=void 0!==t.buildingID?t.buildingID:t.mapID;return this.cn.get(t)}},{key:"setCache",value:function(t){this.cn=t[0],this.ln=t[1]}},{key:"getCache",value:function(){return[this.cn,this.ln]}}])&&Xi(i.prototype,n),r&&Xi(i,r),t}();Object.assign(s.prototype,{ji:function(){this.cn.clear(),this.cn=null,this.ln.clear(),this.ln=null,this.ti.clear(),this.ti=null,this.vn.clear(),this.vn=null,this.dn.clear(),this.dn=null,this.yn.clear(),this.yn=null},On:function(t){this.vn.set(t.buildingID,null),this.dn.set(t.buildingID,null),this.yn.set(t.buildingID+t.uuid,0)},_n:function(u,h){var a=this;this.On(u),this.Ti(u,function(i,t){h&&h(i,t);var o=a.Mn(u),t=u.loadNavi&&o.buildings&&0<o.buildings.length;a.Ri(u,t,function(t,i){h&&h(t,i);var n=void 0!==u.level?u.level:parseInt(o.defGid);a.jn(u,n,h);for(var r=u.visibleLevels||o.levels,e=0;e<r.length;e++)r[e]!==n&&(o.levels.indexOf(r[e])<0||a.jn(u,r[e],h));if(u.preLoad)for(var s=0;s<o.levels.length;s++)o.levels[s]!==n&&-1===r.indexOf(o.levels[s])&&a.jn(u,o.levels[s],h)},function(t){h&&h(i,t)})},function(t,i){h&&h(t,i)})},Ri:function(n,t,r,e){var s=this;t?(t=this.En(n))?r&&r("gate",t):this.wn.Ri(n,function(t){s.ln.get(n.buildingID).gate=t,r&&r("gate",t)},function(t){var i;n.navigationData?((i=s.ln.get(n.buildingID)).gate=n.navigationData,r&&r("gate",i.gate)):e("error",t)}):r&&r("gate",null)},Ti:function(n,r,i){var e=this,t=this.Mn(n);t?(r&&r("scene",t),n.justDecode||(t=this.cn.get(n.buildingID),r&&r("building",t))):this.wn.Ti(n,function(t){var i;n.isOutdoor&&(i=t.fileVer,t.buildings&&1<i&&t.buildings.forEach(function(i){i.floors&&(i.levelChart=[],i.fids=[],i.floors.forEach(function(t){t.Wi=Ni.Fi(t.idxs,t.pts),t.pgid&&i.levelChart.push(t.pgid,t.gid),t.baseLevel&&(i.minlevel=t.minlevel,i.maxlevel=t.maxlevel),t.fids&&i.fids.push.apply(i.fids,t.fids)}))})),e.ln.set(n.buildingID,{scene:t}),r&&r("scene",t),n.justDecode||(t=e.mn.Ji(t),e.cn.set(n.buildingID,t),r&&r("building",t))},function(t){i&&i("error",t===qt.PATH_ERROR?qt.MAP_ID_URL_ERROR:t)})},jn:function(t,i,n,r){var e=this.vn.get(t.buildingID);e||this.vn.set(t.buildingID,e=[]),r?e.unshift(i):e.push(i),this.pn&&1!==e.length||this.kn(t,n)},kn:function(r,e){var s=this,o=this.Mn(r);if(o){var u=this.vn.get(r.buildingID),t=this.dn.get(r.buildingID);if(u&&0!==u.length){t||this.dn.set(r.buildingID,t=[]);var h=u[0];if(-1!==t.indexOf(h))return u.splice(u.indexOf(h),1),void this.kn(r,e);t.push(h),this.Tn(r,h,function(t,i){var n=s.yn.get(r.buildingID+r.uuid);"layerGroup"===t&&(e&&e(t,i),s.yn.set(r.buildingID+r.uuid,++n),n===o.layerGroups.length&&e&&e("decode",s.xn(r)),u.splice(u.indexOf(h),1),s.kn(r,e)),"layer"===t&&e&&e(t,i),"floor"===t&&(e&&e(t,i),n===o.layerGroups.length&&e&&e("complete",s.Rn(r)))},function(t,i){e&&e(t,i)})}}},Tn:function(e,s,o,i){function n(i){var n,r,t;a===++f&&(n=c.get("geo"),r=c.get("biz"),l&&l.merge(s,n,r,u.fileVer),o&&o("layerGroup",c),e.justDecode||((t=i.An(e,s)).Ui.forEach(function(t){i.mn.rn(t,n,r,u.fileVer),o&&o("layer",t)}),o&&o("floor",t)))}var r=this,u=this.Mn(e),t=this.Sn(u,s),h=t.gname,t=t.naviType||0,a=this.bn[0],f=0,c=new Map,l=e.merge;e.loadNavi&&((0!=(t&Yi.WALK_RODE_NETWORK)||u.fileVer<3)&&(a++,this.Ii(e,s,h,function(t,i){c.set(t,i),o&&o(t,i),n(r)},function(t){i&&i(t)})),0!=(t&Yi.DRIVE_RODE_NETWORK)&&(a++,this.Ni(e,s,h,function(t,i){c.set(t,i),o&&o(t,i),n(r)},function(t){i&&i(t)})),0!=(t&Yi.ACCESSIBLE_RODE_NETWORK)&&(a++,this.Li(e,s,h,function(t,i){c.set(t,i),o&&o(t,i),n(r)},function(t){i&&i(t)}))),this.Ai(e,s,h,function(t,i){c.set(t,i),o&&o(t,i),n(r)},function(t){i&&i(t)}),this.Si(e,s,h,function(t,i){c.set(t,i),o&&o(t,i),n(r)},function(t){i&&i(t)})},Ai:function(i,n,t,r,e){var s=this,o=this.In(i,n,"geo");o?r&&r("geo",o):this.wn.Ai(i,t,function(t){s.Nn(i,n,"geo",t),r&&r("geo",t)},function(t){e&&e("error",t)})},Si:function(i,n,t,r,e){var s=this,o=this.In(i,n,"biz");o?r&&r("biz",o):this.wn.Si(i,t,function(t){s.Nn(i,n,"biz",t),r&&r("biz",t)},function(t){e&&e("error",t)})},Ii:function(i,n,t,r,e){var s=this,o=this.In(i,n,"navi");o?r&&r("navi",o):this.wn.Ii(i,t,function(t){s.Nn(i,n,"navi",t),r&&r("navi",t)},function(t){e&&e("error",t)})},Ni:function(i,n,t,r,e){var s=this,o=this.In(i,n,"drive_navi");o?r&&r("drive_navi",o):this.wn.Ni(i,t,function(t){s.Nn(i,n,"drive_navi",t),r&&r("drive_navi",t)},function(t){e&&e("error",t)})},Li:function(i,n,t,r,e){var s=this,o=this.In(i,n,"accessible_navi");o?r&&r("drive_navi",o):this.wn.Li(i,t,function(t){s.Nn(i,n,"accessible_navi",t),r&&r("accessible_navi",t)},function(t){e&&e("error",t)})},gn:function(t,n){this.ki(t,function(t,i){n&&n(t,i)},function(t,i){n&&n(t,i)})},ki:function(i,n,r){var e=this,s=this.xn(i);s?n&&n("decode",s):this.wn.ki(i,function(t){e.Ln(i,t),s=e.xn(i),n&&n("decode",s),i.justDecode||(t=e.mn.Ki(s),e.cn.set(i.buildingID,t),n&&n("complete",t))},function(t){r&&r("error",t)})},Rn:function(t){if(this.cn){t=this.cn.get(t.buildingID);return t||null}},An:function(t,i){t=this.cn.get(t.buildingID);return t?t.Ui.get(i):null},Ln:function(t,i){var n,r={scene:null,floors:new Map},e=this.mi.si(i);t.isOutdoor&&(n=e.fileVer,e.buildings&&1<n&&e.buildings.forEach(function(i){i.floors&&(i.levelChart=[],i.fids=[],i.floors.forEach(function(t){t.Wi=Ni.Fi(t.idxs,t.pts),t.pgid&&i.levelChart.push(t.pgid,t.gid),t.baseLevel&&(i.minlevel=t.minlevel,i.maxlevel=t.maxlevel),t.fids&&i.fids.push.apply(i.fids,t.fids)}))})),r.scene=e,r.gate=this.mi.ui(i);for(var s=0;s<e.layerGroups.length;s++){var o=e.layerGroups[s],u=this.mi.fi(i,o.gid),h=this.mi.li(i,o.gid),a=this.mi.di(i,o.gid),f=this.mi.bi(i,o.gid),c=this.mi.pi(i,o.gid);t.merge&&t.merge.merge(o.gid,u,h,e.fileVer);var l=new Map;l.set("geo",u),l.set("biz",h),l.set("navi",a),l.set("drive_navi",f),l.set("accessible_navi",c),r.floors.set(o.gid,l)}this.ln.set(t.buildingID,r)},xn:function(t){var i=this.ln.get(t.buildingID);if(!i)return null;for(var n=i.scene,i=i.gate,r=new Map,i={scene:n,floors:r,gate:i},e=0;e<n.layerGroups.length;e++){var s=n.layerGroups[e],o=s.gid,u={gid:o,gname:s.gname,level:o,geo:[],biz:[],navi:[],naviDrive:[],naviAccessible:[]};u.geo.push(this.In(t,o,"geo")),u.biz.push(this.In(t,o,"biz"));var h=this.In(t,o,"navi");h&&u.navi.push(h);h=this.In(t,o,"drive_navi");h&&u.naviDrive.push(h);o=this.In(t,o,"accessible_navi");o&&u.naviAccessible.push(o),r.set(s.gid,u)}return i},Mn:function(t){t=this.ln.get(t.buildingID);return t?t.scene:null},En:function(t){t=this.ln.get(t.buildingID);return t?t.gate:null},Nn:function(t,i,n,r){var e=this.ln.get(t.buildingID);e&&((t=e.floors)||(t=new Map,e.floors=t),(e=t.get(i))||(e=new Map,t.set(i,e)),e.set(n,r))},In:function(t,i,n){t=this.ln.get(t.buildingID);if(!t)return null;t=t.floors;if(!t)return null;i=t.get(i);return i?i.get(n):null},Sn:function(t,i){if(null==t)return null;for(var n=t.layerGroups,r=0;r<n.length;r++)if(n[r].gid==i)return n[r];return null}});for(var Hi=s,Qi=[],$i=0;$i<256;$i++)Qi[$i]=($i<16?"0":"")+$i.toString(16);var Ki={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t=4294967295*Math.random()|0,i=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Qi[255&t]+Qi[t>>8&255]+Qi[t>>16&255]+Qi[t>>24&255]+"-"+Qi[255&i]+Qi[i>>8&255]+"-"+Qi[i>>16&15|64]+Qi[i>>24&255]+"-"+Qi[63&n|128]+Qi[n>>8&255]+"-"+Qi[n>>16&255]+Qi[n>>24&255]+Qi[255&r]+Qi[r>>8&255]+Qi[r>>16&255]+Qi[r>>24&255]).toUpperCase()},clamp:function(t,i,n){return Math.max(i,Math.min(n,t))},euclideanModulo:function(t,i){return(t%i+i)%i},mapLinear:function(t,i,n,r,e){return r+(t-i)*(e-r)/(n-i)},lerp:function(t,i,n){return(1-n)*t+n*i},smoothstep:function(t,i,n){return t<=i?0:n<=t?1:(t=(t-i)/(n-i))*t*(3-2*t)},smootherstep:function(t,i,n){return t<=i?0:n<=t?1:(t=(t-i)/(n-i))*t*t*(t*(6*t-15)+10)},randInt:function(t,i){return t+Math.floor(Math.random()*(i-t+1))},randFloat:function(t,i){return t+Math.random()*(i-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*Ki.DEG2RAD},radToDeg:function(t){return t*Ki.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,i,n,r,e){var s=Math.cos,o=Math.sin,u=s(n/2),h=o(n/2),a=s((i+r)/2),f=o((i+r)/2),c=s((i-r)/2),n=o((i-r)/2),s=s((r-i)/2),i=o((r-i)/2);"XYX"===e?t.set(u*f,h*c,h*n,u*a):"YZY"===e?t.set(h*n,u*f,h*c,u*a):"ZXZ"===e?t.set(h*c,h*n,u*f,u*a):"XZX"===e?t.set(u*f,h*i,h*s,u*a):"YXY"===e?t.set(h*s,u*f,h*i,u*a):"ZYZ"===e?t.set(h*i,h*s,u*f,u*a):console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order.")}},Ji={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},tn={h:0,s:0,l:0},nn={h:0,s:0,l:0};function rn(t,i,n){return void 0===i&&void 0===n?this.set(t):this.setRGB(t,i,n)}function en(t,i,n){return n<0&&(n+=1),1<n&&--n,n<1/6?t+6*(i-t)*n:n<.5?i:n<2/3?t+6*(i-t)*(2/3-n):t}function sn(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function on(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}function un(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.assign(rn.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,i,n){return this.r=t,this.g=i,this.b=n,this},setHSL:function(t,i,n){return t=Ki.euclideanModulo(t,1),i=Ki.clamp(i,0,1),n=Ki.clamp(n,0,1),0===i?this.r=this.g=this.b=n:(this.r=en(i=2*n-(n=n<=.5?n*(1+i):n+i-n*i),n,t+1/3),this.g=en(i,n,t),this.b=en(i,n,t-1/3)),this},setStyle:function(i){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+i+" will be ignored.")}if(h=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(i)){var n,r=h[1],e=h[2];switch(r){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(e))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,t(n[5]),this;if(n=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(e))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,t(n[5]),this;break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(e)){var s=parseFloat(n[1])/360,o=parseInt(n[2],10)/100,u=parseInt(n[3],10)/100;return t(n[5]),this.setHSL(s,o,u)}}}else if(h=/^\#([A-Fa-f0-9]+)$/.exec(i)){var r=h[1],h=r.length;if(3===h)return this.r=parseInt(r.charAt(0)+r.charAt(0),16)/255,this.g=parseInt(r.charAt(1)+r.charAt(1),16)/255,this.b=parseInt(r.charAt(2)+r.charAt(2),16)/255,this;if(6===h)return this.r=parseInt(r.charAt(0)+r.charAt(1),16)/255,this.g=parseInt(r.charAt(2)+r.charAt(3),16)/255,this.b=parseInt(r.charAt(4)+r.charAt(5),16)/255,this}return i&&0<i.length?this.setColorName(i):this},setColorName:function(t){var i=Ji[t];return void 0!==i?this.setHex(i):console.warn("THREE.Color: Unknown color "+t),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,i){return void 0===i&&(i=2),this.r=Math.pow(t.r,i),this.g=Math.pow(t.g,i),this.b=Math.pow(t.b,i),this},copyLinearToGamma:function(t,i){i=0<(i=void 0===i?2:i)?1/i:1;return this.r=Math.pow(t.r,i),this.g=Math.pow(t.g,i),this.b=Math.pow(t.b,i),this},convertGammaToLinear:function(t){return this.copyGammaToLinear(this,t),this},convertLinearToGamma:function(t){return this.copyLinearToGamma(this,t),this},copySRGBToLinear:function(t){return this.r=sn(t.r),this.g=sn(t.g),this.b=sn(t.b),this},copyLinearToSRGB:function(t){return this.r=on(t.r),this.g=on(t.g),this.b=on(t.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){void 0===t&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});var i,n=this.r,r=this.g,e=this.b,s=Math.max(n,r,e),o=Math.min(n,r,e),u=(o+s)/2;if(o===s)a=i=0;else{var h=s-o,a=u<=.5?h/(s+o):h/(2-s-o);switch(s){case n:i=(r-e)/h+(r<e?6:0);break;case r:i=(e-n)/h+2;break;case e:i=(n-r)/h+4}i/=6}return t.h=i,t.s=a,t.l=u,t},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,i,n){return this.getHSL(tn),tn.h+=t,tn.s+=i,tn.l+=n,this.setHSL(tn.h,tn.s,tn.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,i){return this.r=t.r+i.r,this.g=t.g+i.g,this.b=t.b+i.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,i){return this.r+=(t.r-this.r)*i,this.g+=(t.g-this.g)*i,this.b+=(t.b-this.b)*i,this},lerpHSL:function(t,i){this.getHSL(tn),t.getHSL(nn);var n=Ki.lerp(tn.h,nn.h,i),t=Ki.lerp(tn.s,nn.s,i),i=Ki.lerp(tn.l,nn.l,i);return this.setHSL(n,t,i),this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,i){return this.r=t[i=void 0===i?0:i],this.g=t[i+1],this.b=t[i+2],this},toArray:function(t,i){return(t=void 0===t?[]:t)[i=void 0===i?0:i]=this.r,t[i+1]=this.g,t[i+2]=this.b,t}}),rn.NAMES=Ji;var hn=function(){function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t)}var i,n,r;return i=t,r=[{key:"round",value:function(t){return 0<t.toFixed(2)?Math.ceil(t.toFixed(2)):Math.floor(t.toFixed(2))}},{key:"generateUUID",value:function(){for(var t=[],i=0;i<256;i++)t[i]=(i<16?"0":"")+i.toString(16);var n=4294967295*Math.random()|0,r=4294967295*Math.random()|0,e=4294967295*Math.random()|0,s=4294967295*Math.random()|0,s=t[255&n]+t[n>>8&255]+t[n>>16&255]+t[n>>24&255]+"-"+t[255&r]+t[r>>8&255]+"-"+t[r>>16&15|64]+t[r>>24&255]+"-"+t[63&e|128]+t[e>>8&255]+"-"+t[e>>16&255]+t[e>>24&255]+t[255&s]+t[s>>8&255]+t[s>>16&255]+t[s>>24&255];return t.length=0,s.toUpperCase()}},{key:"findNearNthPowerOfTwo",value:function(t){t-=1;return t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,(t|=t>>16)<0?1:1+t}},{key:"toRgba",value:function(t){if(void 0===t)return t;if("number"==typeof t)return"rgba("+parseInt(255*new rn(t).r)+","+parseInt(255*new rn(t).g)+","+parseInt(255*new rn(t).b)+",1)";var i=t.split(",");return 3<=i.length?"rgba("+parseInt(i[0])+","+parseInt(i[1])+","+parseInt(i[2])+",1)":t}},{key:"toColor",value:function(t){if("number"==typeof t)return t;var i=t.split(",");return 3<=i.length?parseInt(i[0])<<16|parseInt(i[1])<<8|parseInt(i[2]):(console.error("color format error",t),0)}}],(n=null)&&un(i.prototype,n),r&&un(i,r),t}();function an(t,i){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,i){if(t){if("string"==typeof t)return fn(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fn(t,i):void 0}}(t))||i&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,s=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){o=!0,e=t},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw e}}}}function fn(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function cn(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}O=function(){function r(t,i,n){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,r),this.ti=Object.assign({tile:!0,isPreview:!1},t),this.ti.buildingID=t.mapID,this.Pn=!!t.map,this.Dn=t.map?t.map.getDataManager():new Hi,this.Fn=[],this.Cn={},this.Bn=i,this.Un=n,this.Gn()}var t,i,n;return t=r,(i=[{key:"dispose",value:function(){this.ti=null,this.Pn||this.Dn.ji(),this.Dn=null,this.Bn=null,this.Un=null}},{key:"query",value:function(t,i){if(this.Wn(),null===t.buildings){for(var n=[],r=0;r<this.Fn.length;r++)n.push({buildingID:this.Fn[r].bid});t.buildings=n}var e=[];if(!t.onlyInBuilding){t.buildingID=this.ti.mapID,null===t.buildingID&&(t.buildingID=this.ti.mapID);for(var s=this.Zn(t),o=0;o<s.length;o++)s[o].buildingID=t.buildingID,e.push(s[o])}for(var u=t.buildings,h=0;h<u.length;h++){var a=this.Vn(u[h].buildingID);t.buildingID=a,t.levels=u[h].levels;for(var f=this.Zn(t),c=0;c<f.length;c++)f[c].buildingID=u[h].buildingID,e.push(f[c])}i&&i(e)}}])&&cn(t.prototype,i),n&&cn(t,n),r}();Object.assign(O.prototype,{Gn:function(){this.Fn=[],this.Pn&&(t=this.ti.map.getMapOptions(),this.ti.mapID=t.mapID,this.ti.buildingID=t.mapID,this.ti.appName=t.appName,this.ti.key=t.key,this.ti.license=t.license,this.ti.mapURL=t.mapURL,this.ti.mapURLAbsolute=t.mapURLAbsolute,this.ti.buildings=t.buildings,this.ti.buildingOptions=t.buildingOptions,this.ti.isPreview="undefined"!=typeof KjWzhWlSj&&!!KjWzhWlSj.ProtoDef);var t={mapID:this.ti.mapID,buildingID:this.ti.mapID,appName:this.ti.appName,key:this.ti.key,buildings:this.ti.buildings,license:this.ti.license,mapURL:this.ti.mapURL,mapURLAbsolute:this.ti.mapURLAbsolute,merge:this.ti.merge,preLoad:!0,isPreview:"undefined"!=typeof KjWzhWlSj&&!!KjWzhWlSj.ProtoDef,uuid:hn.generateUUID(),bid:this.ti.buildingID||null,isOutdoor:!0};this.Cn[""+this.ti.mapID]=!1,this.qn(t)},qn:function(t){var n=this;setTimeout(function(){n.ti.tile?n.Dn.load(t,function(t,i){n.zn(t,i)}):n.Dn.loadWhole(t,function(t,i){n.zn(t,i)})},0)},Wn:function(){if(!(0<this.Fn.length)){var t=this.ti.mapID,i=this.Dn.getData({buildingID:t});if(i&&i.buildings)for(var n=0;n<i.buildings.length;n++)this.Fn.push(i.buildings[n])}},zn:function(t,i){if("error"==t&&this.Un&&this.Un(i),"decode"===t&&i.scene.mid===this.ti.mapID&&i.scene.buildings&&0<i.scene.buildings.length)for(var n=0;n<i.scene.buildings.length;n++){var r=i.scene.buildings[n],e={mapID:this.ti.mapID,buildingID:null,appName:this.ti.appName,key:this.ti.key,license:this.ti.license,mapURL:this.ti.mapURL,mapURLAbsolute:this.ti.mapURLAbsolute,merge:this.ti.merge,loadNavi:!0,preLoad:!0,isPreview:"undefined"!=typeof KjWzhWlSj,tile:this.ti.tile,type:this.ti.type,bid:null,isOutdoor:!1};e.buildingID=r.mid,e.bid=r.bid;e=Object.assign({},e);this.Cn[""+r.mid]=!1,this.qn(e)}if("complete"==t){var s,o=this.Cn[""+i.mid]=!0;for(s in this.Cn)this.Cn[s]||(o=!1);o&&this.Bn&&this.Bn()}},Yn:function(t){var i=Z.NONE;return 0!=(t.Xt&Z.MODEL)&&(i|=Z.MODELGROUP),0!=(t.Xt&Z.LABEL)&&(i|=Z.LABELGROUP),0!=(t.Xt&Z.FACILITY)&&(i|=Z.FACILITYGROUP),0!=(t.Xt&Z.EXTERNALMODEL)&&(i|=Z.EXTERNALMODELGROUP),i},Xn:function(t){if(Array.isArray(t.Yt))return t.Yt;var i=this.ti;null!==t.buildingID&&(i={buildingID:t.buildingID,mapID:t.buildingID});i=this.Dn.getData(i);if(!i)return[];var n,r=[],e=an(i.getChildren());try{for(e.s();!(n=e.n()).done;){var s=n.value;r.push(s[1].gid)}}catch(t){e.e(t)}finally{e.f()}return r},Hn:function(t,i,n,r){if(0==i)return!0;for(var e=0;e<i;e++){if(!t[e].X(n))return!1;t[e].H(n,r)}return!0},Qn:function(t,i,n){return{level:t,type:i.getType(),FID:i.fid,name:i.name,ename:i.ename,eid:i.eid,typeID:i.type,center:void 0!==i.getCenter?Object.assign({z:i.height},i.getCenter()):Object.assign({z:i.height},i.getCoordinates()[0]),distance:n.lt}},$n:function(t){t.sort(function(t,i){return t.level==i.level&&t.type==i.type&&t.distance&&i.distance?t.distance-i.distance:0})},Zn:function(t,i,n){var r=this.ti;null!==t.buildingID&&(r={buildingID:t.buildingID,mapID:t.buildingID});r=this.Dn.getData(r);if(!r)return[];var e=this.Xn(t),s=this.Yn(t);if(s===Z.NONE)return[];var o,u=t.$t,h=u.length,a=[],f=an(r.getChildren());try{for(f.s();!(o=f.n()).done;){var c=o.value,l=c[0];if(-1!==e.indexOf(l)){var v,d=an(c[1].getChildren());try{for(d.s();!(v=d.n()).done;){var y=v.value[1];if(0!=(y.getType()&s)){var b,p=an(y.getChildren());try{for(p.s();!(b=p.n()).done;){var m=b.value[1],w={lt:void 0};this.Hn(u,h,m,w)&&a.push(this.Qn(l,m,w))}}catch(t){p.e(t)}finally{p.f()}}}}catch(t){d.e(t)}finally{d.f()}}}}catch(t){f.e(t)}finally{f.f()}return a},Vn:function(t){for(var i=null,n=this.Fn,r=0;r<n.length;r++)if(n[r].bid===t){i=n[r].mid;break}return i}});var A=O,ln={NaviNodeType_NULL:-1,NaviNodeType_COMMON:0,NaviNodeType_SIDE:1,NaviNodeType_FLOOR:2,NaviNodeType_EXTENT:3,NaviLiftType_NULL:0,NaviLiftType_Lift:1,NaviLiftType_Stair:2,NaviLiftType_Escalator:3,NaviLiftType_Accessible:4,NaviLiftType_Ramp:5,NaviLiftEntry_BOTH:0,NaviLiftEntry_UP:1,NaviLiftEntry_DOWN:2,NaviLiftEntry_FORBID:3,NaviEntranceType_NULL:0,NaviEntranceType_EXIT:1,NaviEntranceType_ENTRANCE:2,NaviEntranceType_ACCESS:3,NaviRoadRank_MAIN:1,NaviRoadRank_MINOR:2,NaviRoadRank_NARROW:3,NaviRoadEntry_BOTH:0,NaviRoadEntry_FORWARD:1,NaviRoadEntry_BACK:2,NaviRoadEntry_FORBID:3,NaviRoadPass_NULL:-1,NaviRoadPass_NOT_THROUGH:0,NaviRoadPass_THROUGH:1,NaviZoneType_NULL:-1,NaviZoneType_PASS_UNRESTRAINT:0,NaviZoneType_PASS_THROUGH:1,NaviZoneType_PASS_NOT_THROUGH:2,NaviZoneType_NO_ENTRY:3,NaviZoneType_CORRIDOR:4,NaviModelPassType_PASS_THROUGH:0,NaviModelPassType_PASS_NOT_THROUGH:1,NaviModelPassType_NOT_PASS:2,NaviModelPassType_DECORATE:3,NaviRoadHinderType_HINDER_GENERAL:0,NaviRoadHinderType_HINDER_HIGH:1,NaviObstructType_MODEL:0,NaviObstructType_EXTENT:1},vn={Entry_BOTH:0,Entry_FORWARD:1,Entry_BACK:2,Entry_FORBID:3};function dn(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}D=function(){function e(t,i,n,r){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,e),this.Kn=t,this.Jn=i,this.tr=n||[],this.ir=r||[]}var t,i,n;return t=e,(i=[{key:"level",get:function(){return this.Kn}},{key:"length",get:function(){return this.Jn}},{key:"pointList",get:function(){for(var t=[],i=0,n=this.tr.length;i<n;i++)t.push({x:this.tr[i].x,y:this.tr[i].y,level:this.Kn});return t}}])&&dn(t.prototype,i),n&&dn(t,n),e}();Object.assign(D.prototype,{ji:function(){this.tr=[],this.ir=[]}});for(var yn=D,bn=[],pn=0;pn<256;pn++)bn[pn]=(pn<16?"0":"")+pn.toString(16);var mn=1234567,wn={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t=4294967295*Math.random()|0,i=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(bn[255&t]+bn[t>>8&255]+bn[t>>16&255]+bn[t>>24&255]+"-"+bn[255&i]+bn[i>>8&255]+"-"+bn[i>>16&15|64]+bn[i>>24&255]+"-"+bn[63&n|128]+bn[n>>8&255]+"-"+bn[n>>16&255]+bn[n>>24&255]+bn[255&r]+bn[r>>8&255]+bn[r>>16&255]+bn[r>>24&255]).toUpperCase()},clamp:function(t,i,n){return Math.max(i,Math.min(n,t))},euclideanModulo:function(t,i){return(t%i+i)%i},mapLinear:function(t,i,n,r,e){return r+(t-i)*(e-r)/(n-i)},lerp:function(t,i,n){return(1-n)*t+n*i},smoothstep:function(t,i,n){return t<=i?0:n<=t?1:(t=(t-i)/(n-i))*t*(3-2*t)},smootherstep:function(t,i,n){return t<=i?0:n<=t?1:(t=(t-i)/(n-i))*t*t*(t*(6*t-15)+10)},randInt:function(t,i){return t+Math.floor(Math.random()*(i-t+1))},randFloat:function(t,i){return t+Math.random()*(i-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){return((mn=16807*(mn=void 0!==t?t%2147483647:mn)%2147483647)-1)/2147483646},degToRad:function(t){return t*wn.DEG2RAD},radToDeg:function(t){return t*wn.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,i,n,r,e){var s=Math.cos,o=Math.sin,u=s(n/2),h=o(n/2),a=s((i+r)/2),f=o((i+r)/2),c=s((i-r)/2),l=o((i-r)/2),v=s((r-i)/2),d=o((r-i)/2);switch(e){case"XYX":t.set(u*f,h*c,h*l,u*a);break;case"YZY":t.set(h*l,u*f,h*c,u*a);break;case"ZXZ":t.set(h*c,h*l,u*f,u*a);break;case"XZX":t.set(u*f,h*d,h*v,u*a);break;case"YXY":t.set(h*v,u*f,h*d,u*a);break;case"ZYZ":t.set(h*d,h*v,u*f,u*a);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+e)}}};function _n(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}r=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"isQuaternion",{value:!0}),this.nr=t,this.rr=i,this.er=n,this.sr=r}var t,i,n;return t=e,n=[{key:"slerp",value:function(t,i,n,r){return n.copy(t).slerp(i,r)}},{key:"slerpFlat",value:function(t,i,n,r,e,s,o){var u=n[r+0],h=n[r+1],a=n[r+2],f=n[r+3],c=e[s+0],l=e[s+1],v=e[s+2],d=e[s+3];f===d&&u===c&&h===l&&a===v||(n=1-o,e=0<=(r=u*c+h*l+a*v+f*d)?1:-1,(s=1-r*r)>Number.EPSILON&&(s=Math.sqrt(s),r=Math.atan2(s,r*e),n=Math.sin(n*r)/s,o=Math.sin(o*r)/s),u=u*n+c*(e=o*e),h=h*n+l*e,a=a*n+v*e,f=f*n+d*e,n===1-o&&(u*=o=1/Math.sqrt(u*u+h*h+a*a+f*f),h*=o,a*=o,f*=o)),t[i]=u,t[i+1]=h,t[i+2]=a,t[i+3]=f}},{key:"multiplyQuaternionsFlat",value:function(t,i,n,r,e,s){var o=n[r],u=n[r+1],h=n[r+2],a=n[r+3],f=e[s],n=e[s+1],r=e[s+2],s=e[s+3];return t[i]=o*s+a*f+u*r-h*n,t[i+1]=u*s+a*n+h*f-o*r,t[i+2]=h*s+a*r+o*n-u*f,t[i+3]=a*s-o*f-u*n-h*r,t}}],(i=[{key:"x",get:function(){return this.nr},set:function(t){this.nr=t,this.or()}},{key:"y",get:function(){return this.rr},set:function(t){this.rr=t,this.or()}},{key:"z",get:function(){return this.er},set:function(t){this.er=t,this.or()}},{key:"w",get:function(){return this.sr},set:function(t){this.sr=t,this.or()}},{key:"set",value:function(t,i,n,r){return this.nr=t,this.rr=i,this.er=n,this.sr=r,this.or(),this}},{key:"clone",value:function(){return new this.constructor(this.nr,this.rr,this.er,this.sr)}},{key:"copy",value:function(t){return this.nr=t.x,this.rr=t.y,this.er=t.z,this.sr=t.w,this.or(),this}},{key:"setFromEuler",value:function(t,i){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=t.nr,r=t.rr,e=t.er,s=t.ur,o=Math.cos,t=Math.sin,u=o(n/2),h=o(r/2),a=o(e/2),f=t(n/2),c=t(r/2),l=t(e/2);switch(s){case"XYZ":this.nr=f*h*a+u*c*l,this.rr=u*c*a-f*h*l,this.er=u*h*l+f*c*a,this.sr=u*h*a-f*c*l;break;case"YXZ":this.nr=f*h*a+u*c*l,this.rr=u*c*a-f*h*l,this.er=u*h*l-f*c*a,this.sr=u*h*a+f*c*l;break;case"ZXY":this.nr=f*h*a-u*c*l,this.rr=u*c*a+f*h*l,this.er=u*h*l+f*c*a,this.sr=u*h*a-f*c*l;break;case"ZYX":this.nr=f*h*a-u*c*l,this.rr=u*c*a+f*h*l,this.er=u*h*l-f*c*a,this.sr=u*h*a+f*c*l;break;case"YZX":this.nr=f*h*a+u*c*l,this.rr=u*c*a+f*h*l,this.er=u*h*l-f*c*a,this.sr=u*h*a-f*c*l;break;case"XZY":this.nr=f*h*a-u*c*l,this.rr=u*c*a-f*h*l,this.er=u*h*l+f*c*a,this.sr=u*h*a+f*c*l;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return!1!==i&&this.or(),this}},{key:"setFromAxisAngle",value:function(t,i){var n=i/2,i=Math.sin(n);return this.nr=t.x*i,this.rr=t.y*i,this.er=t.z*i,this.sr=Math.cos(n),this.or(),this}},{key:"setFromRotationMatrix",value:function(t){var i,n=t.elements,r=n[0],e=n[4],s=n[8],o=n[1],u=n[5],h=n[9],a=n[2],f=n[6],t=n[10],n=r+u+t;return 0<n?(n=.5/Math.sqrt(n+1),this.sr=.25/n,this.nr=(f-h)*n,this.rr=(s-a)*n,this.er=(o-e)*n):u<r&&t<r?(i=2*Math.sqrt(1+r-u-t),this.sr=(f-h)/i,this.nr=.25*i,this.rr=(e+o)/i,this.er=(s+a)/i):t<u?(i=2*Math.sqrt(1+u-r-t),this.sr=(s-a)/i,this.nr=(e+o)/i,this.rr=.25*i,this.er=(h+f)/i):(u=2*Math.sqrt(1+t-r-u),this.sr=(o-e)/u,this.nr=(s+a)/u,this.rr=(h+f)/u,this.er=.25*u),this.or(),this}},{key:"setFromUnitVectors",value:function(t,i){var n=t.dot(i)+1;return n<1e-6?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this.nr=-t.y,this.rr=t.x,this.er=0):(this.nr=0,this.rr=-t.z,this.er=t.y)):(this.nr=t.y*i.z-t.z*i.y,this.rr=t.z*i.x-t.x*i.z,this.er=t.x*i.y-t.y*i.x),this.sr=n,this.normalize()}},{key:"angleTo",value:function(t){return 2*Math.acos(Math.abs(wn.clamp(this.dot(t),-1,1)))}},{key:"rotateTowards",value:function(t,i){var n=this.angleTo(t);if(0===n)return this;n=Math.min(1,i/n);return this.slerp(t,n),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this.nr*=-1,this.rr*=-1,this.er*=-1,this.or(),this}},{key:"dot",value:function(t){return this.nr*t.nr+this.rr*t.rr+this.er*t.er+this.sr*t.sr}},{key:"lengthSq",value:function(){return this.nr*this.nr+this.rr*this.rr+this.er*this.er+this.sr*this.sr}},{key:"length",value:function(){return Math.sqrt(this.nr*this.nr+this.rr*this.rr+this.er*this.er+this.sr*this.sr)}},{key:"normalize",value:function(){var t=this.length();return 0===t?(this.nr=0,this.rr=0,this.er=0,this.sr=1):(this.nr=this.nr*(t=1/t),this.rr=this.rr*t,this.er=this.er*t,this.sr=this.sr*t),this.or(),this}},{key:"multiply",value:function(t,i){return void 0!==i?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,i)):this.multiplyQuaternions(this,t)}},{key:"premultiply",value:function(t){return this.multiplyQuaternions(t,this)}},{key:"multiplyQuaternions",value:function(t,i){var n=t.nr,r=t.rr,e=t.er,s=t.sr,o=i.nr,u=i.rr,t=i.er,i=i.sr;return this.nr=n*i+s*o+r*t-e*u,this.rr=r*i+s*u+e*o-n*t,this.er=e*i+s*t+n*u-r*o,this.sr=s*i-n*o-r*u-e*t,this.or(),this}},{key:"slerp",value:function(t,i){if(0===i)return this;if(1===i)return this.copy(t);var n=this.nr,r=this.rr,e=this.er,s=this.sr,o=s*t.sr+n*t.nr+r*t.rr+e*t.er;if(o<0?(this.sr=-t.sr,this.nr=-t.nr,this.rr=-t.rr,this.er=-t.er,o=-o):this.copy(t),1<=o)return this.sr=s,this.nr=n,this.rr=r,this.er=e,this;t=1-o*o;if(t<=Number.EPSILON){var u=1-i;return this.sr=u*s+i*this.sr,this.nr=u*n+i*this.nr,this.rr=u*r+i*this.rr,this.er=u*e+i*this.er,this.normalize(),this.or(),this}u=Math.sqrt(t),t=Math.atan2(u,o),o=Math.sin((1-i)*t)/u,u=Math.sin(i*t)/u;return this.sr=s*o+this.sr*u,this.nr=n*o+this.nr*u,this.rr=r*o+this.rr*u,this.er=e*o+this.er*u,this.or(),this}},{key:"equals",value:function(t){return t.nr===this.nr&&t.rr===this.rr&&t.er===this.er&&t.sr===this.sr}},{key:"fromArray",value:function(t){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.nr=t[i],this.rr=t[i+1],this.er=t[i+2],this.sr=t[i+3],this.or(),this}},{key:"toArray",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return t[i]=this.nr,t[i+1]=this.rr,t[i+2]=this.er,t[i+3]=this.sr,t}},{key:"fromBufferAttribute",value:function(t,i){return this.nr=t.getX(i),this.rr=t.getY(i),this.er=t.getZ(i),this.sr=t.getW(i),this}}])&&_n(t.prototype,i),n&&_n(t,n),e}();function gn(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.assign(r.prototype,{hr:function(t){return this.or=t,this},or:function(){}});var xn=function(){function r(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,r),Object.defineProperty(this,"isVector3",{value:!0}),this.x=t,this.y=i,this.z=n}var t,i,n;return t=r,(i=[{key:"set",value:function(t,i,n){return void 0===n&&(n=this.z),this.x=t,this.y=i,this.z=n,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this.z=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setZ",value:function(t){return this.z=t,this}},{key:"setComponent",value:function(t,i){switch(t){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}},{key:"add",value:function(t,i){return void 0!==i?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,i)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this.z+=t,this}},{key:"addVectors",value:function(t,i){return this.x=t.x+i.x,this.y=t.y+i.y,this.z=t.z+i.z,this}},{key:"addScaledVector",value:function(t,i){return this.x+=t.x*i,this.y+=t.y*i,this.z+=t.z*i,this}},{key:"sub",value:function(t,i){return void 0!==i?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,i)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this.z-=t,this}},{key:"subVectors",value:function(t,i){return this.x=t.x-i.x,this.y=t.y-i.y,this.z=t.z-i.z,this}},{key:"multiply",value:function(t,i){return void 0!==i?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,i)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this}},{key:"multiplyVectors",value:function(t,i){return this.x=t.x*i.x,this.y=t.y*i.y,this.z=t.z*i.z,this}},{key:"applyEuler",value:function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Mn.setFromEuler(t))}},{key:"applyAxisAngle",value:function(t,i){return this.applyQuaternion(Mn.setFromAxisAngle(t,i))}},{key:"applyMatrix3",value:function(t){var i=this.x,n=this.y,r=this.z,t=t.elements;return this.x=t[0]*i+t[3]*n+t[6]*r,this.y=t[1]*i+t[4]*n+t[7]*r,this.z=t[2]*i+t[5]*n+t[8]*r,this}},{key:"applyNormalMatrix",value:function(t){return this.applyMatrix3(t).normalize()}},{key:"applyMatrix4",value:function(t){var i=this.x,n=this.y,r=this.z,e=t.elements,t=1/(e[3]*i+e[7]*n+e[11]*r+e[15]);return this.x=(e[0]*i+e[4]*n+e[8]*r+e[12])*t,this.y=(e[1]*i+e[5]*n+e[9]*r+e[13])*t,this.z=(e[2]*i+e[6]*n+e[10]*r+e[14])*t,this}},{key:"applyQuaternion",value:function(t){var i=this.x,n=this.y,r=this.z,e=t.x,s=t.y,o=t.z,u=t.w,h=u*i+s*r-o*n,a=u*n+o*i-e*r,t=u*r+e*n-s*i,r=-e*i-s*n-o*r;return this.x=h*u+r*-e+a*-o-t*-s,this.y=a*u+r*-s+t*-e-h*-o,this.z=t*u+r*-o+h*-s-a*-e,this}},{key:"project",value:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}},{key:"unproject",value:function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}},{key:"transformDirection",value:function(t){var i=this.x,n=this.y,r=this.z,t=t.elements;return this.x=t[0]*i+t[4]*n+t[8]*r,this.y=t[1]*i+t[5]*n+t[9]*r,this.z=t[2]*i+t[6]*n+t[10]*r,this.normalize()}},{key:"divide",value:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}},{key:"clamp",value:function(t,i){return this.x=Math.max(t.x,Math.min(i.x,this.x)),this.y=Math.max(t.y,Math.min(i.y,this.y)),this.z=Math.max(t.z,Math.min(i.z,this.z)),this}},{key:"clampScalar",value:function(t,i){return this.x=Math.max(t,Math.min(i,this.x)),this.y=Math.max(t,Math.min(i,this.y)),this.z=Math.max(t,Math.min(i,this.z)),this}},{key:"clampLength",value:function(t,i){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(i,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,i){return this.x+=(t.x-this.x)*i,this.y+=(t.y-this.y)*i,this.z+=(t.z-this.z)*i,this}},{key:"lerpVectors",value:function(t,i,n){return this.x=t.x+(i.x-t.x)*n,this.y=t.y+(i.y-t.y)*n,this.z=t.z+(i.z-t.z)*n,this}},{key:"cross",value:function(t,i){return void 0!==i?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,i)):this.crossVectors(this,t)}},{key:"crossVectors",value:function(t,i){var n=t.x,r=t.y,e=t.z,s=i.x,t=i.y,i=i.z;return this.x=r*i-e*t,this.y=e*s-n*i,this.z=n*t-r*s,this}},{key:"projectOnVector",value:function(t){var i=t.lengthSq();if(0===i)return this.set(0,0,0);i=t.dot(this)/i;return this.copy(t).multiplyScalar(i)}},{key:"projectOnPlane",value:function(t){return On.copy(this).projectOnVector(t),this.sub(On)}},{key:"reflect",value:function(t){return this.sub(On.copy(t).multiplyScalar(2*this.dot(t)))}},{key:"angleTo",value:function(t){var i=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===i)return Math.PI/2;i=this.dot(t)/i;return Math.acos(wn.clamp(i,-1,1))}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"distanceToSquared",value:function(t){var i=this.x-t.x,n=this.y-t.y,t=this.z-t.z;return i*i+n*n+t*t}},{key:"manhattanDistanceTo",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}},{key:"setFromSpherical",value:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}},{key:"setFromSphericalCoords",value:function(t,i,n){var r=Math.sin(i)*t;return this.x=r*Math.sin(n),this.y=Math.cos(i)*t,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}},{key:"setFromCylindricalCoords",value:function(t,i,n){return this.x=t*Math.sin(i),this.y=n,this.z=t*Math.cos(i),this}},{key:"setFromMatrixPosition",value:function(t){t=t.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(t){var i=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),t=this.setFromMatrixColumn(t,2).length();return this.x=i,this.y=n,this.z=t,this}},{key:"setFromMatrixColumn",value:function(t,i){return this.fromArray(t.elements,4*i)}},{key:"setFromMatrix3Column",value:function(t,i){return this.fromArray(t.elements,3*i)}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}},{key:"fromArray",value:function(t){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[i],this.y=t[i+1],this.z=t[i+2],this}},{key:"toArray",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return t[i]=this.x,t[i+1]=this.y,t[i+2]=this.z,t}},{key:"fromBufferAttribute",value:function(t,i,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(i),this.y=t.getY(i),this.z=t.getZ(i),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}])&&gn(t.prototype,i),n&&gn(t,n),r}(),On=new xn,Mn=new r;s=function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.Gi=0,this.zt={},this.Xt=0,this.ar=[],this.fr=[],this.cr=0,this.lr=[],this.vr=!1,this.dr=!1,this.yr=0,this.br=!1,this.pr=[]};Object.assign(s.prototype,{set mr(t){-1!=t&&(this.Xt|=t)},get mr(){return 3&this.Xt},set wr(t){this.Xt|=t<<2},get wr(){return this.Xt>>2&7},set _r(t){this.Xt|=t<<5},get _r(){return this.Xt>>5&3},set gr(t){this.Xt|=t<<7},get gr(){return this.Xt>>7&3},set xr(t){this.Xt|=t<<9},get xr(){return this.Xt>>9&3},Gn:function(t){this.Gi=t,this.zt={x:0,y:0},this.Xt=0,this.cr=0,this.vr=!1,this.dr=!1},Or:function(t){return this.Gi==t.Gi},Mr:function(t){this.Gi=t.Gi,this.zt=Object.assign({},t.zt),this.Xt=t.Xt,this.ar=[];for(var i=0;i<t.ar.length;i++)this.ar[i]=t.ar[i];this.fr=[];for(var n=0;n<t.fr.length;n++)this.fr[n]=t.fr[n];this.cr=t.cr,this.lr=[];for(var r=0;r<t.lr.length;r++)this.lr[r]=t.lr[r];this.vr=t.vr,this.dr=t.dr},jr:function(){return this.ar.length},Er:function(){return this.fr.length},kr:function(t){if(this.wr==ln.NaviLiftType_Stair)return!0;for(var i=this.ar.length-1;0<=i;i--)if(this.ar[i]==t)return!0;return!1}});var jn=s;function En(t){return(En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kn(t,i){return(kn=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function Tn(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=Rn(n);return t=r?(t=Rn(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),i=this,!(t=t)||"object"!==En(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(i):t}}function Rn(t){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var An=function(){!function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&kn(t,i)}(n,jn);var i=Tn(n);function n(){var t;return function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,n),(t=i.call(this)).Tr=0,t.Kn=0,t.Rr=null,t.yr=0,t.Ar=null,t.wr=null,t}return n}();O=function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.Gi=0,this.Sr=-1,this.Ir={},this.Nr=-1,this.Lr={},this.Jn=0,this.Xt=0,this.Pr=[],this.Dr=-1,this.Fr=!1,this.Cr=0};Object.assign(O.prototype,{set Br(t){this.Xt|=t},get Br(){return 3&this.Xt},set Ur(t){this.Xt|=t<<2},get Ur(){return this.Xt>>2&3},set xr(t){this.Xt|=t<<4},get xr(){return this.Xt>>4&3},set Gr(t){t?this.Xt|=16:this.Xt&=-17},get Gr(){return 16&this.Xt?1:0},Wr:function(t){this.Gi=t.Gi,this.Sr=t.Sr,this.Ir=Object.assign({},t.Ir),this.Nr=t.Nr,this.Lr=Object.assign({},t.Lr),this.Jn=t.Jn,this.Xt=t.Xt,this.Pr=[],this.Dr=t.Dr;for(var i=0;i<t.Pr.Jn;i++)this.Pr[i]=t.Pr[i]},Zr:function(){this.Jn=yt.distanceOfTwoPoints(this.Ir,this.Lr)},Vr:function(){var t=this.Ir.x-this.Lr.x,i=this.Ir.y-this.Lr.y;this.Jn=Math.abs(t)+Math.abs(i)},qr:function(){var t={};return t.x=(this.Ir.x+this.Lr.x)/2,t.y=(this.Ir.y+this.Lr.y)/2,t}});var Sn=O;function In(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}D=function(){function e(t,i,n,r){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,e),this.Gi=t,this.Kn=i||-1,this.Xt=n,this.zr=r,this.Yr=r&&r.length?r.length-1:0,this.Xr=0,this.Hr=null,this.Qr=null,this.$r=[],this.Kr=[],this.Jr=null,this.Gt=new pt,this.Gt.Dt(this.zr)}var t,i,n;return t=e,(i=[{key:"_pass",get:function(){return 3&this.Xt},set:function(t){this.Xt|=t}},{key:"_area",get:function(){return null==this.Jr&&(this.Jr=yt.mt(this.zr,this.Yr)),this.Jr}}])&&In(t.prototype,i),n&&In(t,n),e}();Object.assign(D.prototype,{te:function(t){return!!yt.ut(t,this.Gt.Nt,this.Gt.Lt)&&yt.ft(this.zr,t,this.Yr)},wt:function(t,i){for(var n={},r=0;r<this.Yr;r++){var e=this.zr[r],s=this.zr[(r+1)%this.Yr];if(1==yt.wt(e,s,t,i,n))break}return n}});var Nn=D;function Ln(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}r=function(){function o(t,i,n,r,e,s){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,o),this.Gi=t,this.ie="",this.zr=r,this.Yr=r&&r.length?r.length-1:0,this.Ct=e,this.ne=s,this.Xt=n,this.Kn=i,this.re=[],this.ee=[],this.se=[],this.Hr=null,this.Qr=null,this.$r=[],this.oe=0,this.Xr=0,this.Jr=null,this.ue=!1,this.Gt=new pt,this.Gt.Dt(this.zr)}var t,i,n;return t=o,(i=[{key:"pass",get:function(){return 3&this.Xt},set:function(t){this.Xt|=t}},{key:"area",get:function(){return null==this.Jr&&(this.Jr=yt.mt(this.zr,this.Yr)),this.Jr}}])&&Ln(t.prototype,i),n&&Ln(t,n),o}();Object.assign(r.prototype,{te:function(t){for(var i=0;i<this.ne.length;i++)if(yt.ft(t,this.ne[i],this.ne[i].length-1))return!1;return yt.ft(t,this.zr,this.Yr)}});var Pn=r;function Dn(t){return(Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fn(t){return function(t){if(Array.isArray(t))return Cn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,i){if(t){if("string"==typeof t)return Cn(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cn(t,i):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cn(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function Bn(t,i){return(Bn=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function Un(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=Gn(n);return t=r?(t=Gn(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),i=this,!(t=t)||"object"!==Dn(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(i):t}}function Gn(t){return(Gn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}s=function(){!function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&Bn(t,i)}(n,jn);var i=Un(n);function n(){var t;return function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,n),(t=i.call(this)).Kn=0,t.Dr=-1,t.he=[],t.Rr=null,t.ae=15,t.fe=8,t}return n}();Object.assign(s.prototype,{ce:function(t,i,n){if(!t)return[];var r=[];n=n||this.he;for(var e=0;e<n.length;e++){var s=n[e];t==s.wr&&(i&&(s.yr=s.yr+i),r.push(s))}return r},le:function(t,i,n,r){this.Rr=t;var e=[];e.push.apply(e,Fn(this.he));for(var s=0;s<e.length;s++){var o=e[s];o.yr=yt.distanceOfTwoPoints(n,o.zt)+yt.distanceOfTwoPoints(o.zt,i)}return this.ve(e,r)},ve:function(t,i){if(i==w.PRIORITY_LIFTFIRST1){var n=this.de.bind(this);t.sort(n)}else if(i==w.PRIORITY_ESCALATORFIRST1){var r=this.ye.bind(this);t.sort(r)}else if(i!=w.PRIORITY_STAIRFIRST1){r=this.be.bind(this);t.sort(r)}else{this.pe(t,i);for(var e=[],s=0;s<t.length;s++)t[s].yr&&e.push(t[s]);(t=[]).push.apply(t,e);i=this.me.bind(this);t.sort(i)}return t},de:function(t,i){if(t.zone!=i.zone){if(this.Rr==t.zone)return-1;if(this.Rr==i.zone)return 1}return t.wr!=ln.NaviLiftType_Lift&&t.wr!=ln.NaviLiftType_Accessible||i.wr!=ln.NaviLiftType_Lift&&i.wr!=ln.NaviLiftType_Accessible?t.wr==ln.NaviLiftType_Lift||t.wr==ln.NaviLiftType_Accessible?-1:i.wr==ln.NaviLiftType_Lift||i.wr==ln.NaviLiftType_Accessible?1:t.yr-i.yr:t.yr<i.yr},ye:function(t,i){if(t.zone!=i.zone){if(this.Rr==t.zone)return-1;if(this.Rr==i.zone)return 1}return t.wr==ln.NaviLiftType_Escalator&&i.wr==ln.NaviLiftType_Escalator?t.yr<i.yr:t.wr==ln.NaviLiftType_Escalator?-1:i.wr==ln.NaviLiftType_Escalator?1:t.yr-i.yr},be:function(t,i){if(t.zone!=i.zone){if(this.Rr==t.zone)return-1;if(this.Rr==i.zone)return 1}return t.wr==ln.NaviLiftType_Stair&&i.wr==ln.NaviLiftType_Stair?t.yr<i.yr:t.wr==ln.NaviLiftType_Stair?-1:i.wr==ln.NaviLiftType_Stair?1:t.yr-i.yr},me:function(t,i){if(t.zone!=i.zone){if(this.Rr==t.zone)return-1;if(this.Rr==i.zone)return 1}return t.yr-i.yr},pe:function(t,i){if(i===w.PRIORITY_DEFAULT)for(var n=0;n<t.length;n++)t[n].wr===ln.NaviLiftType_Escalator?t[n].yr-=this.ae:t[n].wr!==ln.NaviLiftType_Lift&&t[n].wr!==ln.NaviLiftType_Accessible||(t[n].yr-=this.fe);else if(i===w.PRIORITY_STAIRFIRST)for(var r=0;r<t.length;r++)t[r].wr===ln.NaviLiftType_Stair?t[r].yr-=this.ae:t[r].wr===ln.NaviLiftType_Escalator&&(t[r].yr-=this.fe);else if(i===w.PRIORITY_ESCALATORFIRST)for(var e=0;e<t.length;e++)t[e].wr===ln.NaviLiftType_Escalator?t[e].yr-=this.ae:t[e].wr!==ln.NaviLiftType_Lift&&t[e].wr!==ln.NaviLiftType_Accessible||(t[e].yr-=this.fe);else if(i===w.PRIORITY_LIFTFIRST)for(var s=0;s<t.length;s++)t[s].wr===ln.NaviLiftType_Lift||t[s].wr===ln.NaviLiftType_Accessible?t[s].yr-=this.ae:t[s].wr===ln.NaviLiftType_Escalator&&(t[s].yr-=this.fe);else if(i===w.PRIORITY_STAIRONLY)for(var o=0;o<t.length;o++)t[o].wr!==ln.NaviLiftType_Stair&&(t[o].yr=null);else if(i===w.PRIORITY_ESCALATORONLY)for(var u=0;u<t.length;u++)t[u].wr!==ln.NaviLiftType_Escalator&&(t[u].yr=null);else if(i===w.PRIORITY_LIFTONLY)for(var h=0;h<t.length;h++)t[h].wr!==ln.NaviLiftType_Lift&&t[h].wr!==ln.NaviLiftType_Accessible&&(t[h].yr=null);else if(i===w.PRIORITY_ACCESSIBLEONLY)for(var a=0;a<t.length;a++)t[a].wr!==ln.NaviLiftType_Accessible&&(t[a].yr=null)}});var Wn=s;function Zn(t,i){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,i){if(t){if("string"==typeof t)return Vn(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vn(t,i):void 0}}(t))||i&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,s=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){o=!0,e=t},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw e}}}}function Vn(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function qn(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var zn=function(){function e(t,i,n,r){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,e),this.Kn=0,this.Xt=r,this.we=t,this._e=i,this.ge=[],this.xe=[],this.Oe=[],this.Me=[],this.je=new Map,this.Ee=[],this.ke=new Map,this.Te=new Map,this.Re=n,this.Ae=[],this.Se=new Map,this.Ie=new Map,this.Ne=0,this.Le=0,this.Pe(),this.Gn()}var t,i,n;return t=e,(i=[{key:"queryContainIdOfExtent",value:function(t){return this.De(t)}},{key:"queryContainExtentID",value:function(t){return this.Fe(t)}}])&&qn(t.prototype,i),n&&qn(t,n),e}();Object.assign(zn.prototype,{ji:function(){this.we=null,this._e=null,this.ge=null,this.xe=null,this.Oe=null,(this.Me=null)!=this.je&&(this.je.clear(),this.je=null),null!=this.ke&&(this.ke.clear(),this.ke=null),(this.Ee=null)!=this.Te&&(this.Te.clear(),this.Te=null),(this.Ae=null)!=this.Se&&(this.Se.clear(),this.Se=null),null!=this.Ie&&(this.Ie.clear(),this.Ie=null)},Ce:function(t){for(var i,n,r=Number.MAX_VALUE,e=0;e<this._e.length;e++)0!=this.Re&&(i=this._e[e],1==t?r=i.Jn:2==t&&(r=i.Jn*i.Br),(n=i.Ur)!=ln.NaviRoadEntry_BOTH&&n!=ln.NaviRoadEntry_FORWARD||(this.Ee[i.Sr][i.Nr]=r),n!=ln.NaviRoadEntry_BOTH&&n!=ln.NaviRoadEntry_BACK||(this.Ee[i.Nr][i.Sr]=r))},Be:function(){return 0==this.we.length||0==this._e.length},On:function(){for(var t=0;t<this.we.length;t++)this.we[t].vr=!1;if(1==this.Re)for(var i=this.we.length+1,n=0;n<i;n++)for(var r=0;r<i;r++)void 0!==this.Ee[n]&&void 0!==this.Ee[n][r]&&(this.Ee[n][r]=Number.MAX_VALUE)},Ue:function(){this.Me=[];for(var t=0;t<this.xe.length;t++){var i=this.xe[t].toZone();this.Me.push(i)}for(var n=0;n<this.ge.length;n++){var r=this.xe[n].toZone();this.Me.push(r)}},Ge:function(t){for(var i=0;i<this.Me.length;i++){var n=this.Me[i];if(n&&n.Gi==t)return n}return null},We:function(t){for(var i=0;i<this.Me.length;i++){var n=this.Me[i];if(n&&1==n.contain(t))return n}return null},Ze:function(){},Ve:function(t,i){var n=null;if(this.we.length<=0||this._e.length<=0)return n;for(var r=[],e=0,s=this.we.length;e<s;e++){var o=this.we[e],u=o.entranceType;u!=i&&u!=ln.NaviEntranceType_ACCESS||((u=new{}).node=o,u.distance=yt.lt(t,o.zt),r.push(u))}return 0==r.length?n:n=(r=r.sort(this.qe))[0].node.zt},ze:function(t){var i=[];if(this.we.length<=0||this._e.length<=0)return i;for(var n=0,r=this.we.length;n<r;n++){var e=this.we[n],s=e.entranceType;s!=t&&s!=ln.NaviEntranceType_ACCESS||i.push(e.zt)}return i},Ye:function(t,i){if(this.we.length<=0||this._e.length<=0)return!1;if(t.Gi==i.Gi)return!0;this.Xe();var n=[];n.push(t.Gi);for(var r,e,s=o=0;o!=n.length;)for(var s=o,o=n.length,u=s;u<n.length;u++)for(var h=0;h<this._e.length;h++)if(1!=this.Ae[h]){if(e=(r=this._e[h]).Ur,r.Sr==n[u]&&(e==ln.NaviRoadEntry_BOTH||e==ln.NaviRoadEntry_FORWARD)){if(r.Nr==i.Gi)return!0;n.push(r.Nr),this.Ae[h]=!0}if(r.Nr==n[u]&&(e==ln.NaviRoadEntry_BOTH||e==ln.NaviRoadEntry_BACK)){if(r.Sr==i.Gi)return!0;n.push(r.Sr),this.Ae[h]=!0}}return!1},He:function(t,i,n,r){if(this.we.length<=0||this._e.length<=0)return[];var e=this.De(t);if(0==e)return!1;for(var s=[],o=0;o<this.we.length;o++){var u=this.we[o],h=this.De(u.zt);!u.contansFloor(i)||h!=e&&0!=e||((h={}).node=u,h.distance=yt.lt(t,u.zt),h.distance=parseFloat(h.distance).toFixed(4),s.push(h))}if(!s||0==s.length)return[];for(var s=s.sort(this.qe),a=0;a<s.length;a++)n[a]=new jn,n[a].setNode(s[a].node),r[a]=parseFloat(s[a].distance);return n},Qe:function(t,i){if(!this.we||this.we.length<=0||!this._e||this._e.length<=0)return!1;for(var n=0;n<this.we.length;n++){var r=this.we[n];if(r.mr==ln.NaviNodeType_FLOOR)if(r.cr==t)return i.setNode(r),!0}return!1},$e:function(t,i){if(!this.we||this.we.length<=0||!this._e||this._e.length<=0)return!1;for(var n=0;n<this.we.length;n++){var r=this.we[n];r.wr==t&&(i[n]=r)}return 0!=i.length},De:function(t){if(0===this.xe.length||!t)return 0;for(var i=0,n=this.xe.length;i<n;i++){var r=this.xe[i];if(r.te(t))return r.Gi}return 0},Fe:function(t){if(0===this.xe.length||!t)return 0;for(var i=0,n=this.xe.length;i<n;i++){var r=this.xe[i];if(r.te(t))return r.Dr}return 0},Ke:function(t,i){if(0==this.Oe.length||!t||!i)return!1;for(var n=0;n<this.Oe.length;n++)if(this.Oe[n].isCross(t,i))return!0;return!1},Je:function(t,i,n,r,e){var s=Number.MAX_VALUE,o={};new jn;if(this.we.length<=0||this._e.length<=0)return!1;var u=this.De(t);if(0==u)return!1;for(var h=0,a=this._e.length;h<a;h++){var f,c=this._e[h];c&&u==this.De(c.Ir)&&(f=yt.yt(t,c.Ir,c.Lr,o),this.Ke(o,t)||f<s&&(s=f,i.Wr(c),r.x=o.x,r.y=o.y))}if(!i||i.Ur==ln.NaviRoadEntry_FORBID)return!1;for(var l=i.Ur==ln.NaviRoadEntry_BACK||i.Ur!=ln.NaviRoadEntry_FORWARD&&yt.lt(i.Ir,r)<=yt.lt(i.Lr,r)?i.Sr:i.Nr,v=0;v<this.we.length;v++){var d=this.we[v];if(d.Gi==l){n.Mr(d);break}}return!0},ts:function(t,i,n,r){var e=Number.MAX_VALUE,s={};new jn;if(this.we.length<=0||this._e.length<=0)return!1;var o=this.De(t);if(0==o)return!1;for(var u=0;u<this._e.length;u++){var h,a=this._e[u];ln.NaviRoadEntry_BOTH==a.Ur&&(o!=this.De(a.Ir)&&0!=o||(h=yt.yt(t,a.Ir,a.Lr,s),this.Ke(s,t)||h<e&&(e=h,i.setRoad(a),r.x=s.x,r.y=s.y)))}if(-1==i.Gi)return!1;for(var f=yt.lt(i.Ir,r)<=yt.lt(i.Lr,r)?i.Sr:i.Nr,c=0;c<this.we.length;c++){var l=this.we[c];if(l.Gi==f){n.Mr(l);break}}return!(n.Gi<=-1)},Pe:function(){this.Ne=0;for(var t=this.Le=0;t<this._e.length;)null==this._e[t]?this._e.splice(t,1):(this._e[t].Gi>this.Le&&(this.Le=this._e[t].Gi),t++);for(var i=0;i<this.we.length;)null==this.we[i]?this.we.splice(i,1):(this.we[i].Gi>this.Ne&&(this.Ne=this.we[i].Gi),i++)},ns:function(t){t=this.Se.get(t);return void 0===t?null:t},rs:function(t){t=this.Ie.get(t);return void 0===t?null:t},es:function(t){for(var i=Number.MAX_VALUE,n=null,r=0;r<this.xe.length;++r){var e=this.xe[r];e.contain(t)&&e.area<i&&(i=cur_area,n=e)}for(var s=0;s<this.ge.size();++s){var o=this.ge[s];o.contain(t)&&o.area<i&&(i=cur_area,n=o)}return n||null},ss:function(t){for(var i=Number.MAX_VALUE,n=null,r=0;r<this.ge.length;++r){var e=this.ge[r];e.te(t)&&e.area<i&&(i=e.area,n=e)}return n||null},us:function(){return++this.Ne},hs:function(){return++this.Le},as:function(t){this.Ne=t},cs:function(t){this.Le=t},ls:function(){for(var t=0;t<this.we.length;t++){var i=this.we[t];i&&(i instanceof Wn?this.Se.set(i.Dr,t):this.Se.set(i.Gi,t))}},vs:function(){for(var t=0;t<this._e.length;t++){var i=this._e[t];i&&this.Ie.set(i.Gi,t)}},ds:function(){var t,i=Zn(this.Se);try{for(i.s();!(t=i.n()).done;)t.value[1].pr=[]}catch(t){i.e(t)}finally{i.f()}},ys:function(){var e=this;this.ke.clear();for(var t=0;t<this._e.length;t++)(function(t){var i=e._e[t];if(null==i)return;var n,r=i.Ur;ln.NaviRoadEntry_BOTH!=r&&ln.NaviRoadEntry_FORWARD!=r||(t=i.Sr,(n=e.ke.get(t))||e.ke.set(t,n=[]),null==n.find(function(t){return t.bs==i.Nr})&&n.push({bs:i.Nr,Jn:i.Jn})),ln.NaviRoadEntry_BOTH!=r&&ln.NaviRoadEntry_BACK!=r||(n=i.Nr,(r=e.ke.get(n))||e.ke.set(n,r=[]),null==r.find(function(t){return t.bs==i.Sr})&&r.push({bs:i.Sr,Jn:i.Jn}))})(t)},ps:function(t){for(var i=0;i<this.we.length;i++)if(this.we[i].Gi==t)return i;return-1},ms:function(t){for(var i=9;i<this._e.length;i++)if(this._e[i].Gi==t)return i;return-1},ws:function(t){for(var i=[],n=this._e,r=0;r<n.length;r++){var e=n[r],s=e.Ir,o=e.Lr,u=[];t._s([s,o],u)?i.push({road:e,crss:u,index:r}):t.gs(s)&&i.push({road:e,crss:[],index:r})}return i},xs:function(t){for(var i=null,n=Number.MAX_VALUE,r=0;r<this.ge.length;r++){var e=this.ge[r];yt.ft(t,e.zr,e.Yr)&&n>e.area&&(n=(i=e).area)}return i},Os:function(t){for(var i=-1,n=0;n<this.Me.length;n++){var r=this.Me[n];if(yt.ft(t,r.zr,r.Yr)){i=r.Gi;break}}return i},Ms:function(){var t=this.ge.length,t=parseInt(Math.random()*t);return this.ge[t]},Gn:function(){if(1==this.Re)for(var t,i=0;i<this._e.length;i++)t=this._e[i],void 0===this.Ee[t.Sr]&&(this.Ee[t.Sr]=new Array),this.Ee[t.Sr][t.Nr]=Number.MAX_VALUE,void 0===this.Ee[t.Nr]&&(this.Ee[t.Nr]=new Array),this.Ee[t.Nr][t.Sr]=Number.MAX_VALUE;for(var n=0;n<this._e.length;n++)this.Ae[n]=!1},Xe:function(){for(var t=0;t<this.Ae.length;t++)this.Ae[t]=!1},qe:function(t,i){return parseFloat(t.distance)-parseFloat(i.distance)},js:function(){for(var t=[],i=0;i<this.we.length;i++){var n=this.we[i];n.wr==ln.NaviLiftType_Lift&&t.push(n)}return t},Es:function(t){for(var i=0;i<this.we.length;i++)if(this.we[i].cr==t)return this.we[i];return null},ks:function(){for(var t=[],i=0;i<this.we.length;i++){var n=this.we[i];n.wr!=ln.NaviLiftType_NULL&&t.push(n)}return t},Ts:function(t){for(var i=null,n=0;n<this.xe.length;n++)if(t==this.xe[n].Gi){i=this.xe[n];break}if(!i)return null;for(var r=[],e=0;e<this.we.length;e++){var s=this.we[e];yt.ft(s.zt,i.zr,i.Yr)&&r.push(s)}for(var o=[],u=0;u<this._e.length;u++){var h=this._e[u];yt.ft(h.Ir,i.zr,i.Yr)&&o.push(h)}for(var a=[],f=0;f<this.ge.length;f++){var c=this.ge[f];yt.ft(c.Ct,i.zr,i.Yr)&&a.push(c)}var l=new zn(r,o,!0,1);return l.ge=a,l.xe=[i],l}});var Yn=zn;O=function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.Rs=null};Object.assign(O.prototype,{ji:function(){this.Rs=null},As:function(t){this.Rs=t},Ss:function(t,i){var n=null;return 0==i?n=Pi.Pi(t):1==i?n=Pi.Di(t):2==i&&(n=Pi.Fi(t)),{points:n[0],holes:n.slice(1)}},Is:function(t,i,n){var r=null;return 0==n?r=Ni.Pi(t,i):1==n?r=Ni.Di(t,i):2==n&&(r=Ni.Fi(t,i)),{points:r[0],holes:r.slice(1)}},Ns:function(t){if(t&&"string"!=typeof t)for(var i in t){var n=t[i];if("vertices"==i||"vertex"==i)for(var r in n)r%2==0&&(n[r]=-n[r]);else"scene_data"==i?(n.x=-n.x,n.defCenX=-n.defCenX):this.Ns(n)}},Ls:function(t){if(""==t||!t)return[];var i=[],n=t,t=[];return 0<=n.indexOf("|")||0<=n.indexOf("-")||0<=n.indexOf(",")?(t=n.split(/[|,-]/),i.push.apply(i,t)):i.push(n),i},Ps:function(t,i,n,r){for(var e={},s=[],o=[],u=[],h=[],a=[],f=this.Rs.fileVer,c=0,l=i.extentLayer.length;c<l;c++){var v=i.extentLayer[c],d=null,d=1===f?this.Ss(v.geo,2):this.Is(v.idxs,v.pts,2);v.geoArr=d.points,v.holes=d.holes,o.push(v)}for(var y=0,b=i.labelLayer.length;y<b;y++)e[i.labelLayer[y].eid]=i.labelLayer[y];for(var p=0,m=i.modelLayer.length;p<m;p++){var w=i.modelLayer[p],_=n.modelLayer[p],g={};g.fid=_.fid,g.eid=w.eid,g.pass=_.pass,g.Ct=(1===f?this.Ss(e[w.eid].geo,0):this.Is(e[w.eid].idxs,e[w.eid].pts,0)).points;_=null,_=1===f?this.Ss(w.geo,2):this.Is(w.idxs,w.pts,2);g.geoArr=_.points,g.holes=_.holes,s.push(g)}if(r&&r.naviNodes)for(var x=0,O=r.naviNodes.length;x<O;x++){var M=r.naviNodes[x];M.geoArr=(1===f?this.Ss(M.geo,0):this.Is(M.idxs,M.pts,0)).points,M.linkSegArr=this.Ls(M.linkSeg),M.liftFloorArr=this.Ls(M.liftFloor),u.push(M)}if(r&&r.naviSegments)for(var j=0,E=r.naviSegments.length;j<E;j++){var k=r.naviSegments[j];k.geoArr=(1===f?this.Ss(k.geo,1):this.Is(k.idxs,k.pts,1)).points,k.m_Id=r.mid,h.push(k)}if(r&&r.naviZones)for(var T=0,R=r.naviZones.length;T<R;T++){var A=r.naviZones[T],S=null,S=1===f?this.Ss(A.geo,2):this.Is(A.idxs,A.pts,2);A.geoArr=S.points,A.holes=S.holes,A.m_Id=r.mid,a.push(A)}return{level:t,extentLayer:o,modelLayer:s,naviSegments:h,naviNodes:u,naviZones:a}}});var Xn=O;function Hn(t,i){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,i){if(t){if("string"==typeof t)return Qn(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qn(t,i):void 0}}(t))||i&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,s=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){o=!0,e=t},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw e}}}}function Qn(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}D=function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.Ds=i,this.Fs=null,this.Cs=null,this.Bs=-1,this.Us=-1,this.Gs=x.MODULE_SHORTEST,this.Ws=[],this.Ds.ls(),this.Ds.vs(),this.Ds.ys(),this.Zs=5e-4,this.Vs=0};Object.assign(D.prototype,{qs:function(t,i,n){this.zs(n),this.Ys=i;t=this.Ds.ns(t);if(-1==t)return T.ROUTE_FAILED_CANNOT_ARRIVE;this.Ws=[];for(var r=0;r<i.length;r++){var e=this.Ds.ns(i[r]);this.Ws.push(e)}return!!this.Xs(this.Ds,t,this.Ws)},Hs:function(){for(var t=[],i=0;i<this.Ws.length;i++){var n=[];this.Qs(this.Ws[i],n),n.reverse(),t.push(n)}return t},Qs:function(t,i){t=this.Ds.we[t];i.push(t);t=t.pr[0];null!=t&&this.Qs(t,i)},$s:function(t,i){if(null!=this.Ds.we&&0!=this.Ds.we.length&&this.Ds.we[0]instanceof Wn){this.Vs=10;for(var r={},n=0;n<this.Ds.we.length;n++){var e=this.Ds.we[n],s=e.Ks.zr,o=s.length-1,u=this.Ds.we[n].Dr;r[u]=[1,1,Number.MAX_VALUE],yt.ft(t,s,o)&&(r[u][0]=0,t.level==e.Kn&&e.Dr),yt.ft(i,s,o)&&(r[u][1]=0,i.level==e.Kn&&e.Dr);s=yt.St(s),s=yt.lt(t,s)+yt.lt(i,s);r[u][2]=s}var h,a=this.Ds.ke,f=Hn(a.keys());try{for(f.s();!(h=f.n()).done;){var c=h.value;a.get(c).sort(function(t,i){var n=r[t.bs][0]+r[t.bs][1]-(r[i.bs][0]+r[i.bs][1]);return 0==n?r[t.bs][2]-r[i.bs][2]:n})}}catch(t){f.e(t)}finally{f.f()}}},Js:function(t,i,n,r,e){this.zs(n),this.Fs=t,this.Cs=i,this.$s(r,e),this.Bs=t.Gi,this.Us=i.Gi;e=this.Ds.ns(this.Bs);if(null==e)return T.ROUTE_FAILED_CANNOT_ARRIVE;t=this.Ds.ns(i.Gi);if(null==t)return T.ROUTE_FAILED_CANNOT_ARRIVE;i=[];return i.push(t),this.Xs(this.Ds,e,i)?T.ROUTE_SUCCESS:T.ROUTE_FAILED_CANNOT_ARRIVE},to:function(t,i){this.Bs=t,this.Us=i;var n=this.Ds.ns(t);if(null==n)return T.ROUTE_FAILED_CANNOT_ARRIVE;t=this.Ds.ns(i);if(null==t)return T.ROUTE_FAILED_CANNOT_ARRIVE;i=[];return i.push(t),this.Xs(this.Ds,n,i)?T.ROUTE_SUCCESS:T.ROUTE_FAILED_CANNOT_ARRIVE},io:function(){var t=[],i=this.Ds.ns(this.Us),n=[];n.push(i);i=[];return this.no(n,this.Ds.we,i,[]),t.push.apply(t,i),t},ji:function(){this.Ds.ji(),this.Ds=null,this.Fs=null,this.Cs=null},Xs:function(t,i,n){if(null==t)return!1;var r=t.we.length;if(i<0||r<=i)return!1;this.ro(n,i);for(var e=0;e<r;++e)t.we[e].yr=Number.MAX_VALUE,t.we[e].br=!1,t.we[e].pr=[];t.we[i].yr=0;var s=n.length,o=0,u=[];u.push(t.we[i]);for(var h=this.eo.bind(this);0<u.length;){var a=null,a=u[0]instanceof Wn?u[0].Dr:u[0].Gi;u.splice(0,1);var f=t.ns(a);if(null!=f){var c=t.we[f];if(!c.br){c.br=!0;var l=n.indexOf(f);if(-1!=l&&++o==s)return!0;if(0!=t.ke.size){var v=t.ke.get(a);if(v)for(var d=0;d<v.length;d++){var y,b=v[d],p=b.bs,m=t.ns(p);null!=m&&(y=b.Jn,p=t.we[m],b=this.Vs+y+c.yr,b=Number(b.toFixed(3)),p.br||(p.yr>b?(p.yr=b,p.pr=[],p.pr.push(f),u.push(t.we[m]),u.sort(h)):Math.abs(p.yr-(y+c.yr))<1e-12&&-1==p.pr.indexOf(f)&&p.pr.push(f)))}}}}}return!(o<s)},eo:function(t,i){return t.yr-i.yr},ro:function(t,i){for(var n=t.indexOf(i);-1!=n;)t.splice(n,1),n=t.indexOf(i)},zs:function(t){if(this.Gs!=t){for(var i={},n=0;n<this.Ds._e.length;n++){var r=this.Ds._e[n],e=r.Sr,s=r.Nr,r=r.Br;i.hasOwnProperty(e)||(i[e]={}),i[e][s]=r,i.hasOwnProperty(s)||(i[s]={}),i[s][e]=r}if(x.MODULE_SHORTEST==t){var o,u=Hn(this.Ds.ke.keys());try{for(u.s();!(o=u.n()).done;){var h,a=o.value,f=Hn(this.Ds.ke.get(a));try{for(f.s();!(h=f.n()).done;){var c=h.value,l=c.bs,v=i[a][l];c.Jn=c.Jn/v}}catch(t){f.e(t)}finally{f.f()}}}catch(t){u.e(t)}finally{u.f()}}else if(x.MODULE_BEST==t){var d,y=Hn(this.Ds.ke.keys());try{for(y.s();!(d=y.n()).done;){var b,p=d.value,m=Hn(this.Ds.ke.get(p));try{for(m.s();!(b=m.n()).done;){var w=b.value,_=w.bs,g=i[p][_];w.Jn=w.Jn*g}}catch(t){m.e(t)}finally{m.f()}}}catch(t){y.e(t)}finally{y.f()}}this.Gs=t}},so:function(t,i,n,r){0!=i[t].pr.length&&(t=i[t].pr[0],n.push(i[t]),r.count++,this.so(t,i,n,r))},no:function(t,i,n,r){for(var e=0;e<t.length;e++){var s=t[e];n.push(i[s]);var o={count:1};this.so(s,i,n,o),r.push(o.count)}}});var $n=D;function Kn(t){return(Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jn(t,i){return(Jn=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function tr(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=ir(n);return t=r?(t=ir(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),i=this,!(t=t)||"object"!==Kn(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(i):t}}function ir(t){return(ir=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var nr=function(){!function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&Jn(t,i)}(n,Pn);var i=tr(n);function n(){var t;return function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,n),(t=i.call(this)).Gi=-1,t.oo=[],t}return n}();var rr=function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.et=null,this.uo=null,this.ho=null,this.lt=0,this.ao=!1,this.fo=ln.NaviObstructType_MODEL};function er(t,i){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=or(t))||i&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,s=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){o=!0,e=t},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw e}}}}function sr(t){return function(t){if(Array.isArray(t))return ur(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||or(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function or(t,i){if(t){if("string"==typeof t)return ur(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ur(t,i):void 0}}function ur(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function hr(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}r=function(){function i(t){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),this.co=null,this.vo=null,this.Ds=t,this.do=new Map,this.yo=new Map,this.bo=new Map,this.po=new Map,this.mo=new Map,this.wo=[],this._o=Number.INT_MIN,this.go=Number.INT_MIN,this.xo=-1,this.Fs=null,this.Cs=null,this.Gs=x.MODULE_SHORTEST,this.Oo=new Map,this.Mo=new Map,this.jo=new Map,this.Eo=[],this.ko=[],this.To=[],this.Ro=[],this.Ao=100,this.So=-1,this.Io=15,this.No=.1,this.Lo=[],this.Po=[],this.Do=[],this.Fo=[],this.Co=!0,this.Bo=[],this.Xt=null,this.Uo(),this.Go(),this.Wo(),this.Zo(),this.Vo()}var t,n,r;return t=i,(n=[{key:"assignedPts",get:function(){return this.Po},set:function(t){this.Po=t}},{key:"obstruct",get:function(){return this.Co},set:function(t){this.Co=t}}])&&hr(t.prototype,n),r&&hr(t,r),i}();Object.assign(r.prototype,{Js:function(t,i,n){if(this._o=t instanceof jn?this.qo(t.zt):this.qo(t),this.go=i instanceof jn?this.qo(i.zt):this.qo(i),n&&(this.Gs=n),t instanceof jn)this.Fs=t;else if(T.ROUTE_FAILED_NO_START_ARRIVAL==this.zo(t))return T.ROUTE_FAILED_NO_START_ARRIVAL;if(i instanceof jn)this.Cs=i;else if(T.ROUTE_FAILED_NO_DEST_ARRIVAL==this.Yo(i))return T.ROUTE_FAILED_NO_DEST_ARRIVAL;return null==this.Fs?T.ROUTE_FAILED_NO_DATA_START:null==this.Cs?T.ROUTE_FAILED_NO_DATA_DEST:this.Xo()},Ho:function(){var t;this.Fo=[];for(var i=0;i<this.Po.length;i++){var n={x:(n=this.Po[i])[0],y:n[1]},r=this.qo(n),n=this.Qo(r,n);this.Fo.push(n)}(t=this.wo).push.apply(t,sr(this.Fo))},io:function(){return this.wo},ji:function(){this.co=null,this.vo=null,this.Ds.ji(),this.Ds=null,this.do.clear(),this.do=null;var t,i=er(this.yo);try{for(i.s();!(t=i.n()).done;)t.value[1].ji()}catch(t){i.e(t)}finally{i.f()}this.yo.clear(),this.yo=null;var n,r=er(this.po);try{for(r.s();!(n=r.n()).done;)n.value[1].ji()}catch(t){r.e(t)}finally{r.f()}this.po.clear(),this.po=null;var e,s=er(this.bo);try{for(s.s();!(e=s.n()).done;)e.value[1].ji()}catch(t){s.e(t)}finally{s.f()}this.bo.clear(),this.bo=null;var o,u=er(this.mo);try{for(u.s();!(o=u.n()).done;)o.value[1].ji()}catch(t){u.e(t)}finally{u.f()}this.mo.clear(),this.mo=null,this.wo=[],this.Fs=null,this.Cs=null,this.Oo.clear(),this.Oo=null,this.Mo.clear(),this.Mo=null,this.jo.clear(),this.Eo=[],this.ko=[],this.To=[],this.Ro=[],this.Bo=[],this.Co=!1},On:function(){this.wo=[],this.$o(-1),this.$o(this._o),this._o=Number.INT_MIN,this.$o(this.go),this.go=Number.INT_MIN,this.Ko(),this.Lo=[];var t=this.Ds._e.length;this.xo<-2*t&&(this.xo=-1);for(var i=0;i<this.Eo.length;i++){var n=this.Eo[i];this.Jo(n.tu,n.ho,ln.NaviRoadHinderType_HINDER_HIGH)}this.Eo=[],this.ko=[],this.To=[],this.Ro=[]},iu:function(t){this.Bo=t,this.bo.clear(),this.mo.clear();for(var i=0;i<this.Bo.length;i++)for(var n=this.Bo[i],r=this.nu(n),e=0;e<r.length;e++){var s=r[e],o=this.bo.get(s);o||(o=this.ru(this.yo.get(s)),this.bo.set(s,o)),this.eu(o,n)}var u,h=er(this.bo);try{for(h.s();!(u=h.n()).done;){var a=u.value;this.mo.set(a[0],new $n(a[1]))}}catch(t){h.e(t)}finally{h.f()}},eu:function(t,i){for(var n=t.ws(i),r=0;r<n.length;r++){var e=n[r],s=new Sn;s.Wr(e.road);var o=s.Ur;s.Ur=ln.NaviRoadEntry_FORBID,t._e[e.index]=s,1==e.crss.length&&(i.gs(s.Ir)?this.su(e.crss[0],this.us(),s.Lr,this.us(),o,t):this.su(s.Ir,this.us(),e.crss[0],this.us(),o,t)),2<=e.crss.length&&(this.su(s.Ir,this.us(),e.crss[0],this.us(),o,t),this.su(e.crss[e.crss.length-1],this.us(),s.Lr,this.us(),o,t))}var u=new nr;u.Gi=this.ou(),u.zr=i.zr,u.pass=ln.NaviModelPassType_NOT_PASS,t.ge.push(u)},su:function(t,i,n,r,e,s){var o,u;t instanceof jn?o=t:((o=new jn).Gi=i,o.zt=t,s.we.push(o)),n instanceof jn?u=n:((u=new jn).Gi=r,u.zt=n,s.we.push(u));n=new Sn;n.Gi=this.hs(),n.Sr=o.Gi,n.Ir=o.zt,n.Nr=u.Gi,n.Lr=u.zt,n.Ur=e,n.Gi,n.Sr,n.Ir.x.toFixed(3),n.Ir.y.toFixed(3),n.Nr,n.Lr.x.toFixed(3),n.Lr.y.toFixed(3),s._e.push(n)},ou:function(){return this.xo--},uu:function(t){var i=this.Ds.Fe(t);if(i<=0)return null;var n=this.qo(t),r=this.hu(n).ss(t,-0);if(1===this.Xt)return{Dr:i,ho:r};if(null==r)return{Dr:i,ho:null};if(r.pass===ln.NaviModelPassType_PASS_THROUGH||r.pass===ln.NaviModelPassType_PASS_NOT_THROUGH){if(0<r.re.length)return{Dr:i,ho:r};for(var e={},s=[],o=[],u=this.hu(n)._e,h=!0,a=0;a<r.Yr;a++)for(var f=r.zr[a],c=r.zr[a+1],l=0;l<u.length;l++){var v=u[l];1===yt.wt(f,c,v.Ir,v.Lr,e)&&(h=!1,ln.NaviRoadEntry_FORBID!==v.Ur&&((v={}).x=e.x,v.y=e.y,s.push(v),o.push(u[l])))}if(h)return{Dr:i,ho:r};if(0===s.length)return null;r.re=[],r.se=[],r.ee=[];for(var d=0;d<s.length;d++){var y=s[d],b=o[d],y=this.au(n,y,b);y.fu.push(b.Gi),y.mr=ln.NaviNodeType_COMMON,b.Ur===ln.NaviRoadEntry_BOTH?y.entranceType=ln.NaviEntranceType_ACCESS:yt.ft(b.Ir,r.zr,r.Yr)?(b.Ur===ln.NaviRoadEntry_FORWARD&&(y.entranceType=ln.NaviEntranceType_EXIT),b.Ur===ln.NaviRoadEntry_BACK&&(y.entranceType=ln.NaviEntranceType_ENTRANCE)):(b.Ur===ln.NaviRoadEntry_FORWARD&&(y.entranceType=ln.NaviEntranceType_ENTRANCE),b.Ur===ln.NaviRoadEntry_BACK&&(y.entranceType=ln.NaviEntranceType_EXIT)),r.re.push(y),r.se.push(y.entranceType),r.ee.push(y.mr)}}return r.pass!==ln.NaviModelPassType_NOT_PASS?{Dr:i,ho:r}:null},cu:function(t){var i,n=null,r=Number.MAX_VALUE,e=er(t.values());try{for(e.s();!(i=e.n()).done;){var s=i.value;0<s.length&&s[0].lt<r&&(n=s[0],r=s[0].lt)}}catch(t){e.e(t)}finally{e.f()}return n},zo:function(t){if(1!==this.Xt){var i=null,n=!0,i=null!=this.co&&this.co.pass==ln.NaviModelPassType_PASS_THROUGH&&0==this.co.re.length?this.lu(this._o,t,30,this.co):this.lu(this._o,t);if(this.Fs=this.Qo(this._o,t),null==this.co&&(n=!1),null!=i&&0<i.size){var r,n=!1,e=er(i);try{for(e.s();!(r=e.n()).done;)for(var s=r.value[1],o=0;o<s.length;o++)0!=s[o].uo.Ur&&(n=!0)}catch(t){e.e(t)}finally{e.f()}var u,h=er(i);try{for(h.s();!(u=h.n()).done;){var a=u.value[1],f=a[0].uo,c=this.vu(this._o,t,f,a,this.co);if(0==c.length){var l,v=er(a);try{for(v.s();!(l=v.n()).done;){var d=l.value,y=this.du(this._o,d.et,d.uo);this.yu(this._o,this.Fs,y)}}catch(t){v.e(t)}finally{v.f()}}else{var b=this.du(this._o,c[0].et,c[0].uo);this.yu(this._o,this.Fs,b)}}}catch(t){h.e(t)}finally{h.f()}}if(n&&null!=this.co&&0<this.co.re.length)for(var p=null,m=this.yo.get(this._o),w=0;w<this.co.re.length;w++){var p=this.co.re[w],_=this.co.se[w];if(_==ln.NaviEntranceType_EXIT||_==ln.NaviEntranceType_ACCESS){for(var g=this.co.ne,x=!0,O=0;O<g.length;O++){for(var M=g[O],j=0;j<M.length-1;j++)if(yt.ot(t,p.zt,M[j],M[j+1])){x=!1;break}if(0==x)break}if(0!=x){for(var E=0;E<m._e.length;E++){var k=m._e[E];if(0!=k.Ur)if(yt.ot(t,p.zt,k.Ir,k.Lr)&&0<k.Gi&&0==p.fu.includes(k.Gi)){x=!1;break}}0!=x&&this.yu(this._o,this.Fs,p)}}}}else{i=this.yo.get(this._o),i=this.bu(t,i);if(!i.road)return T.ROUTE_FAILED_NO_START_ARRIVAL;i=this.du(this._o,i.coords,i.road);this.Fs=i}},Yo:function(t){if(1!==this.Xt){var i=null,n=!0,i=null!=this.vo&&this.vo.pass==ln.NaviModelPassType_PASS_THROUGH&&0==this.vo.re.length?this.lu(this.go,t,30,this.vo):this.lu(this.go,t);if(this.Cs=this.Qo(this.go,t),null==this.vo&&(n=!1),null!=i&&0<i.size){var r,n=!1,e=er(i);try{for(e.s();!(r=e.n()).done;)for(var s=r.value[1],o=0;o<s.length;o++)0!=s[o].uo.Ur&&(n=!0)}catch(t){e.e(t)}finally{e.f()}var u,h=er(i);try{for(h.s();!(u=h.n()).done;){var a=u.value[1],f=a[0].uo,c=this.vu(this.go,t,f,a,this.vo);if(0==c.length){var l,v=er(a);try{for(v.s();!(l=v.n()).done;){var d=l.value,y=this.du(this.go,d.et,d.uo);this.yu(this.go,this.Cs,y)}}catch(t){v.e(t)}finally{v.f()}}else{var b=this.du(this.go,c[0].et,c[0].uo);this.yu(this.go,this.Cs,b)}}}catch(t){h.e(t)}finally{h.f()}}if(n&&null!=this.vo&&0<this.vo.re.length)for(var p=null,m=this.yo.get(this.go),w=0;w<this.vo.re.length;w++){var p=this.vo.re[w],_=this.vo.se[w];if(_==ln.NaviEntranceType_ENTRANCE||_==ln.NaviEntranceType_ACCESS){for(var g=this.vo.ne,x=!0,O=0;O<g.length;O++){for(var M=g[O],j=0;j<M.length-1;j++)if(yt.ot(t,p.zt,M[j],M[j+1])){x=!1;break}if(0==x)break}if(0!=x){for(var E=0;E<m._e.length;E++){var k=m._e[E];if(0!=k.Ur)if(yt.ot(t,p.zt,k.Ir,k.Lr)&&0<k.Gi&&0==p.fu.includes(k.Gi)){x=!1;break}}0!=x&&this.yu(this.go,this.Cs,p)}}}}else{i=this.yo.get(this.go),i=this.bu(t,i);if(!i.road)return T.ROUTE_FAILED_NO_DEST_ARRIVAL;i=this.du(this.go,i.coords,i.road);this.Cs=i}},Xo:function(){var t=this.pu(this.Fs.zt);t&&(this.Jo(this._o,t,ln.NaviRoadHinderType_HINDER_GENERAL),this.Eo.push({tu:this._o,ho:t}));t=this.pu(this.Cs.zt);if(t&&(this.Jo(this.go,t,ln.NaviRoadHinderType_HINDER_GENERAL),this.Eo.push({tu:this.go,ho:t})),this.wo=[],this._o===this.go){var i=this.mu(this._o),n=i.Js(this.Fs,this.Cs,this.Gs);if(n!==T.ROUTE_SUCCESS)return n;var r=i.io();this.wo=[],r.reverse(),(n=this.wo).push.apply(n,sr(r))}else{if(-1!==this._o&&-1===this.go){var i=this.wu(this.Fs.zt,this._o,ln.NaviEntranceType_EXIT),n=this.mu(this._o),r=n.Js(this.Fs,i,this.Gs);if(r!=T.ROUTE_SUCCESS)return r;var e=n.io(e),n=this.mu(-1);if((r=n.Js(i,this.Cs,this.Gs))!=T.ROUTE_SUCCESS)return r;r=n.io();e.reverse(),r.reverse(),(n=this.wo).push.apply(n,sr(e)),(e=this.wo).push.apply(e,sr(r))}if(-1===this._o&&-1!==this.go){var s=this.wu(this.Cs.zt,this.go,ln.NaviEntranceType_ENTRANCE),o=this.mu(this.go),u=o.Js(s,this.Cs,this.Gs);if(u!=T.ROUTE_SUCCESS)return u;var h=o.io(),o=this.mu(-1);if((u=o.Js(this.Fs,s,this.Gs))!=T.ROUTE_SUCCESS)return u;s=o.io();s.reverse(),h.reverse(),(u=this.wo).push.apply(u,sr(s)),(o=this.wo).push.apply(o,sr(h))}if(-1!==this._o&&-1!==this.go){var u=this.wu(this.Fs.zt,this._o,ln.NaviEntranceType_EXIT),s=this.mu(this._o),o=s.Js(this.Fs,u,this.Gs);if(o!=T.ROUTE_SUCCESS)return o;var a=s.io(a),h=this.wu(this.Cs.zt,this.go,ln.NaviEntranceType_ENTRANCE),s=this.mu(this.go);if((o=s.Js(h,this.Cs,this.Gs))!=T.ROUTE_SUCCESS)return o;var f=s.io(f),s=this.mu(-1);if((o=s.Js(u,h,this.Gs))!=T.ROUTE_SUCCESS)return o;o=s.io();a.reverse(),o.reverse(),f.reverse(),(s=this.wo).push.apply(s,sr(a)),(a=this.wo).push.apply(a,sr(o)),(o=this.wo).push.apply(o,sr(f))}}return T.ROUTE_SUCCESS},_u:function(t,i,n){for(var r=0;r<i;r++)if(null!=t[r]&&t[r].Gi==n)return r;return-1},qo:function(t){for(var i=this.Ds.Me,n=0;n<i.length;n++){var r=i[n];if(r.te(t))return r.Gi}return-1},Uo:function(){for(var t=this.Ds.Me,i=0;i<t.length;i++){var n=t[i],r=this.gu(this.Ds,n);this.yo.set(n.Gi,r)}this.yo.set(-1,this.Ds);var e,s=er(this.yo);try{for(s.s();!(e=s.n()).done;){var o=e.value;o[1].Pe(),this.po.set(o[0],new $n(o[1]))}}catch(t){s.e(t)}finally{s.f()}},gu:function(t,i){if(t&&i){for(var n,r=0,e=0,s=t._e.length,o=t.we.length,u=t._e,h=t.we,a=0,f=new Int8Array(s),c=0;c<s;c++)u[c]&&u[c].Ur!=ln.NaviRoadEntry_FORBID&&(n=u[c],r=i.contain(n.Ir),e=i.contain(n.Lr),0==r&&0==e||(a=!0),1==r&&1==e&&(f[c]=1),1==r&&0==e&&(f[c]=2),0==r&&1==e&&(f[c]=3),0==r&&0==e&&(f[c]=4),2==r&&0==e&&(f[c]=6),2==r&&1==e&&(f[c]=7),0==r&&2==e&&(f[c]=8),1==r&&2==e&&(f[c]=9));if(0==a)return null;for(var l,v,d,y,b,p,m=new Array(o),w=new Array(s),_=0,g=new Int8Array(o),x=f.length,O=0,M=x;O<M;O++)0!=f[O]&&6!=f[O]&&8!=f[O]&&1!=f[O]&&u[O]&&(v=(l=u[O]).Ur,b=[l.Gi],2==f[O]||9==f[O]?(d=null,d=2==f[O]?i.wt(l.Ir,l.Lr):Object.assign({},l.Lr),(p=new jn).Gi=this.us(),p.mr=ln.NaviNodeType_COMMON,p.wr=ln.NaviLiftType_NULL,p.entranceType=ln.NaviEntranceType_ACCESS,p.zt=Object.assign({},d),(y=new Sn).setRoad(l),y.Gi=this.hs(),b.push(y.Gi),p.segLinks=b,(d=new jn).setNode(p),v==ln.NaviRoadEntry_FORWARD?d.entranceType=ln.NaviEntranceType_EXIT:v==ln.NaviRoadEntry_BACK&&(d.entranceType=ln.NaviEntranceType_ENTRANCE),i.Kr.push(d),_=this._u(h,o,y.Nr),y.Lr=Object.assign({},d.zt),y.Pr[1]=Object.assign({},d.zt),y.Nr=d.Gi,y.Zr(),w[O]=y,m[_]=d,m[_=this._u(h,o,y.Sr)]=h[_],m[_].segLinks.splice(m[_].segLinks.indexOf(l.Gi),1,y.Gi),(y=new jn).setNode(p),l.Sr=y.Gi,l.Ir=Object.assign({},y.zt),l.Pr[0]=Object.assign({},y.zt),l.Zr(),h[_].segLinks.splice(h[_].segLinks.indexOf(l.Gi),1),h.push(y),g[_]=2):3!=f[O]&&7!=f[O]||(p=null,p=3==f[O]?i.wt(l.Ir,l.Lr):Object.assign({},l.Ir),(y=new jn).Gi=this.us(),y.mr=ln.NaviNodeType_COMMON,y.wr=ln.NaviLiftType_NULL,y.entranceType=ln.NaviEntranceType_ACCESS,y.zt=Object.assign({},p),(p=new Sn).setRoad(l),p.Gi=this.hs(),b.push(p.Gi),y.segLinks=b,(b=new jn).setNode(y),v==ln.NaviRoadEntry_FORWARD?b.entranceType=ln.NaviEntranceType_ENTRANCE:v==ln.NaviRoadEntry_BACK&&(b.entranceType=ln.NaviEntranceType_EXIT),i.Kr.push(b),_=this._u(h,o,p.Sr),p.Ir=Object.assign({},b.zt),p.Pr[0]=Object.assign({},b.zt),p.Sr=b.Gi,p.Zr(),w[O]=p,m[_]=b,m[_=this._u(h,o,p.Nr)]=h[_],m[_].segLinks.splice(m[_].segLinks.indexOf(l.Gi),1,p.Gi),(p=new jn).setNode(y),l.Nr=p.Gi,l.Lr=Object.assign({},p.zt),l.Pr[1]=Object.assign({},p.zt),l.Zr(),h[_].segLinks.splice(h[_].segLinks.indexOf(l.Gi),1),h.push(p),g[_]=2));for(var j,E=0,k=x;E<k;E++)1==f[E]&&((j=u[E])&&(w[E]=j,2!=g[_=this._u(h,o,j.Sr)]&&(m[_]=h[_],g[_]=1),2!=g[_=this._u(h,o,j.Nr)]&&(m[_]=h[_],g[_]=1),u[E]=null));for(var T=0;T<o;T++)1==g[T]&&(h[T]=null);for(var x=new Yn(m,w,!0,1),R=[],A=t.ge,S=0;S<A.length;S++){var I=A[S];I&&this.xu(I,i)&&R.push(I)}return(t=x.ge).push.apply(t,R),x}},Go:function(){var t,i=er(this.yo);try{for(i.s();!(t=i.n()).done;)for(var n=t.value,r=n[0],e=n[1].ge,s=0;s<e.length;s++){var o,u=e[s];ln.NaviModelPassType_PASS_NOT_THROUGH==u.pass&&((o=this.Oo.get(r))||(o=[],this.Oo.set(r,o)),o.push(u))}}catch(t){i.e(t)}finally{i.f()}},Wo:function(){var t,i=er(this.yo);try{for(i.s();!(t=i.n()).done;)for(var n=t.value,r=n[0],e=n[1].ge,s=0;s<e.length;s++){var o,u=e[s];ln.NaviModelPassType_NOT_PASS==u.pass&&((o=this.Mo.get(r))||(o=[],this.Mo.set(r,o)),o.push(u))}}catch(t){i.e(t)}finally{i.f()}},Zo:function(){var t,i=er(this.Oo);try{for(i.s();!(t=i.n()).done;)for(var n=t.value,r=n[0],e=n[1],s=this.hu(r)._e,o=0;o<e.length;o++){for(var u=e[o],h=0;h<s.length;h++){var a,f=s[h].qr();yt.ft(f,u.zr,u.Yr)&&(s[h].Jn=s[h].Jn*this.Ao,(a=this.jo.get(u.Gi))||(a=[],this.jo.set(u.Gi,a)),a.push(s[h]))}this.Jo(r,u,ln.NaviRoadHinderType_HINDER_HIGH)}}catch(t){i.e(t)}finally{i.f()}},Vo:function(){var t,i=er(this.Mo);try{for(i.s();!(t=i.n()).done;)for(var n=t.value,r=n[0],e=n[1],s=this.hu(r)._e,o=0;o<e.length;o++)for(var u=e[o],h=0;h<s.length;h++){var a=s[h],f=a.Ur,c=a.qr();if(yt.ft(c,u.zr,u.Yr)){if(a.Jn=Number.MAX_VALUE,f==ln.NaviRoadEntry_BOTH||f==ln.NaviRoadEntry_FORWARD){var l=this.hu(r).ke.get(a.Sr);if(l)for(var v=0;v<l.length;v++)l[v].bs==a.Nr&&(l[v].Jn=a.Jn)}if(a.Ur==ln.NaviRoadEntry_BOTH||a.Ur==ln.NaviRoadEntry_BACK){var d=this.hu(r).ke.get(a.Nr);if(d)for(var y=0;y<d.length;y++)d[y].bs==a.Sr&&(d[y].Jn=a.Jn)}}}}catch(t){i.e(t)}finally{i.f()}},Jo:function(t,i,n){var r=this.jo.get(i.Gi);if(r){if(ln.NaviRoadHinderType_HINDER_HIGH==n)for(var e=0;e<r.length;e++){var s=r[e];if(s.Zr(),s.Jn=r.length*this.Ao,s.Ur==ln.NaviRoadEntry_BOTH||s.Ur==ln.NaviRoadEntry_FORWARD){var o=this.hu(t).ke.get(s.Sr);if(o)for(var u=0;u<o.length;u++)o[u].bs==s.Nr&&(o[u].Jn=s.Jn)}if(s.Ur==ln.NaviRoadEntry_BOTH||s.Ur==ln.NaviRoadEntry_BACK){var h=this.hu(t).ke.get(s.Nr);if(h)for(var a=0;a<h.length;a++)h[a].bs==s.Sr&&(h[a].Jn=s.Jn)}}if(ln.NaviRoadHinderType_HINDER_GENERAL==n)for(var f=0;f<r.length;f++){var c=r[f];if(c.Zr(),c.Ur==ln.NaviRoadEntry_BOTH||c.Ur==ln.NaviRoadEntry_FORWARD){var l=this.hu(t).ke.get(c.Sr);if(l)for(var v=0;v<l.length;v++)l[v].bs==c.Nr&&(l[v].Jn=c.Jn)}if(c.Ur==ln.NaviRoadEntry_BOTH||c.Ur==ln.NaviRoadEntry_BACK){var d=this.hu(t).ke.get(c.Nr);if(d)for(var y=0;y<d.length;y++)d[y].bs==c.Sr&&(d[y].Jn=c.Jn)}}}},wu:function(t,i,n){var r=this.Ds.Ge(i);if(null==r)return null;for(var e=this.hu(i).ss(t,void 0),s=(e.area,Number.MAX_VALUE),o=null,u=0;u<r.Kr.length;u++){var h,a=r.Kr[u],f=yt.lt(a.zt,t);a.entranceType!=ln.NaviEntranceType_ACCESS&&a.entranceType!=n||f<s&&((h=this.Ou(i,a.zt))!=e&&h.pass==ln.NaviModelPassType_PASS_NOT_THROUGH||(s=f,o=a))}return o},Ou:function(t,i){for(var n=null,t=this.hu(t),r=Number.MAX_VALUE,e=Number.MAX_VALUE,s=null,o=t.ge,u=0;u<o.length;u++){var h,a=o[u];(h=yt.Mu(a.zr,i,a.zr.length-1))<e&&(e=h,s=a),this.No>h&&((h=a.area)<r&&(r=h,n=a))}return null==n?s:n},xu:function(t,i){if(t.bb.isSeparate(i.bb))return!1;t=t.Ct;return!!yt.ft(t,i.zr,i.Yr)},du:function(t,i,n){var r=this.Lo.find(function(t){return t==n.Sr}),e=this.Lo.find(function(t){return t==n.Nr});null==r&&this.Lo.push(n.Sr),null==e&&this.Lo.push(n.Nr);for(var s=this.Ro,o=null,u=0;u<s.length;u++)if(s[u].ju==n){o=s[u];break}if(null==o)(o={}).ju=n,s.push(o);else for(;null!=o.Eu;)var h=o.Eu.ju,o=yt.ht(i,h.Ir,h.Lr)?o.Eu:o.ku;n=o.ju;var a=new jn;a.Gi=this.ou(),a.zt=i;var f=new Sn;f.Gi=this.ou(),f.Sr=n.Sr,f.Ir=n.Ir,f.Nr=a.Gi,f.Lr=a.zt,f.Pr=[n.Ir,a.zt],f.Br=n.Br;var c=new Sn;c.Gi=this.ou(),c.Sr=a.Gi,c.Ir=a.zt,c.Nr=n.Nr,c.Lr=n.Lr,c.Pr=[a.zt,n.Lr],c.Br=n.Br,this.ko.push(f),this.ko.push(c);r={};r.ju=f;e={};e.ju=c,o.Eu=r,o.ku=e,a.tempType=1,f.tempType=1,c.tempType=1,f.Zr(),c.Zr(),f.Ur=n.Ur,c.Ur=n.Ur;e=this.hu(t);e.we.push(a),e._e.push(f),e._e.push(c);var l,t=this.mu(t).Ds;return t.Se.set(a.Gi,e.we.length-1),n.Ur==ln.NaviRoadEntry_BOTH&&((e=[]).push({bs:n.Sr,Jn:f.Jn}),e.push({bs:n.Nr,Jn:c.Jn}),t.ke.set(a.Gi,e),(e=t.ke.get(n.Sr))||t.ke.set(n.Sr,e=[]),e.push({bs:a.Gi,Jn:f.Jn}),(e=t.ke.get(n.Nr))||t.ke.set(n.Nr,e=[]),e.push({bs:a.Gi,Jn:c.Jn})),n.Ur==ln.NaviRoadEntry_FORWARD&&((l=[]).push({bs:n.Nr,Jn:c.Jn}),t.ke.set(a.Gi,l),(l=t.ke.get(n.Sr))||t.ke.set(n.Sr,l=[]),l.push({bs:a.Gi,Jn:f.Jn})),n.Ur==ln.NaviRoadEntry_BACK&&((l=[]).push({bs:n.Sr,Jn:f.Jn}),t.ke.set(a.Gi,l),(l=t.ke.get(n.Nr))||t.ke.set(n.Nr,l=[]),l.push({bs:a.Gi,Jn:c.Jn})),a},Tu:function(t,i){for(var n=i.length-1;0<=n;n--)if(i[n].Gi&&0<i[n].Gi)return i.splice(n+1,0,t),n+1;return-1},au:function(t,i,n,r){if(r)return this.du(t,i,n);var e=this.hu(t),s=new jn;s.Gi=this.us(),s.zt=i;var o=new Sn;o.Gi=this.hs(),o.Sr=n.Sr,o.Ir=n.Ir,o.Nr=s.Gi,o.Lr=s.zt,o.Br=n.Br,o.Pr=[n.Ir,s.zt];r=new Sn;r.Gi=this.hs(),r.Sr=s.Gi,r.Ir=s.zt,r.Nr=n.Nr,r.Lr=n.Lr,r.Br=n.Br,r.Pr=[s.zt,n.Lr];t=[];t.push(o.Gi),t.push(r.Gi),s.segLinks=t,o.Zr(),r.Zr(),o.Ur=n.Ur,r.Ur=n.Ur;var u,i=e.we,t=e._e,i=this.Tu(s,i);return this.Tu(o,t),this.Tu(r,t),e.Se.set(s.Gi,i),n.Ur==ln.NaviRoadEntry_BOTH&&((i=[]).push({bs:n.Sr,Jn:o.Jn}),i.push({bs:n.Nr,Jn:r.Jn}),e.ke.set(s.Gi,i),(i=e.ke.get(n.Sr))||e.ke.set(n.Sr,i=[]),i.push({bs:s.Gi,Jn:o.Jn}),(i=e.ke.get(n.Nr))||e.ke.set(n.Nr,i=[]),i.push({bs:s.Gi,Jn:r.Jn})),n.Ur==ln.NaviRoadEntry_FORWARD&&((u=[]).push({bs:n.Nr,Jn:r.Jn}),e.ke.set(s.Gi,u),(u=e.ke.get(n.Sr))||e.ke.set(n.Sr,u=[]),u.push({bs:s.Gi,Jn:o.Jn})),n.Ur==ln.NaviRoadEntry_BACK&&((u=[]).push({bs:n.Sr,Jn:o.Jn}),e.ke.set(s.Gi,u),(u=e.ke.get(n.Nr))||e.ke.set(n.Nr,u=[]),u.push({bs:s.Gi,Jn:r.Jn})),s.fu=[],s.fu.push(o.Gi),s.fu.push(r.Gi),s},Ru:function(t){if(null!=t){for(var i=this.hu(t),n=i.we.length-1;0<=n;n--){var r=i.we[n];if(null==r||0<=r.Gi)break;i.we.splice(n,1)}for(var e=i._e.length-1;0<=e;e--){var s=i._e[e];if(null==s||0<=s.Gi)break;i._e.splice(e,1)}}},Au:function(t,i){var n=t.get(i);if(n)for(var r=0;r<n.length;r++)n[r].bs<0&&(n.splice(r,1),r--)},Su:function(t,i){for(var n=t.get(i),r=0;r<n.length;r++)this.Au(t,n[r].bs);t.delete(i)},Iu:function(t,i,n,r,e){r.Nu=Number.MAX_VALUE,r.ao=!1,r.Lu=n;for(var s=Number.MAX_VALUE,o={},u=this.hu(t),h=Number.MAX_VALUE,a=0;a<u._e.length;a++){var f,c=u._e[a];null!=c&&(c.Gi<0||(c.Ur!=ln.NaviRoadEntry_FORBID?!yt._t(i,n,c.Ir,c.Lr,o)||(f=yt.lt(i,o))<s&&(s=f,r.et=Object.assign({},o),r.lt=s,r.uo=c,r.ao=!0):!yt._t(i,n,c.Ir,c.Lr,o)||(c=yt.lt(i,o))<=h&&(h=c)))}if(r.lt>=h)return r.lt=Number.MAX_VALUE,r.ao=!1;if(!r.ao)return!1;for(var l={},v=0;v<u.ge.length;v++){var d=u.ge[v];if(null!=d&&d!=e&&(ln.NaviModelPassType_DECORATE!=d.pass&&(null==e||e.pass==ln.NaviModelPassType_DECORATE||!yt.ft(e.Ct,d.zr,d.zr.length-1))))for(var y=d.zr.length,b=0;b<y-1;b++)if(yt._t(i,n,d.zr[b],d.zr[b+1],l)){var p=yt.lt(i,l);if(p<s)return s=p,r.ho=d,r.lt=Number.MAX_VALUE,r.ao=!1,r.fo=ln.NaviObstructType_MODEL,!1}}for(var m={},w=u.xe,_=0;_<w.length;_++){for(var g=w[_],x=w[_].ne,O=0;O<x.length;O++)for(var M=x[O],j=0;j<M.length-1;j++)if(yt._t(i,n,M[j],M[j+1],m)){var E=yt.lt(i,m);if(E<s)return s=E,r.ho=g,r.lt=Number.MAX_VALUE,r.ao=!1,r.fo=ln.NaviObstructType_EXTENT,!1}for(var k=w[_].zr,T=0;T<k.length-1;T++)if(yt._t(i,n,k[T],k[T+1],m)){var R=yt.lt(i,m);if(R<s)return s=R,r.ho=g,r.lt=Number.MAX_VALUE,r.ao=!1,r.fo=ln.NaviObstructType_EXTENT,!1}}return!0},Pu:function(t,i){return t.lt-i.lt},Du:function(t,i){return i.Lu-t.Lu},$o:function(t){t=this.hu(t);if(t){for(var i=t.we,n=t.Se,r=i.length-1;0<=r;r--){var e=i[r];if(null==e||0<=e.Gi)break;n.delete(e.Gi),i.splice(r,1)}for(var s=t._e,o=t.Ie,u=s.length-1;0<=u;u--){var h=s[u];if(null==h||0<=h.Gi)break;o.delete(h.Gi),s.splice(u,1)}}},Ko:function(){this.Fu(this.mo),this.Fu(this.po)},Fu:function(t){var i,n=er(t);try{for(n.s();!(i=n.n()).done;){var r,e=i.value[1],s=[],o=e.Ds.ke,u=er(o);try{for(u.s();!(r=u.n()).done;){var h=r.value;h[0]<0&&s.push(h[0])}}catch(t){u.e(t)}finally{u.f()}for(var a=0;a<s.length;a++)this.Su(e.Ds.ke,s[a]);for(var f=0;f<this.Lo.length;f++)this.Au(o,this.Lo[f])}}catch(t){n.e(t)}finally{n.f()}},vu:function(t,i,n,r,e){var s=[],o={x:0,y:0};if(yt.xt(i,n.Ir,n.Lr,o)&&this.Cu(i,o,{},e)){e={};return e.et=o,e.ao=!0,e.uo=n,e.Lu=0,e.lt=yt.lt(i,o),s.push(e),s}for(var u={x:o.x-i.x,y:o.y-i.y},h=0;h<r.length;h++){var a=r[h],f={x:a.et.x-i.x,y:a.et.y-i.y},f=yt.Tt(f,u);a.Lu=f=270<f?f-360:f}r.sort(this.Du);var c,l=null;if(r[r.length-1].Lu<0)return l=r[r.length-1],s.push(l),s;for(var v=0;v<r.length;v++)if(0<r[v].Lu)return l=r[v],0==v?s.push(l):(c=r[v-1],yt.lt(l.et,n.Ir)>yt.lt(c.et,n.Ir)?(s.push(c),s.push(l)):(s.push(l),s.push(c))),s;return s},Bu:function(t,i,n,r,e){for(var s=r||30,o=0;o<360;o+=s){var u=new rr;this.Iu(t,i,o,u,e),1==u.ao&&n.push(u)}n.sort(this.Pu)},lu:function(t,i,n,r){var e=new Map,s=[];for(this.Bu(t,i,s,n,r);0!=s.length;){var o=s[0],u=e.get(o.uo.Gi);u?u.push(o):((u=[]).push(o),e.set(o.uo.Gi,u)),s.splice(0,1)}return e},Qo:function(t,i){var n=new jn;n.Gi=this.ou(),n.zt=Object.assign({},i);i=this.hu(t);return i.we.push(n),i.Se.set(n.Gi,i.we.length-1),this.mu(t).Ds=i,n},Uu:function(t,i,n){if(n)return this.Qo(t,i);n=new jn;n.Gi=this.us(),n.zt=Object.assign({},i);i=this.hu(t),t=i.we,t=this.Tu(n,t);return i.Se.set(n.Gi,t),n},Cu:function(t,i,n,r){for(var e,s=this.hu(-1),o=0;o<s.ge.length;o++)if(e=s.ge[o],null!=e&&e!=r&&ln.NaviModelPassType_DECORATE!=e.pass)for(var u=e.zr,h=0;h<u.length-1;h++)if(yt.wt(t,i,u[h],u[h+1],n)){var a=yt.lt(t,n),f=yt.lt(i,n);if(!(a<=yt.K()||f<=yt.K()))return!1}for(var c=s.xe,l=0;l<c.length;l++){for(var v=c[l],d=v.ne,y=0;y<d.length;y++)for(var b=d[y],p=0;p<b.length-1;p++)if(yt.wt(t,i,b[p],b[p+1],n))return!1;for(var m=v.zr,w=0;w<m.length-1;w++)if(yt.wt(t,i,m[w],m[w+1],n))return!1}return!0},yu:function(t,i,n,r,e,s){for(var o=0;o<this.To.length;o++){var u=this.To[o],h={};if(1==yt.wt(u.Ir,u.Lr,i.zt,n.zt,h)&&yt.lt(i.zt,h)>yt.K()&&yt.lt(n.zt,h)>yt.K())return null}void 0===r&&(r=ln.NaviRoadEntry_BOTH),void 0===e&&(e=!0),void 0===s&&(s=!0);var a=new Sn;a.Sr=i.Gi,a.Ir=i.zt,a.Nr=n.Gi,a.Lr=n.zt,a.Pr=[i.zt,n.zt],a.Br=1,this.Lo.push(i.Gi),this.Lo.push(n.Gi),a.Gi=e?this.ou():this.hs(),a.Ur=r,a.Zr(),s&&this.To.push(a),this.hu(t)._e.push(a);var f,c,s=this.mu(t);return ln.NaviRoadEntry_BOTH==r&&(t={bs:n.Gi,Jn:a.Jn},(f=s.Ds.ke.get(i.Gi))?f.push(t):((f=[]).push(t),s.Ds.ke.set(i.Gi,f)),t={bs:i.Gi,Jn:a.Jn},(f=s.Ds.ke.get(n.Gi))?f.push(t):((f=[]).push(t),s.Ds.ke.set(n.Gi,f))),ln.NaviRoadEntry_FORWARD==r&&(f={bs:n.Gi,Jn:a.Jn},(c=s.Ds.ke.get(i.Gi))?c.push(f):((c=[]).push(f),s.Ds.ke(i.Gi,c))),ln.NaviRoadEntry_BACK==r&&(c={bs:i.Gi,Jn:a.Jn},(r=s.Ds.ke.get(n.Gi))?r.push(c):((r=[]).push(c),s.Ds.ke.set(n.Gi,r))),a},pu:function(t){var i=this.qo(t),n=this.Oo.get(i);if(n)for(var r=0;r<n.length;r++){var e=n[r];if(yt.ft(t,e.zr,e.Yr))return e}return null},hu:function(t){var i=null;return i=(i=this.Co?this.bo.get(t):i)||this.yo.get(t)},mu:function(t){var i=null;return i=(i=this.Co?this.mo.get(t):i)||this.po.get(t)},Gu:function(){return this.Co?this.mo:this.po},us:function(){return this.Ds.us()},hs:function(){return this.Ds.hs()},ru:function(t){var i=[];i.push.apply(i,sr(t.we));var n=[];n.push.apply(n,sr(t._e));i=new Yn(i,n,!0,1);return(n=i.ge).push.apply(n,sr(t.ge)),i},nu:function(t){for(var i=[-1],n=this.Ds.Me,r=0;r<n.length;r++){var e=n[r];t.Wu(e.Gt.Nt,e.Gt.Lt)&&i.push(e.Gi)}return i},bu:function(t,i,n){var r=null,e=i._e;if(!e||e.length<=0)return r;var s=i.De(t);if(s<=0)return r;var o,u,h={},r={distance:Number.MAX_VALUE,road:null,coords:{level:t.level}},a=er(e);try{for(a.s();!(u=a.n()).done;){var f=u.value;f.Ur!==ln.NaviRoadEntry_FORBID&&s===f.Dr&&(n&&n.indexOf(f.Br)<0||(o=yt.yt(t,f.Ir,f.Lr,h))<r.distance&&(r.distance=o,r.road=f,Object.assign(r.coords,h)))}}catch(t){a.e(t)}finally{a.f()}return r}});var ar=r;function fr(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function cr(t){if(fr(this,cr),t instanceof Number){this.Zu=t,this.Vu=[];for(var i=0;i<t;i++)this.Vu.push(null)}if(t instanceof Array){this.qu=t,this.Vu=[];for(var n=0;n<t.length;n++)this.Vu.push(null)}}Object.assign(cr.prototype,{zu:function(){return this.Vu.length},Yu:function(t,i){if(t<0||t>=this.zu())throw"positon is out of bounder";this.Vu[t]=i},Xu:function(t){var i=t;return"string"==typeof t&&(i=this.qu.indexOf(t)),this.Vu[i]},Hu:function(){for(var t=[],i=0;i<this.Vu.length;i++)t.push(this.Vu[i]);return t},Or:function(t){if(this.Vu.length!=t.Vu.length)return!1;if(this.qu.length!=t.qu.length)return!1;for(var i=0;i<this.qu.length;i++)if(this.qu[i]!=t.qu[i])return!1;return!0},Qu:function(){for(var t=0==this.qu.length?new cr(this.Vu.length):new cr(this.qu),i=0;i<this.Vu.length;i++)t.Vu[i]=this.Vu[i];return t}});function lr(t){fr(this,lr),this.qu=t,this.$u=[]}Object.assign(lr.prototype,{Ku:function(t){if(t instanceof cr){if(!new cr(t.qu).Or(t))throw"the appended item is not compatible to the TupleTable";this.$u.push(t)}else{var i,n=new cr(this.qu);for(i in t){var r=this.qu.indexOf(i);0<=r&&n.Yu(r,t[i])}this.$u.push(n)}},Zn:function(t,i){for(var n=0;n<this.$u.length;n++){var r=this.$u[n];if(r.Xu(t)==i)return r}return null},Ju:function(t,i){i=i||-1;for(var n=0;n<this.$u.length;n++)t(i<0?this.$u[n]:this.$u[n].Xu(i))},zu:function(){return this.$u.length},Qu:function(){for(var t=new lr(this.qu),i=0;i<this.$u.length;i++)t.Ku(this.$u[i].Qu());return t},th:function(t){for(var i=0;i<this.$u.length;i++){var n,r=!0;for(n in t)if(this.$u[i].Xu(n)!=t[n]){r=!1;break}r&&(this.$u.splice(i,1),i--)}},ih:function(){this.$u=[]}});var vr=lr;function dr(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}Object.assign(function t(){dr(this,t),this.items=[]}.prototype,{nh:function(t){this.items.push(t)},rh:function(){return this.isEmpty()?"Underflow":this.items.shift()},eh:function(){return this.isEmpty()?"No elements in Queue":this.items[0]},sh:function(){return 0==this.items.length},oh:function(){for(var t="",i=0;i<this.items.length;i++)t+=this.items[i]+" ";return t}});var yr=function t(){dr(this,t),this.queue=[],this.offset=0};function br(t){return function(t){if(Array.isArray(t))return wr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||mr(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pr(t,i){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=mr(t))||i&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,s=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){o=!0,e=t},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw e}}}}function mr(t,i){if(t){if("string"==typeof t)return wr(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wr(t,i):void 0}}function wr(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function _r(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.assign(yr.prototype,{uh:function(){return this.queue.length-this.offset},sh:function(){return 0==this.queue.length},nh:function(t){this.queue.push(t)},rh:function(){if(0!=this.queue.length){var t=this.queue[this.offset];return 2*++this.offset>=this.queue.length&&(this.queue=this.queue.slice(this.offset),this.offset=0),t}},hh:function(){return 0<this.queue.length?this.queue[this.offset]:void 0}});s=function(){function n(t,i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,n),this.Gi=t,this.co=null,this.vo=null,this.Ds=i,this.do=new Map,this.yo=new Map,this.ah=null,this.fh=new Map,this.wo=[],this._o=Number.INT_MIN,this.go=Number.INT_MIN,this.xo=-1,this.Fs=null,this.Cs=null,this.Gs=x.MODULE_SHORTEST,this.Oo=new Map,this.Mo=new Map,this.jo=new Map,this.Eo=[],this.ko=[],this.To=[],this.Ro=[],this.Ao=100,this.So=-1,this.Io=15,this.No=.1,this.ch=[],this.lh=[],this.vh=[],this.Uo(),this.Go(),this.Wo(),this.Zo(),this.Vo(),this.dh=new vr(["num","id","idx","node"]),this.yh=new Map,this.bh=new yr,this.br=!1,this.ph=[],this.Xt=null}var t,i,r;return t=n,(i=[{key:"level",get:function(){return this.Kn},set:function(t){this.Kn=t}}])&&_r(t.prototype,i),r&&_r(t,r),n}();Object.assign(s.prototype,{mh:function(t){this.wh=null==t?[]:t,this._h()},gh:function(t){var i,n=null==t.xh?null:t.xh;t instanceof jn?(this.Fs=t,this.dh.Ku({num:this.dh.zu(),id:t.Gi,idx:this.Ds.ps(t.Gi),node:t})):(i=new jn,this.Oh(t,i,n)||this.lh.push(t),this.Fs=i,this.dh.Ku({num:this.dh.zu(),id:i.Gi,idx:this.Ds.ps(i.Gi),node:i}))},Mh:function(t){var i,n=null==t.xh?null:t.xh;t instanceof jn?(this.Cs=t,this.dh.Ku({num:this.dh.zu(),id:t.Gi,idx:this.Ds.ps(t.Gi),node:t})):(i=new jn,this.Oh(t,i,n)||this.lh.push(t),this.Cs=i,this.dh.Ku({num:this.dh.zu(),id:i.Gi,idx:this.Ds.ps(i.Gi),node:i}))},jh:function(t,i){for(var n=0,r=0;r<i.length;r++){var e=(t.x-i[r].x)*(t.x-i[r].x)+(t.y-i[r].y)*(t.y-i[r].y);n+=Math.sqrt(e)}return n},Eh:function(){for(var t=this.Ds.ks(),i=0;i<t.length;i++)t[i].yr=this.jh(t[i].zt,this.kh().wh),t[i].yr+=this.jh(t[i].zt,this.wh),t[i].yr=t[i].yr/(0==this.kh().wh.length?1:this.kh().wh.length),t[i].wr==ln.NaviLiftType_Escalator&&(t[i].yr-=25),t[i].wr==ln.NaviLiftType_Lift&&(t[i].yr-=25);t.sort(function(t,i){return t.yr-i.yr});for(var n=this.Kn-this.kh().Kn<0,r=0;r<t.length;r++){var e=t[r];if(n){if(e._r==ln.NaviLiftEntry_DOWN||e._r==ln.NaviLiftEntry_FORBID)continue}else if(e._r==ln.NaviLiftEntry_UP||e._r==ln.NaviLiftEntry_FORBID)continue;if(e.wr==ln.NaviLiftType_Stair||e.wr==ln.NaviLiftType_Ramp){if(this.kh().Th(e.cr))return e}else if(-1!=e.ar.indexOf(this.kh().Kn)&&this.kh().Th(e.cr))return e}return null},Rh:function(t){for(var i=this.Ds.ks(),n=t.Kn,r=this.Kn,e=0;e<i.length;e++){var s=i[e];if((1==this.Xt||ln.NaviLiftType_Stair==s.wr||-1!=s.ar.indexOf(n))&&null!=t.Th(s.cr))if(s._r!=ln.NaviLiftEntry_UP){if(s._r!=ln.NaviLiftEntry_DOWN){if(s._r==ln.NaviLiftEntry_BOTH)return{related:!0,dist:Math.abs(r-n)}}else if(n<r)return{related:!0,dist:Math.abs(r-n)}}else if(r<n)return{related:!0,dist:Math.abs(r-n)}}return{related:!1,dist:1/0}},Th:function(t){0==this.ph.length&&(this.ph=this.Ds.ks());for(var i=0;i<this.ph.length;i++)if(this.ph[i].cr==t)return this.ph[i];return null},Ah:function(t){var i=this.Ds.xe[0].zr;return!!yt.ft(t,i,i.length-1)},io:function(){return this.wo},ji:function(){this.co=null,this.vo=null,this.Ds.ji(),this.Ds=null,this.do.clear(),this.do=null;var t,i=pr(this.yo);try{for(i.s();!(t=i.n()).done;)t.value[1].ji()}catch(t){i.e(t)}finally{i.f()}this.yo.clear(),(this.yo=null)!=this.ah&&(this.ah.ji(),this.ah=null),this.fh.each(function(t,i){i.ji()}),this.fh.clear(),this.fh=null,this.wo=[],this.Fs=null,this.Cs=null,this.Oo.clear(),this.Oo=null,this.Mo.clear(),this.Mo=null,this.jo.clear(),this.Mo=null,this.Eo=[],this.ko=[],this.To=[],this.Ro=[]},On:function(){this.wo=[],this.$o(-1),this.$o(this._o),this._o=Number.INT_MIN,this.$o(this.go),this.go=Number.INT_MIN,this.Ko(),this.ch=[],this.xo=-1;for(var t=0;t<this.Eo.length;t++){var i=this.Eo[t];this.Jo(i.tu,i.ho,ln.NaviRoadHinderType_HINDER_HIGH)}this.Eo=[],this.ko=[],this.To=[],this.Ro=[]},Sh:function(t){this.bh.nh(t)},kh:function(){return this.bh.hh()},Ih:function(){return this.bh.rh()},Nh:function(){var o=this;this.Lh=[],this.dh.Ju(function(t){var i=t.Xu("node"),t=o.dh.Qu();t.th({node:i});var n=[];t.Ju(function(t){n.push(t.Xu("id"))}),o.fh.get(-1).qs(i.Gi,n,o.Gs);for(var r=o.fh.get(-1).Hs(),e=0;e<r.length;e++){var s=r[e];o.Lh.push([i.Gi,s[s.length-1].Gi,function(t){for(var i=0,n=0;n<t.length-1;n++){var r=t[n].zt.x-t[n+1].zt.x,e=t[n].zt.y-t[n+1].zt.y;i+=Math.sqrt(r*r+e*e)}return i}(s),s])}})},Ph:function(){this.zi=[];for(var t=function(t,i){for(var n=0;n<this.length;n++)if(this[n][0]==t&&this[n][1]==i)return this[n]},i=0;i<this.Dh.route.length-1;i++)for(var n=this.Dh.route[i],r=this.Dh.route[i+1],e=t.apply(this.Lh,[n,r]),s=0;s<e[3].length;s++)0!=i&&0==s||this.zi.push(e[3][s])},Fh:function(){return this.zi},uu:function(t){var i=this.Ds.De(t);if(i<=0)return null;var n=this.Ch(t),r=this.yo.get(n).findModel(t,-0);if(null==r)return{Dr:i,ho:null};if(r.pass==ln.NaviModelPassType_PASS_THROUGH||r.pass==ln.NaviModelPassType_PASS_NOT_THROUGH){if(0<r.re.length)return{Dr:i,ho:r};for(var e={},s=[],o=[],u=this.yo.get(n)._e,h=!0,a=0;a<r.Yr;a++)for(var f=r.zr[a],c=r.zr[a+1],l=0;l<u.length;l++){var v=u[l];1==yt.wt(f,c,v.Ir,v.Lr,e)&&(h=!1,ln.NaviRoadEntry_FORBID!=v.Ur&&((v=new Object).x=e.x,v.y=e.y,s.push(v),o.push(u[l])))}if(h)return{Dr:i,ho:r};if(0==s.length)return null;r.re=[],r.se=[],r.ee=[];for(var d=0;d<s.length;d++){var y=s[d],b=o[d],y=this.au(n,y,b);y.mr=ln.NaviNodeType_COMMON,b.Ur==ln.NaviRoadEntry_BOTH?y.entranceType=ln.NaviEntranceType_ACCESS:yt.ft(b.Ir,r.zr,r.Yr)?(b.Ur==ln.NaviRoadEntry_FORWARD&&(y.entranceType=ln.NaviEntranceType_EXIT),b.Ur==ln.NaviRoadEntry_BACK&&(y.entranceType=ln.NaviEntranceType_ENTRANCE)):(b.Ur==ln.NaviRoadEntry_FORWARD&&(y.entranceType=ln.NaviEntranceType_ENTRANCE),b.Ur==ln.NaviRoadEntry_BACK&&(y.entranceType=ln.NaviEntranceType_EXIT)),r.re.push(y),r.se.push(y.entranceType),r.ee.push(y.mr)}}return r.pass!=ln.NaviModelPassType_NOT_PASS?{Dr:i,ho:r}:null},cu:function(t){var i,n=null,r=Number.MAX_VALUE,e=pr(t.values());try{for(e.s();!(i=e.n()).done;){var s=i.value;0<s.length&&s[0].lt<r&&(n=s[0],r=s[0].lt)}}catch(t){e.e(t)}finally{e.f()}return n},zo:function(t){if(1!==this.Xt){var i=null,n=!0,i=null!=this.co&&this.co.pass==ln.NaviModelPassType_PASS_THROUGH&&0==this.co.re.length?this.lu(this._o,t,30,this.co):this.lu(this._o,t);if(this.Fs=this.Qo(this._o,t),null==this.co&&(n=!1),null!=i&&0<i.size){var r,n=!1,e=pr(i);try{for(e.s();!(r=e.n()).done;)for(var s=r.value[1],o=0;o<s.length;o++)0!=s[o].uo.Ur&&(n=!0)}catch(t){e.e(t)}finally{e.f()}var u,h=pr(i);try{for(h.s();!(u=h.n()).done;){var a=u.value[1],f=a[0].uo,c=this.vu(this._o,t,f,a,this.co);if(0==c.length){var l,v=pr(a);try{for(v.s();!(l=v.n()).done;){var d=l.value,y=this.du(this._o,d.et,d.uo);this.yu(this._o,this.Fs,y)}}catch(t){v.e(t)}finally{v.f()}}else{var b=this.du(this._o,c[0].et,c[0].uo);this.yu(this._o,this.Fs,b)}}}catch(t){h.e(t)}finally{h.f()}}if(n&&null!=this.co&&0<this.co.re.length)for(var p=null,m=this.yo.get(this._o),w=0;w<this.co.re.length;w++){var p=this.co.re[w],_=this.co.se[w];if(_==ln.NaviEntranceType_EXIT||_==ln.NaviEntranceType_ACCESS){for(var g=this.co.ne,x=!0,O=0;O<g.length;O++){for(var M=g[O],j=0;j<M.length-1;j++)if(yt.ot(t,p.zt,M[j],M[j+1])){x=!1;break}if(0==x)break}if(0!=x){for(var E=0;E<m._e.length;E++){var k=m._e[E];if(0!=k.Ur)if(yt.ot(t,p.zt,k.Ir,k.Lr)&&0<k.Gi&&0==p.fu.includes(k.Gi)){x=!1;break}}0!=x&&this.yu(this._o,this.Fs,p)}}}}else{i=this.yo.get(this._o),i=this.bu(t,i);if(!i.road)return T.ROUTE_FAILED_NO_START_ARRIVAL;i=this.du(this._o,i.coords,i.road);this.Fs=i}},Yo:function(t){if(1!==this.Xt){var i=null,n=!0,i=null!=this.vo&&this.vo.pass==ln.NaviModelPassType_PASS_THROUGH&&0==this.vo.re.length?this.lu(this.go,t,30,this.vo):this.lu(this.go,t);if(this.Cs=this.Qo(this.go,t),null==this.vo&&(n=!1),null!=i&&0<i.size){var r,n=!1,e=pr(i);try{for(e.s();!(r=e.n()).done;)for(var s=r.value[1],o=0;o<s.length;o++)0!=s[o].uo.Ur&&(n=!0)}catch(t){e.e(t)}finally{e.f()}var u,h=pr(i);try{for(h.s();!(u=h.n()).done;){var a=u.value[1],f=a[0].uo,c=this.vu(this.go,t,f,a,this.vo);if(0==c.length){var l,v=pr(a);try{for(v.s();!(l=v.n()).done;){var d=l.value,y=this.du(this.go,d.et,d.uo);this.yu(this.go,this.Cs,y)}}catch(t){v.e(t)}finally{v.f()}}else{var b=this.du(this.go,c[0].et,c[0].uo);this.yu(this.go,this.Cs,b)}}}catch(t){h.e(t)}finally{h.f()}}if(n&&null!=this.vo&&0<this.vo.re.length)for(var p=null,m=this.yo.get(this.go),w=0;w<this.vo.re.length;w++){var p=this.vo.re[w],_=this.vo.se[w];if(_==ln.NaviEntranceType_ENTRANCE||_==ln.NaviEntranceType_ACCESS){for(var g=this.vo.ne,x=!0,O=0;O<g.length;O++){for(var M=g[O],j=0;j<M.length-1;j++)if(yt.ot(t,p.zt,M[j],M[j+1])){x=!1;break}if(0==x)break}if(0!=x){for(var E=0;E<m._e.length;E++){var k=m._e[E];if(0!=k.Ur)if(yt.ot(t,p.zt,k.Ir,k.Lr)&&0<k.Gi&&0==p.fu.includes(k.Gi)){x=!1;break}}0!=x&&this.yu(this.go,this.Cs,p)}}}}else{i=this.yo.get(this.go),i=this.bu(t,i);if(!i.road)return T.ROUTE_FAILED_NO_DEST_ARRIVAL;i=this.du(this.go,i.coords,i.road);this.Cs=i}},Oh:function(t,i,n){var r=this;t instanceof Array&&2==t.length&&(t={x:t[0],y:t[1]});var e=null,s=!0,o=this.Ds.xs(t),u=this.Ds.Os(t),e=null!=o&&o.pass==ln.NaviModelPassType_PASS_THROUGH&&0==o.re.length?this.lu(u,t,30,o):this.lu(u,t);if(1===this.Xt){var h=this.cu(e);if(!h)return;var a=h.uo,f=null,a=this.vu(u,t,a,[h],o);return(f=0==a.length?this.du(u,h.et,h.uo):this.du(u,a[0].et,a[0].uo)).xh=void 0!==n&&n,Object.assign(i,f),!0}f=this.Qo(u,t);if(f.xh=void 0!==n&&n,Object.assign(i,f),null==o&&(s=!1),0<e.size){var c,s=!1,l=pr(e);try{for(l.s();!(c=l.n()).done;)for(var v=c.value[1],d=0;d<v.length;d++)0!=v[d].uo.Ur&&(s=!0)}catch(t){l.e(t)}finally{l.f()}var y,b=!1,p=[],m=pr(e);try{for(m.s();!(y=m.n()).done;){var w,_=y.value[1],g=_[0].uo,x=this.vu(u,t,g,_,o);if(0==x.length){var O,M=pr(_);try{for(M.s();!(O=M.n()).done;){var j=O.value,E=this.du(u,j.et,j.uo);this.yu(u,i,E)}}catch(t){M.e(t)}finally{M.f()}}else Math.abs(x[0].Lu)>yt.K()?p.push.apply(p,br(x)):(b=!0,w=this.du(u,x[0].et,x[0].uo),this.yu(u,i,w))}}catch(t){m.e(t)}finally{m.f()}b||p.forEach(function(t){t=r.du(u,t.et,t.uo);r.yu(u,i,t)})}if(s&&null!=o&&0<o.re.length){for(var k=!1,T=0;T<o.re.length;T++){var R=o.re[T],A=o.se[T];A!=ln.NaviEntranceType_EXIT&&A!=ln.NaviEntranceType_ACCESS||(this.yu(u,i,R),k=!0)}if(!k)return!1}return!0},Js:function(){var t=this.pu(this.Fs.zt);t&&(this.Jo(this._o,t,ln.NaviRoadHinderType_HINDER_GENERAL),this.Eo.push({tu:this._o,ho:t}));t=this.pu(this.Cs.zt);if(t&&(this.Jo(this.go,t,ln.NaviRoadHinderType_HINDER_GENERAL),this.Eo.push({tu:this.go,ho:t})),this.wo=[],this._o==this.go){var i=this.fh.get(this._o),n=i.Js(this.Fs,this.Cs,this.Gs);if(n!=T.ROUTE_SUCCESS)return n;var r=i.io();this.wo=[],r.reverse(),(n=this.wo).push.apply(n,br(r))}else{if(-1!=this._o&&-1==this.go){var i=this.wu(this.Fs.zt,this._o,ln.NaviEntranceType_EXIT),n=this.fh.get(this._o),r=n.Js(this.Fs,i,this.Gs);if(r!=T.ROUTE_SUCCESS)return r;var e=n.io(e),n=this.fh.get(-1);if((r=n.Js(i,this.Cs,this.Gs))!=T.ROUTE_SUCCESS)return r;r=n.io();e.reverse(),r.reverse(),(n=this.wo).push.apply(n,br(e)),(e=this.wo).push.apply(e,br(r))}if(-1==this._o&&-1!=this.go){var s=this.wu(this.Cs.zt,this.go,ln.NaviEntranceType_ENTRANCE),o=this.fh.get(this.go),u=o.Js(s,this.Cs,this.Gs);if(u!=T.ROUTE_SUCCESS)return u;var h=o.io(),o=this.fh.get(-1);if((u=o.Js(this.Fs,s,this.Gs))!=T.ROUTE_SUCCESS)return u;s=o.io();s.reverse(),h.reverse(),(u=this.wo).push.apply(u,br(s)),(o=this.wo).push.apply(o,br(h))}if(-1!=this._o&&-1!=this.go){var u=this.wu(this.Fs.zt,this._o,ln.NaviEntranceType_EXIT),s=this.fh.get(this._o),o=s.Js(this.Fs,u,this.Gs);if(o!=T.ROUTE_SUCCESS)return o;var a=s.io(a),h=this.wu(this.Cs.zt,this.go,ln.NaviEntranceType_ENTRANCE),s=this.fh.get(this.go);if((o=s.Js(h,this.Cs,this.Gs))!=T.ROUTE_SUCCESS)return o;var f=s.io(f),s=this.fh.get(-1);if((o=s.Js(u,h,this.Gs))!=T.ROUTE_SUCCESS)return o;o=s.io();a.reverse(),o.reverse(),f.reverse(),(s=this.wo).push.apply(s,br(a)),(a=this.wo).push.apply(a,br(o)),(o=this.wo).push.apply(o,br(f))}}return T.ROUTE_SUCCESS},_u:function(t,i,n){for(var r=0;r<i;r++)if(null!=t[r]&&t[r].Gi==n)return r;return-1},Ch:function(t){for(var i=this.Ds.Me,n=0;n<i.length;n++){var r=i[n];if(r.te(t))return r.Gi}return-1},Uo:function(){for(var t=this.Ds.Me,i=0;i<t.length;i++){var n=t[i],r=this.gu(this.Ds,n);this.yo.set(n.Gi,r)}this.yo.set(-1,this.Ds);var e,s=pr(this.yo);try{for(s.s();!(e=s.n()).done;){var o=e.value;o[1].Pe(),this.fh.set(o[0],new $n(o[1]))}}catch(t){s.e(t)}finally{s.f()}},gu:function(t,i){if(t&&i){for(var n,r=0,e=0,s=t._e.length,o=t.we.length,u=t._e,h=t.we,a=0,f=new Int8Array(s),c=0;c<s;c++)u[c]&&u[c].Ur!=ln.NaviRoadEntry_FORBID&&(n=u[c],r=i.contain(n.Ir),e=i.contain(n.Lr),0==r&&0==e||(a=!0),1==r&&1==e&&(f[c]=1),1==r&&0==e&&(f[c]=2),0==r&&1==e&&(f[c]=3),0==r&&0==e&&(f[c]=4),2==r&&0==e&&(f[c]=6),2==r&&1==e&&(f[c]=7),0==r&&2==e&&(f[c]=8),1==r&&2==e&&(f[c]=9));if(0==a)return null;for(var l,v,d,y,b,p,m=new Array(o),w=new Array(s),_=0,g=new Int8Array(o),x=f.length,O=0,M=x;O<M;O++)0!=f[O]&&6!=f[O]&&8!=f[O]&&1!=f[O]&&u[O]&&(v=(l=u[O]).Ur,b=[l.Gi],2==f[O]||9==f[O]?(d=null,d=2==f[O]?i.wt(l.Ir,l.Lr):Object.assign({},l.Lr),(p=new jn).Gi=this.Ds.us(),p.mr=ln.NaviNodeType_COMMON,p.wr=ln.NaviLiftType_NULL,p.entranceType=ln.NaviEntranceType_ACCESS,p.zt=Object.assign({},d),(y=new Sn).setRoad(l),y.Gi=this.Ds.hs(),b.push(y.Gi),p.segLinks=b,(d=new jn).setNode(p),v==ln.NaviRoadEntry_FORWARD?d.entranceType=ln.NaviEntranceType_EXIT:v==ln.NaviRoadEntry_BACK&&(d.entranceType=ln.NaviEntranceType_ENTRANCE),i.Kr.push(d),_=this._u(h,o,y.Nr),y.Lr=Object.assign({},d.zt),y.Pr[1]=Object.assign({},d.zt),y.Nr=d.Gi,y.Zr(),w[O]=y,m[_]=d,m[_=this._u(h,o,y.Sr)]=h[_],m[_].segLinks.splice(m[_].segLinks.indexOf(l.Gi),1,y.Gi),(y=new jn).setNode(p),l.Sr=y.Gi,l.Ir=Object.assign({},y.zt),l.Pr[0]=Object.assign({},y.zt),l.Zr(),h[_].segLinks.splice(h[_].segLinks.indexOf(l.Gi),1),h.push(y),g[_]=2):3!=f[O]&&7!=f[O]||(p=null,p=3==f[O]?i.wt(l.Ir,l.Lr):Object.assign({},l.Ir),(y=new jn).Gi=this.Ds.us(),y.mr=ln.NaviNodeType_COMMON,y.wr=ln.NaviLiftType_NULL,y.entranceType=ln.NaviEntranceType_ACCESS,y.zt=Object.assign({},p),(p=new Sn).setRoad(l),p.Gi=this.Ds.hs(),b.push(p.Gi),y.segLinks=b,(b=new jn).setNode(y),v==ln.NaviRoadEntry_FORWARD?b.entranceType=ln.NaviEntranceType_ENTRANCE:v==ln.NaviRoadEntry_BACK&&(b.entranceType=ln.NaviEntranceType_EXIT),i.Kr.push(b),_=this._u(h,o,p.Sr),p.Ir=Object.assign({},b.zt),p.Pr[0]=Object.assign({},b.zt),p.Sr=b.Gi,p.Zr(),w[O]=p,m[_]=b,m[_=this._u(h,o,p.Nr)]=h[_],m[_].segLinks.splice(m[_].segLinks.indexOf(l.Gi),1,p.Gi),(p=new jn).setNode(y),l.Nr=p.Gi,l.Lr=Object.assign({},p.zt),l.Pr[1]=Object.assign({},p.zt),l.Zr(),h[_].segLinks.splice(h[_].segLinks.indexOf(l.Gi),1),h.push(p),g[_]=2));for(var j,E=0,k=x;E<k;E++)1==f[E]&&((j=u[E])&&(w[E]=j,2!=g[_=this._u(h,o,j.Sr)]&&(m[_]=h[_],g[_]=1),2!=g[_=this._u(h,o,j.Nr)]&&(m[_]=h[_],g[_]=1),u[E]=null));for(var T=0;T<o;T++)1==g[T]&&(h[T]=null);for(var x=new Yn(m,w,!0,1),R=[],A=t.ge,S=0;S<A.length;S++){var I=A[S];I&&this.xu(I,i)&&R.push(I)}return(t=x.ge).push.apply(t,R),x}},Go:function(){var t,i=pr(this.yo);try{for(i.s();!(t=i.n()).done;)for(var n=t.value,r=n[0],e=n[1].ge,s=0;s<e.length;s++){var o,u=e[s];ln.NaviModelPassType_PASS_NOT_THROUGH==u.pass&&((o=this.Oo.get(r))||(o=[],this.Oo.set(r,o)),o.push(u))}}catch(t){i.e(t)}finally{i.f()}},Wo:function(){var t,i=pr(this.yo);try{for(i.s();!(t=i.n()).done;)for(var n=t.value,r=n[0],e=n[1].ge,s=0;s<e.length;s++){var o,u=e[s];ln.NaviModelPassType_NOT_PASS==u.pass&&((o=this.Mo.get(r))||(o=[],this.Mo.set(r,o)),o.push(u))}}catch(t){i.e(t)}finally{i.f()}},Zo:function(){var t,i=pr(this.Oo);try{for(i.s();!(t=i.n()).done;)for(var n=t.value,r=n[0],e=n[1],s=this.yo.get(r)._e,o=0;o<e.length;o++){for(var u=e[o],h=0;h<s.length;h++){var a,f=s[h].qr();yt.ft(f,u.zr,u.Yr)&&(s[h].Jn=s[h].Jn*this.Ao,(a=this.jo.get(u.Gi))||(a=[],this.jo.set(u.Gi,a)),a.push(s[h]))}this.Jo(r,u,ln.NaviRoadHinderType_HINDER_HIGH)}}catch(t){i.e(t)}finally{i.f()}},_h:function(){for(var t=0;t<this.wh.length;t++){var i=new jn;this.Oh(this.wh[t],i,!0)?(this.vh.push(i),this.dh.Ku({num:this.dh.zu(),id:i.Gi,idx:this.Ds.ps(i.Gi),node:i})):this.lh.push(this.wh[t])}},Vo:function(){var t,i=pr(this.Mo);try{for(i.s();!(t=i.n()).done;)for(var n=t.value,r=n[0],e=n[1],s=this.yo.get(r)._e,o=0;o<e.length;o++)for(var u=e[o],h=0;h<s.length;h++){var a=s[h],f=a.Ur,c=a.qr();if(yt.ft(c,u.zr,u.Yr-1)){if(a.Jn=Number.MAX_VALUE,f==ln.NaviRoadEntry_BOTH||f==ln.NaviRoadEntry_FORWARD){var l=this.yo.get(r).ke.get(a.Sr);if(l)for(var v=0;v<l.length;v++)l[v].bs==a.Nr&&(l[v].Jn=a.Jn)}if(a.Ur==ln.NaviRoadEntry_BOTH||a.Ur==ln.NaviRoadEntry_BACK){var d=this.yo.get(r).ke.get(a.Nr);if(d)for(var y=0;y<d.length;y++)d[y].bs==a.Sr&&(d[y].Jn=a.Jn)}}}}catch(t){i.e(t)}finally{i.f()}},Jo:function(t,i,n){var r=this.jo.get(i.Gi);if(r){if(ln.NaviRoadHinderType_HINDER_HIGH==n)for(var e=0;e<r.length;e++){var s=r[e];if(s.Zr(),s.Jn=r.length*this.Ao,s.Ur==ln.NaviRoadEntry_BOTH||s.Ur==ln.NaviRoadEntry_FORWARD){var o=this.yo.get(t).ke.get(s.Sr);if(o)for(var u=0;u<o.length;u++)o[u].bs==s.Nr&&(o[u].Jn=s.Jn)}if(s.Ur==ln.NaviRoadEntry_BOTH||s.Ur==ln.NaviRoadEntry_BACK){var h=this.yo.get(t).ke.get(s.Nr);if(h)for(var a=0;a<h.length;a++)h[a].bs==s.Sr&&(h[a].Jn=s.Jn)}}if(ln.NaviRoadHinderType_HINDER_GENERAL==n)for(var f=0;f<r.length;f++){var c=r[f];if(c.Zr(),c.Ur==ln.NaviRoadEntry_BOTH||c.Ur==ln.NaviRoadEntry_FORWARD){var l=this.yo.get(t).ke.get(c.Sr);if(l)for(var v=0;v<l.length;v++)l[v].bs==c.Nr&&(l[v].Jn=c.Jn)}if(c.Ur==ln.NaviRoadEntry_BOTH||c.Ur==ln.NaviRoadEntry_BACK){var d=this.yo.get(t).ke.get(c.Nr);if(d)for(var y=0;y<d.length;y++)d[y].bs==c.Sr&&(d[y].Jn=c.Jn)}}}},wu:function(t,i,n){var r=this.Ds.getZone(i);if(null==r)return null;for(var e=this.yo.get(i).ss(t,void 0),s=(e.area,Number.MAX_VALUE),o=null,u=0;u<r.Kr.length;u++){var h,a=r.Kr[u],f=yt.lt(a.zt,t);a.entranceType!=ln.NaviEntranceType_ACCESS&&a.entranceType!=n||f<s&&((h=this.Ou(i,a.zt))!=e&&h.pass==ln.NaviModelPassType_PASS_NOT_THROUGH||(s=f,o=a))}return o},Ou:function(t,i){for(var n=null,t=this.yo.get(t),r=Number.MAX_VALUE,e=Number.MAX_VALUE,s=null,o=t.ge,u=0;u<o.length;u++){var h,a=o[u];(h=yt.ft(i,a.zr,a.zr.length-1))<e&&(e=h,s=a),this.No>h&&((h=a.area)<r&&(r=h,n=a))}return null==n?s:n},xu:function(t,i){if(t.bb.isSeparate(i.bb))return!1;t=t.Ct;return!!yt.ft(t,i.zr,i.Yr)},du:function(t,i,n){var r=this.ch.find(function(t){return t==n.Sr}),e=this.ch.find(function(t){return t==n.Nr});null==r&&this.ch.push(n.Sr),null==e&&this.ch.push(n.Nr);for(var s=this.Ro,o=null,u=0;u<s.length;u++)if(s[u].ju==n){o=s[u];break}if(null==o)(o={}).ju=n,s.push(o);else for(;null!=o.Eu;)var h=o.Eu.ju,o=yt.ht(i,h.Ir,h.Lr)?o.Eu:o.ku;n=o.ju;var a=new jn;a.Gi=this.Bh(),a.zt=i;var f=new Sn;f.Gi=this.Bh(),f.Sr=n.Sr,f.Ir=n.Ir,f.Nr=a.Gi,f.Lr=a.zt,f.Pr=[n.Ir,a.zt];var c=new Sn;c.Gi=this.Bh(),c.Sr=a.Gi,c.Ir=a.zt,c.Nr=n.Nr,c.Lr=n.Lr,c.Pr=[a.zt,n.Lr],this.ko.push(f),this.ko.push(c);r={};r.ju=f;e={};e.ju=c,o.Eu=r,o.ku=e,a.tempType=1,f.tempType=1,c.tempType=1,f.Zr(),c.Zr(),f.Ur=n.Ur,c.Ur=n.Ur;e=this.yo.get(t);e.we.push(a),e._e.push(f),e._e.push(c);var l,t=this.fh.get(t).Ds;return t.Se.set(a.Gi,e.we.length-1),n.Ur==ln.NaviRoadEntry_BOTH&&((e=[]).push({bs:n.Sr,Jn:f.Jn}),e.push({bs:n.Nr,Jn:c.Jn}),t.ke.set(a.Gi,e),(e=t.ke.get(n.Sr))||t.ke.set(n.Sr,e=[]),e.push({bs:a.Gi,Jn:f.Jn}),(e=t.ke.get(n.Nr))||t.ke.set(n.Nr,e=[]),e.push({bs:a.Gi,Jn:c.Jn})),n.Ur==ln.NaviRoadEntry_FORWARD&&((l=[]).push({bs:n.Nr,Jn:c.Jn}),t.ke.set(a.Gi,l),(l=t.ke.get(n.Sr))||t.ke.set(n.Sr,l=[]),l.push({bs:a.Gi,Jn:f.Jn})),n.Ur==ln.NaviRoadEntry_BACK&&((l=[]).push({bs:n.Sr,Jn:f.Jn}),t.ke.set(a.Gi,l),(l=t.ke.get(n.Nr))||t.ke.set(n.Nr,l=[]),l.push({bs:a.Gi,Jn:c.Jn})),a},Tu:function(t,i){for(var n=i.length-1;0<=n;n--)if(i[n].Gi&&0<i[n].Gi)return i.splice(n+1,0,t),n+1;return-1},au:function(t,i,n,r){if(r)return this.du(t,i,n);var e=this.yo.get(t),s=new jn;s.Gi=e.us(),s.zt=i;var o=new Sn;o.Gi=e.hs(),o.Sr=n.Sr,o.Ir=n.Ir,o.Nr=s.Gi,o.Lr=s.zt,o.Pr=[n.Ir,s.zt];r=new Sn;r.Gi=e.hs(),r.Sr=s.Gi,r.Ir=s.zt,r.Nr=n.Nr,r.Lr=n.Lr,r.Pr=[s.zt,n.Lr];t=[];t.push(o.Gi),t.push(r.Gi),s.segLinks=t,o.Zr(),r.Zr(),o.Ur=n.Ur,r.Ur=n.Ur;var u,i=e.we,t=e._e,i=this.Tu(s,i);return this.Tu(o,t),this.Tu(r,t),e.Se.set(s.Gi,i),n.Ur==ln.NaviRoadEntry_BOTH&&((i=[]).push({bs:n.Sr,Jn:o.Jn}),i.push({bs:n.Nr,Jn:r.Jn}),e.ke.set(s.Gi,i),(i=e.ke.get(n.Sr))||e.ke.set(n.Sr,i=[]),i.push({bs:s.Gi,Jn:o.Jn}),(i=e.ke.get(n.Nr))||e.ke.set(n.Nr,i=[]),i.push({bs:s.Gi,Jn:r.Jn})),n.Ur==ln.NaviRoadEntry_FORWARD&&((u=[]).push({bs:n.Nr,Jn:r.Jn}),e.ke.set(s.Gi,u),(u=e.ke.get(n.Sr))||e.ke.set(n.Sr,u=[]),u.push({bs:s.Gi,Jn:o.Jn})),n.Ur==ln.NaviRoadEntry_BACK&&((u=[]).push({bs:n.Sr,Jn:o.Jn}),e.ke.set(s.Gi,u),(u=e.ke.get(n.Nr))||e.ke.set(n.Nr,u=[]),u.push({bs:s.Gi,Jn:r.Jn})),s},Ru:function(t){if(null!=t){for(var i=this.yo.get(t),n=i.we.length-1;0<=n;n--){var r=i.we[n];if(null==r||0<=r.Gi)break;i.we.splice(n,1)}for(var e=i._e.length-1;0<=e;e--){var s=i._e[e];if(null==s||0<=s.Gi)break;i._e.splice(e,1)}}},Au:function(t,i){var n=t.get(i);if(n)for(var r=0;r<n.length;r++)n[r].bs<0&&(n.splice(r,1),r--)},Su:function(t,i){for(var n=t.get(i),r=0;r<n.length;r++)this.Au(t,n[r].bs);t.delete(i)},Uh:function(t,i,n,r,e){r.Nu=Number.MAX_VALUE,r.ao=!1,r.Lu=n;for(var s=Number.MAX_VALUE,o={},u=this.yo.get(t),h=Number.MAX_VALUE,a=0;a<u._e.length;a++){var f,c=u._e[a];null!=c&&(c.Gi<0||(c.Ur!=ln.NaviRoadEntry_FORBID?!yt._t(i,n,c.Ir,c.Lr,o)||(f=yt.lt(i,o))<s&&(s=f,r.et=Object.assign({},o),r.lt=s,r.uo=c,r.ao=!0):!yt._t(i,n,c.Ir,c.Lr,o)||(c=yt.lt(i,o))<=h&&(h=c)))}if(r.lt>=h)return r.lt=Number.MAX_VALUE,r.ao=!1;if(!r.ao)return!1;if(1!=this.Xt)for(var l={},v=0;v<u.ge.length;v++){var d=u.ge[v];if(null!=d&&d!=e&&(ln.NaviModelPassType_DECORATE!=d.pass&&(null==e||e.pass==ln.NaviModelPassType_DECORATE||!yt.ft(e.Ct,d.zr,d.zr.length-1))))for(var y=d.zr.length,b=0;b<y-1;b++)if(yt._t(i,n,d.zr[b],d.zr[b+1],l)){var p=yt.lt(i,l);if(p<s)return s=p,r.ho=d,r.lt=Number.MAX_VALUE,r.ao=!1,r.fo=ln.NaviObstructType_MODEL,!1}}for(var m={},w=u.xe,_=0;_<w.length;_++){for(var g=w[_],x=w[_].ne,O=0;O<x.length;O++)for(var M=x[O],j=0;j<M.length-1;j++)if(yt._t(i,n,M[j],M[j+1],m)){var E=yt.lt(i,m);if(E<s)return s=E,r.ho=g,r.lt=Number.MAX_VALUE,r.ao=!1,r.fo=ln.NaviObstructType_EXTENT,!1}for(var k=w[_].zr,T=0;T<k.length-1;T++)if(yt._t(i,n,k[T],k[T+1],m)){var R=yt.lt(i,m);if(R<s)return s=R,r.ho=g,r.lt=Number.MAX_VALUE,r.ao=!1,r.fo=ln.NaviObstructType_EXTENT,!1}}return!0},Pu:function(t,i){return t.lt-i.lt},Du:function(t,i){return i.Lu-t.Lu},$o:function(t){t=this.yo.get(t);if(t){for(var i=t.we,n=t.Se,r=i.length-1;0<=r;r--){var e=i[r];if(null==e||0<=e.Gi)break;n.delete(e.Gi),i.splice(r,1)}for(var s=t._e,o=t.Ie,u=s.length-1;0<=u;u--){var h=s[u];if(null==h||0<=h.Gi)break;o.delete(h.Gi),s.splice(u,1)}}},Ko:function(){var t,i=pr(this.fh);try{for(i.s();!(t=i.n()).done;){var n,r=t.value[1],e=[],s=r.Ds.ke,o=pr(s);try{for(o.s();!(n=o.n()).done;){var u=n.value;u[0]<0&&e.push(u[0])}}catch(t){o.e(t)}finally{o.f()}for(var h=0;h<e.length;h++)this.Su(r.Ds.ke,e[h]);for(var a=0;a<this.ch.length;a++)this.Au(s,this.ch[a])}}catch(t){i.e(t)}finally{i.f()}},vu:function(t,i,n,r,e){for(var s=[],o=0;o<r.length;o++)if(r[o].lt<yt.K())return s.push(r[o]),s;var u={x:0,y:0};if(yt.xt(i,n.Ir,n.Lr,u)&&this.Cu(i,u,{},e)){e={};return e.et=u,e.ao=!0,e.uo=n,e.Lu=0,e.dist=yt.lt(i,u),s.push(e),s}for(var h={x:u.x-i.x,y:u.y-i.y},a=0;a<r.length;a++){var f=r[a],c={x:f.et.x-i.x,y:f.et.y-i.y},c=yt.Tt(c,h);f.Lu=c=270<c?c-360:c}r.sort(this.Du);var l,v=null;if(r[r.length-1].Lu<0)return v=r[r.length-1],s.push(v),s;for(var d=0;d<r.length;d++)if(0<r[d].Lu)return v=r[d],0==d?s.push(v):(l=r[d-1],yt.lt(v.et,n.Ir)>yt.lt(l.et,n.Ir)?(s.push(l),s.push(v)):(s.push(v),s.push(l))),s;return s},Bu:function(t,i,n,r,e){for(var s=r||30,o=0;o<360;o+=s){var u=new rr;this.Uh(t,i,o,u,e),1==u.ao&&n.push(u)}n.sort(this.Pu)},lu:function(t,i,n,r){var e=new Map,s=[];for(this.Bu(t,i,s,n,r);0!=s.length;){var o=s[0],u=e.get(o.uo.Gi);u?u.push(o):((u=[]).push(o),e.set(o.uo.Gi,u)),s.splice(0,1)}return e},Qo:function(t,i){var n=new jn;n.Gi=this.Bh(),n.zt=Object.assign({},i);t=this.yo.get(t);return t.we.push(n),t.Se.set(n.Gi,t.we.length-1),n},Uu:function(t,i,n){if(n)return this.Qo(t,i);n=new jn;n.Gi=this.Ds.us(),n.zt=Object.assign({},i);i=this.yo.get(t),t=i.we,t=this.Tu(n,t);return i.Se.set(n.Gi,t),n},Cu:function(t,i,n,r){for(var e,s=this.yo.get(-1),o=0;o<s.ge.length;o++)if(e=s.ge[o],null!=e&&e!=r&&ln.NaviModelPassType_DECORATE!=e.pass)for(var u=e.zr,h=0;h<u.length-1;h++)if(yt.wt(t,i,u[h],u[h+1],n)){var a=yt.lt(t,n),f=yt.lt(i,n);if(!(a<=yt.K()||f<=yt.K()))return!1}for(var c=s.xe,l=0;l<c.length;l++){for(var v=c[l],d=v.ne,y=0;y<d.length;y++)for(var b=d[y],p=0;p<b.length-1;p++)if(yt.wt(t,i,b[p],b[p+1],n))return!1;for(var m=v.zr,w=0;w<m.length-1;w++)if(yt.wt(t,i,m[w],m[w+1],n))return!1}return!0},yu:function(t,i,n,r,e,s){void 0===r&&(r=ln.NaviRoadEntry_BOTH),void 0===e&&(e=!0),void 0===s&&(s=!0);var o=new Sn;o.Sr=i.Gi,o.Ir=i.zt,o.Nr=n.Gi,o.Lr=n.zt,o.Pr=[i.zt,n.zt],this.ch.push(i.Gi),this.ch.push(n.Gi),o.Gi=e?this.Bh():this.Ds.hs(),o.Ur=r,o.Zr(),s&&this.To.push(o),this.yo.get(t)._e.push(o);var u,h,t=this.fh.get(t);return ln.NaviRoadEntry_BOTH==r&&(u={bs:n.Gi,Jn:o.Jn},(h=t.Ds.ke.get(i.Gi))?h.push(u):((h=[]).push(u),t.Ds.ke.set(i.Gi,h)),u={bs:i.Gi,Jn:o.Jn},(h=t.Ds.ke.get(n.Gi))?h.push(u):((h=[]).push(u),t.Ds.ke.set(n.Gi,h))),ln.NaviRoadEntry_FORWARD==r&&(u={bs:n.Gi,Jn:o.Jn},(h=t.Ds.ke.get(i.Gi))?h.push(u):((h=[]).push(u),t.Ds.ke(i.Gi,h))),ln.NaviRoadEntry_BACK==r&&(r={bs:i.Gi,Jn:o.Jn},(i=t.Ds.ke.get(n.Gi))?i.push(r):((i=[]).push(r),t.Ds.ke.set(n.Gi,i))),o},pu:function(t){var i=this.Ch(t),n=this.Oo.get(i);if(n)for(var r=0;r<n.length;r++){var e=n[r];if(yt.ft(t,e.zr,e.Yr))return e}return null},Bh:function(){return this.xo--},bu:function(t,i,n){var r=null,e=i._e;if(!e||e.length<=0)return r;var s=i.De(t);if(s<=0)return r;var o,u,h={},r={distance:Number.MAX_VALUE,road:null,coords:{level:t.level}},a=pr(e);try{for(a.s();!(u=a.n()).done;){var f=u.value;f.Ur!==ln.NaviRoadEntry_FORBID&&s===f.Dr&&(n&&n.indexOf(f.Br)<0||(o=yt.yt(t,f.Ir,f.Lr,h))<r.distance&&(r.distance=o,r.road=f,Object.assign(r.coords,h)))}}catch(t){a.e(t)}finally{a.f()}return r}});var gr=s;function xr(t,i){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,i){if(t){if("string"==typeof t)return Or(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Or(t,i):void 0}}(t))||i&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,s=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){o=!0,e=t},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw e}}}}function Or(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}O=function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.Gh=[],this.Xt=null};Object.assign(O.prototype,{Wh:function(t){var i,n=xr(t);try{for(n.s();!(i=n.n()).done;)for(var r=i.value,e=r[1],s=e.xe,o=0;o<s.length;o++){var u=s[o].Gi,h=e.Ts(u),a=s[o].Dr,f=new gr(a,h);f.Xt=this.Xt,f.Kn=r[0],this.Gh.push(f)}}catch(t){n.e(t)}finally{n.f()}},Zh:function(t){for(var i=0;i<this.Gh.length;i++)t&&t(this.Gh[i])},Jn:function(){return this.Gh.length},Xu:function(t){return this.Gh[t]},Vh:function(t,i){if(!this.Gh)return null;for(var n=this.Gh,r=0;r<n.length;r++){var e=n[r];if(t==e.Kn&&e.Ah(i))return e}return null},qh:function(t){var i,n=this.Gh;for(i in n){var r=n[i];if(r.Gi==t)return r}return null}});var Mr=O;function jr(t){return function(t){if(Array.isArray(t))return Tr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||kr(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Er(t,i){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=kr(t))||i&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,s=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){o=!0,e=t},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw e}}}}function kr(t,i){if(t){if("string"==typeof t)return Tr(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tr(t,i):void 0}}function Tr(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function Rr(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}D=function(){function i(t){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),this.ti=t,this.Ir=null,this.Yh=null,this.Lr=null,this.Xh=null,this.Hh=null,this.Gs=x.MODULE_SHORTEST,this.Qh=w.PRIORITY_DEFAULT,this.$h=new Map,this.Kh=new Map,this.Jh=null,this.ta=null,this.ia=new Map,this.na=new Map,this.ra=new Map,this.ea=[],this.sa=[],this.oa=[],this.ua=[],this.ha=[],this.aa=[],this.zi=[],this.fa=1,this.ca=.1,this.la=1,this.va=10,this.da=.1,this.ya=1,this.ba=10,this.pa=.1,this.ma=1,this.wa=10,this._a=1,this.Rs=null,this.ga=null,this.xa=null,this.Oa=null,this.Ma=!1,this.co=null,this.vo=null,this.ja=null,this.Ea=[],this.Co=!0,this.Bo=new Map,this.Xt=t.type,this.barrierFree=!1,this.ka=!1}var t,n,r;return t=i,(n=[{key:"assginedInfos",get:function(){return this.Ea},set:function(t){this.Ea=t}},{key:"passPts",set:function(t){this.Ta=t}},{key:"failedInsertedPts",get:function(){return this.Ra}},{key:"toDoors",get:function(){return this.Ma},set:function(t){this.Ma=t}},{key:"obstruct",get:function(){return this.Co},set:function(t){this.Co=t}}])&&Rr(t.prototype,n),r&&Rr(t,r),i}();Object.assign(D.prototype,{Gn:function(t){if(t&&t.scene&&t.floors){this.Rs=t.scene,this.ga=new Xn;t=t.floors;if(0!=t.size){this.Aa(t),this.Sa(),this.xa=new Mr,this.xa.Xt=this.Xt,this.xa.Wh(this.$h);var i,n=Er(t);try{for(n.s();!(i=n.n()).done;){var r=i.value;if(null!=r[1].gid){var e=r[1].naviAccessible;if(e&&e[0]&&0<e[0].naviNodes.length){this.ka=!0;break}}}}catch(t){n.e(t)}finally{n.f()}this.ka&&(this.Aa(t),this.Sa(),this.Oa=new Mr,this.Oa.Xt=this.Xt,this.Oa.Wh(this.Kh))}}},ji:function(){this.ti=null,this.Rs=null,this.ga&&(this.ga.ji(),this.ga=null);var t,i=Er(this.$h);try{for(i.s();!(t=i.n()).done;)t.value[1].ji()}catch(t){i.e(t)}finally{i.f()}this.$h.clear(),this.$h=null,this.Jh.ji(),this.Jh=null;var n,r=Er(this.ia);try{for(r.s();!(n=r.n()).done;)n.value[1].ji()}catch(t){r.e(t)}finally{r.f()}if(this.ia.clear(),this.ia=null,this.ra.clear(),this.ra=null,this.ea=null,this.oa=null,this.ka){var e,s=Er(this.Kh);try{for(s.s();!(e=s.n()).done;)e.value[1].ji()}catch(t){s.e(t)}finally{s.f()}this.Kh.clear(),this.Kh=null,this.ta.ji(),this.ta=null;var o,u=Er(this.na);try{for(u.s();!(o=u.n()).done;)o.value[1].ji()}catch(t){u.e(t)}finally{u.f()}this.na.clear(),this.na=null,this.sa=null,this.ua=null}this.ha=null,this.aa=null,this.zi=null},Ia:function(t,i){this.On();var n=this.Na([t]);if(n.length<1)return T.ROUTE_FAILED_NO_DATA_START;var r=n[0];t.extentID=r;n=this.Na([i]);if(n.length<1)return T.ROUTE_FAILED_NO_DATA_DEST;n=n[0];i.endExtentID=n;for(var e=this.Ta,s=0;s<e.length;s++)e[s].xh=!0;var o=this.Na(e),n=this.La(r,n,o);if(n.rst!=T.ROUTE_SUCCESS)return n.rst;for(var u=new Map,h=0;h<o.length;h++)u.has(o[h])?u.get(o[h]).push(e[h]):u.set(o[h],[e[h]]);n=n.extentPath,n=this.Pa(t,i,u,n);return this.Da(n.nodePath),n.rst},Fa:function(t){for(var i,n=-1,r=[],e=null,s=0;s<t.length;s++)n!=t[s].Kn?(e=t[s],r.push(e),n=t[s].Kn):(i=e.zi).push.apply(i,jr(t[s].zi));return r},Ca:function(t){if(0==Object.keys(t).length)return 0;var i,n=0;for(i in t)n+=t[i].length;return n},Ba:function(t){for(var i=[-1,-1],n=t.length-1;0<=n;n--){for(var r=t[n].zi,e=r.length-1;0<=e;e--)if(r[e].xh){i[1]=e;break}if(-1!=i[1]){i[0]=n;break}}var s=[];if(-1!=i[0]&&-1!=i[1]){s[0]=[],s[1]=[];for(var o=0;o<t.length;o++){var u=t[o];if(o<i[0])s[0].push(u);else if(o>i[0])s[1].push(u);else{for(var h=u.zi,a=[{Kn:u.Kn,zi:[]},{Kn:u.Kn,zi:[]}],f=0;f<h.length;f++)(f<i[1]?a[0]:a[1]).zi.push(h[f]);s[0].push(a[0]),s[1].push(a[1])}}}else s.push(t);return s},Ua:function(t){for(var i=0,n=0;n<t.length-1;n++)i+=Math.abs(t[n].Kn-t[n+1].Kn);return{dist:i,seq:t}},Ga:function(t){for(var i=[],n=0;n<t.length;n++)i.push(this.Ua(t[n]));return i.sort(function(t,i){return t.dist-i.dist}),i},Wa:function(t){t.sort(function(t,i){return t.seq.length-i.seq.length})},Ho:function(){for(var t in this.Ea){var i=parseInt(t),t=(this.ka&&this.barrierFree?this.na:this.ia).get(i).get(i);t.assignedPts=this.Ea[i],t.Ho(),this.zi.push({Kn:i,zi:t.io()})}},Dh:function(t,l,i,v,d,n){var y=this;this.On();var b=null,r=(b=this.ka&&this.barrierFree?this.na:this.ia).get(t);if(!r)return T.ROUTE_FAILED_NO_DATA_START;var e=r.uu(l);if(!e)return T.ROUTE_FAILED_NO_DATA_START;this.co=e.ho;var s=b.get(i);if(!s)return T.ROUTE_FAILED_NO_DATA_DEST;r=s.uu(v);if(!r)return T.ROUTE_FAILED_NO_DATA_DEST;this.vo=r.ho,this.zi=[],this.Yh=t,this.Ir=l,this.Xh=i,this.Lr=v;var o=e.Dr,s=r.Dr,p=e.ho,m=r.ho;if(o<=0||s<=0)return T.ROUTE_FAILED_CANNOT_ARRIVE;var w=T.ROUTE_FAILED_CANNOT_ARRIVE;this.Gs=d,this.Za(n);function u(){y.zi=[];for(var t=[],i=[y.Ir],n=0;n<y.ha.length-1;n++){var r=[],e=[];if(null==y.Xt||0===y.Xt){if(!y.Va(y.ha[n],y.ha[n+1],i[i.length-1],r,e))return T.ROUTE_FAILED_CANNOT_ARRIVE}else if(!y.qa(y.ha[n],y.ha[n+1],i[i.length-1],r,e))return T.ROUTE_FAILED_CANNOT_ARRIVE;for(var s=!1,o=0;o<r.length;o++){var u,h=r[o].Ar,a=e[o].Ar,f=r[o].Kn,c=e[o].Kn;if(w=0==n?((u=b.get(f)).co=p,u.Js(l,h,d)):b.get(f).Js(t[t.length-1],h,d),T.ROUTE_SUCCESS==w){h=b.get(f).io();if(y.zi.push({Kn:f,zi:h}),t.push(a),i.push(a.zt),s=!0,y.ha.length-2==n){h=b.get(c);if(h.vo=m,w=h.Js(a,v,d),T.ROUTE_SUCCESS!=w){y.zi.splice(y.zi.length-1,1),s=!1,i.splice(i.length-1,1),t.splice(t.length-1,1);continue}h=h.io();y.zi.push({Kn:c,zi:h})}if(T.ROUTE_SUCCESS==w)break}}if(!s)return T.ROUTE_FAILED_CANNOT_ARRIVE}return w}if(t===i&&o===s){n=b.get(t);if(n.co=p,n.vo=m,(w=n.Js(l,v,d))!==T.ROUTE_SUCCESS){for(var h=[],a=null,a=this.ka?this.sa:this.ea,f=0;f<a.length;f++)a[f].Kn==t&&a[f].Dr==o&&h.push(a[f]);i=this.za(h,h[0],1);if(0==i.length)return T.ROUTE_FAILED_OUTLINE;for(var c=this.Ga(i),_=0;_<c.length;_++){this.ha=c[_].seq;var g=u();if(g==T.ROUTE_SUCCESS)return g}return T.ROUTE_FAILED_CANNOT_ARRIVE}n=n.io();this.zi.push({Kn:t,zi:n})}else{if(this.Ya(o,s)!=T.ROUTE_SUCCESS)return T.ROUTE_FAILED_OUTLINE;this.ha.reverse();s=u();if(s!=T.ROUTE_SUCCESS)return s}return T.ROUTE_SUCCESS},Xa:function(){if(this.Ma&&(this.ja=null,this.vo&&0<this.zi.length)){for(var t,i=this.zi[this.zi.length-1].zi,n=null,r={x:-1,y:-1},e=i.length-1;0<e;e--){var s=i[e],o=i[e-1];if(yt.Rt(s.zt,o.zt,this.vo.zr,r)){n=e;break}}null!=n&&(i.splice(n),(t=new jn).Gi=-1,t.zt=r,i.push(t),this.ja=r)}for(var u=[],h=0;h<this.zi.length;h++)1<this.zi[h].zi.length&&u.push(this.zi[h]);for(var a=[],f=0;f<u.length;f++){this.Ha(u[f]);for(var c=u[f],l=c.Kn,v=c.zi,d=[],y=0,b=0;b<v.length;b++)d.push(v[b].zt),b!=v.length-1&&(y+=yt.lt(v[b].zt,v[b+1].zt));c=new yn;c.Kn=l,c.ir=v,c.tr=d,c.Jn=y,a.push(c),f!=u.length-1&&(l=this.Qa(u[f]),c=this.$a(u[f+1]),a.push(l),a.push(c))}return a},iu:function(t){for(var i=new Map,n=0;n<t.length;n++){var r=t[n],e=i.get(r.Kn);e||i.set(r.Kn,e=[]),e.push(r)}var s,o=Er(i);try{for(o.s();!(s=o.n()).done;){var u=s.value,h=this.Bo.get(u[0]);h&&!this.Ka(u[1],h)||(this.ia.get(u[0]).iu(u[1]),this.na.get(u[0]).iu(u[1]),this.Bo.set(u[0],u[1]),0)}}catch(t){o.e(t)}finally{o.f()}},Ja:function(){var t,i=Er(this.Bo);try{for(i.s();!(t=i.n()).done;){var n=t.value;this.ia.get(n[0]).Ja()}}catch(t){i.e(t)}finally{i.f()}this.Bo.clear()},Ka:function(t,i){if(t.length!=i.length)return!0;for(var n=0;n<t.length;n++){for(var r=!1,e=0;e<i.length;e++)i[e].tf(t[n])&&(r=!0);if(!r)return!0}return!1},Ha:function(t){if(t&&t.zi){var i=t.zi;if((u=i.length)&&!(u<2)){var n=[];n.push(i[0]);var r=i[0],e=i[u-1];yt.lt(r.zt,e.zt),yt.K();for(var s=1;s<u-1;s++){var o=i[s];null!=r&&yt.lt(r.zt,o.zt)<yt.K()||null!=e&&yt.lt(e.zt,o.zt)<yt.K()||n.push(o)}n.push(e);for(var u=n.length,h=new Array(u),a=0;a<u;a++)h[a]=0;for(var f=1;f<u-1;f++){for(var c=n[f],l=f-1;0!=h[l];)l--;var v=n[l],d=n[f+1];yt.ct(c.zt,v.zt,d.zt)&&(c.xh||(h[f]=1))}for(var y=[],b=0;b<u;b++)0==h[b]&&y.push(n[b]);t.zi=y}}},On:function(){this.ha=[],this.aa=[];var t,i=Er(this.ia);try{for(i.s();!(t=i.n()).done;){var n=t.value;n[1].On(),n[1].obstruct=this.Co}}catch(t){i.e(t)}finally{i.f()}var r,e=Er(this.na);try{for(e.s();!(r=e.n()).done;){var s=r.value;s[1].On(),s[1].obstruct=this.Co}}catch(t){e.e(t)}finally{e.f()}},if:function(n,r){var e=this,t=null,i=null;if(this.ka&&this.barrierFree){if(this.na.size<=0)return t;i=this.na}else{if(this.ia.size<=0)return t;i=this.ia}var s=i.get(n.level);if(!s)return t;i=s.Ds;if(!i)return t;var o=i.De(n);if(o<=0)return t;var u=[];u.push.apply(u,jr(i._e));var h,a=Er(s.yo);try{for(a.s();!(h=a.n()).done;){var f=h.value;u.push.apply(u,jr(f[1]._e))}}catch(t){a.e(t)}finally{a.f()}var c={},l={distance:Number.MAX_VALUE,road:null,angle:null,coords:{level:n.level}};return u.length&&u.forEach(function(t){var i;t.Ur!==ln.NaviRoadEntry_FORBID&&(r?0<=r.indexOf(t.Br)&&(o!==t.Dr||(i=yt.yt(n,t.Ir,t.Lr,c))<l.distance&&(l.distance=i,l.road=t,l.angle=e.nf(t.Ir,t.Lr),Object.assign(l.coords,c))):o!==t.Dr||(i=yt.yt(n,t.Ir,t.Lr,c))<l.distance&&(l.distance=i,l.road=t,l.angle=e.nf(t.Ir,t.Lr),Object.assign(l.coords,c)))}),null!=l.road&&(s={id:(s=l.road).Gi,extentID:s.Dr,roadEntry:s.Ur,roadRank:s.Br,startID:s.Sr,startPoint:s.Ir,endID:s.Nr,endPoint:s.Lr},l.road=s,t=l),t},nf:function(t,i){var n=new xn(0,0,1),t=new xn(t.x,0,t.y),i=new xn(i.x,0,i.y).clone().sub(t).normalize(),t=i.angleTo(n)*yt.tt();return 0<i.clone().cross(n).y?360-t:t},Aa:function(t){this.ka?this.Kh=new Map:this.$h=new Map,this.ga.As(this.Rs);var i,n=Er(t);try{for(n.s();!(i=n.n()).done;){var r=i.value,e=r[1].gid;if(null!=e){var s=r[1].geo[0],o=r[1].biz[0],u=null,u=(1==this.Xt?r[1].naviDrive:this.ka?r[1].naviAccessible:r[1].navi)[0],h=this.ga.Ps(e,s,o,u);if(0!=h.naviNodes.length&&0!=h.naviSegments.length){var a=new Map,f=this.rf(h,a),c=this.ef(h),l=this.sf(h),v=this.uf(h),d=this.hf(h);this.af(d,f,u,a);var y=new Yn(f,c,!0,1);y.Kn=e,0!=v.length&&(y.xe=v),0!=l.length&&(y.Me=l),0!=d.length&&(y.ge=d);for(var b=0;b<c.length;b++)c[b].Dr=y.De(c[b].Ir);(0==this.ka?this.$h:this.Kh).set(h.level,y)}}}}catch(t){n.e(t)}finally{n.f()}},rf:function(r,e){var t,s=[];for(t in r.naviNodes)(function(t){var i=r.naviNodes[t];if(null==i.nodeId)return;var n=new jn;n.Gi=i.nodeId,n.zt={x:parseFloat(i.geoArr.x.toFixed(3)),y:parseFloat(i.geoArr.y.toFixed(3))},n.mr=i.nodeType,n.wr=i.liftType,n.cr=i.liftFlag,n._r=i.liftEntry,i.accessible&&(n.ff=i.accessible),i.linkSegArr.forEach(function(t){n.fr.push(parseInt(t))}),i.liftFloorArr.forEach(function(t){n.ar.push(parseInt(t))}),s.push(n),e.set(i.nodeId,t)})(t);return s},ef:function(t){var i,n=[];for(i in t.naviSegments){var r,e=t.naviSegments[i],s=e.geoArr;s&&((r=new Sn).Gi=e.segmentId,r.Sr=e.snode,r.Ir={x:parseFloat(s[0].x.toFixed(3)),y:parseFloat(s[0].y.toFixed(3))},r.Nr=e.enode,r.Lr={x:parseFloat(s[1].x.toFixed(3)),y:parseFloat(s[1].y.toFixed(3))},r.Jn=e.length,r.Ur=e.entry,r.Br=e.rank,n.push(r))}return n},uf:function(t){for(var i=[],n=0,r=t.extentLayer.length;n<r;n++){var e=t.extentLayer[n],s=e.geoArr,s=new Pn(e.eid,t.gid,0,s=s||[],e.Ct,e.holes);s.fid=e.fid,i.push(s)}return i},hf:function(t){for(var i=[],n=0,r=t.modelLayer.length;n<r;n++){var e=t.modelLayer[n],s=e.geoArr,s=new Pn(e.eid,t.gid,0,s=s||[],e.Ct,e.holes);s.fid=e.fid,s.pass=e.pass,i.push(s)}return i},sf:function(t){for(var i=[],n=0,r=t.naviZones.length;n<r;n++){var e=t.naviZones[n],e=new Nn(e.Gi,t.gid,e.type,e.geoArr);i.push(e)}return i},af:function(t,i,n,r){for(var e=new Map,s=0;s<t.length;s++){var o=t[s];e.set(o.Gi,s)}for(var u=0;u<n.naviModels.length;u++)for(var h=n.naviModels[u],a=h.modelid,f=t[e.get(a)],c=0;c<h.doorids.length;c++){var l=h.doorids[c],v=i[r.get(l)];f.re.push(v);l=h.nodetypes[c],v=h.entrytypes[c];f.ee.push(l),f.se.push(v)}},cf:function(){if(!(this.$h.size()<=0)){var t,i={},n=Er(this.$h);try{for(n.s();!(t=n.n()).done;){var r,e=t.value[1],s=[];for(r in e.$e(ln.NaviLiftType_Escalator,s),s){var o,u=s[r];u.cr&&(i[o=u.cr]?i[o]=i[o].concat(u.ar):i[o]=u.ar)}}}catch(t){n.e(t)}finally{n.f()}var h,a=Er(this.$h);try{for(a.s();!(h=a.n()).done;){var f,c=h.value[1],l=[];for(f in c.$e(ln.NaviLiftType_Escalator,l),l){var v,d=l[f];d.cr&&(i[v=d.cr]&&(d.ar=i[v]))}}}catch(t){a.e(t)}finally{a.f()}}},Sa:function(){this.lf(),this.vf();var t=new Yn(this.ea,this.oa);this.Jh=new $n(t);var i,n=Er(this.$h);try{for(n.s();!(i=n.n()).done;){var r=i.value,e=new ar(r[1]);e.Xt=this.Xt,this.ia.set(r[0],e)}}catch(t){n.e(t)}finally{n.f()}if(this.ka){this.lf(),this.vf();t=new Yn(this.sa,this.ua);this.ta=new $n(t);var s,o=Er(this.Kh);try{for(o.s();!(s=o.n()).done;){var u=s.value;this.na.set(u[0],new ar(u[1]))}}catch(t){o.e(t)}finally{o.f()}}},lf:function(){this.ka?this.sa=[]:this.ea=[];var t,i=0,n=Er(this.ka?this.Kh:this.$h);try{for(n.s();!(t=n.n()).done;)for(var r=t.value,e=r[1],s=e.xe,o=0;o<s.length;o++){var u=s[o],h=new Wn;h.Gi=u.Gi,h.Kn=r[0],h.Dr=++i,u.Dr=h.Dr,h.Ks=u;for(var a=0;a<e.we.length;a++){var f,c,l=e.we[a];l.wr!=ln.NaviLiftType_NULL&&yt.ft(l.zt,u.zr,u.Yr)&&(f=new An,c=e.We(l.zt),f.Rr=c,f.Mr(l),f.Kn=r[0],f.Ar=l,f._r=l._r,f.wr=l.wr,f.cr=l.cr,this.ka?1===l.ff&&(f.ff=l.ff,h.he.push(f)):(1===l.ff&&(f.ff=l.ff),h.he.push(f)))}(this.ka?this.sa:this.ea).push(h)}}catch(t){n.e(t)}finally{n.f()}},vf:function(){for(var t=null,i=0,t=this.ka?this.sa:this.ea,n=[],r=0;r<t.length;r++)for(var e=t[r],s=0;s<t.length;s++){var o,u,h=t[s];r!=s&&(u=void 0,null!=(u=null==this.Xt||0==this.Xt?this.df(e,h):this.yf(e,h))&&(u*=0==(o=Math.abs(e.Kn-h.Kn))?1:o,(o=new Sn).Sr=e.Dr,o.Nr=h.Dr,o.Jn=u,o.Ur=ln.NaviRoadEntry_FORWARD,o.Gi=i,i+=1,n.push(o)))}this.ka?this.ua=n:this.oa=n},df:function(t,i){for(var n=Number.MAX_VALUE,r=!1,e=t.Kn,s=i.Kn,o=e<s?ln.NaviLiftEntry_DOWN:ln.NaviLiftEntry_UP,u=0;u<t.he.length;u++){var h=t.he[u],a=h._r;if(a!=ln.NaviLiftEntry_FORBID&&a!=o){var f=h.wr;if(w.PRIORITY_LIFTONLY==this.Qh){if(ln.NaviLiftType_Lift!=f)continue}else if(w.PRIORITY_ESCALATORONLY==this.Qh){if(ln.NaviLiftType_Escalator!=f)continue}else if(w.PRIORITY_STAIRONLY==this.Qh){if(ln.NaviLiftType_Stair!=f)continue}else if(w.PRIORITY_ACCESSIBLEONLY==this.Qh&&ln.NaviLiftType_Accessible!=f)continue;if(f==ln.NaviLiftType_Stair||-1!=h.ar.indexOf(s))for(var c=0;c<i.he.length;c++){var l=i.he[c];if(null!=l&&h.cr==l.cr)if(w.PRIORITY_LIFTFIRST==this.Qh||w.PRIORITY_DEFAULT==this.Qh){if(ln.NaviLiftType_Lift==f||ln.NaviLiftType_Accessible==f)return this.ca;if(ln.NaviLiftType_Escalator==f){var v=this.ya;v<n&&(n=v),r=!0;break}if(ln.NaviLiftType_Stair==f){v=this.wa;v<n&&(n=v),r=!0;break}}else if(w.PRIORITY_ESCALATORFIRST==this.Qh){if(ln.NaviLiftType_Lift==f||ln.NaviLiftType_Accessible==f){var d=this.la;d<n&&(n=d),r=!0;break}if(ln.NaviLiftType_Escalator==f)return this.da;if(ln.NaviLiftType_Stair==f){d=this.wa;d<n&&(n=d),r=!0;break}}else if(w.PRIORITY_STAIRFIRST==this.Qh){if(ln.NaviLiftType_Lift==f){var y=this.la;y<n&&(n=y),r=!0;break}if(ln.NaviLiftType_Escalator==f||ln.NaviLiftType_Accessible==f){y=this.bf;y<n&&(n=y),r=!0;break}if(ln.NaviLiftType_Stair==f)return this.pa}else{if(w.PRIORITY_LIFTFIRST1==this.Qh||w.PRIORITY_STAIRFIRST1==this.Qh||w.PRIORITY_ESCALATORFIRST1==this.Qh)return this.fa;if(w.PRIORITY_LIFTONLY==this.Qh||w.PRIORITY_ESCALATORONLY==this.Qh||w.PRIORITY_STAIRONLY==this.Qh||w.PRIORITY_ACCESSIBLEONLY==this.Qh)return this.fa}}}}return r?n:null},yf:function(t,i){for(var n=Number.MAX_VALUE,r=!1,e=t.Kn<i.Kn?ln.NaviLiftEntry_DOWN:ln.NaviLiftEntry_UP,s=0;s<t.he.length;s++){var o=t.he[s],u=o._r;if(u!=ln.NaviLiftEntry_FORBID&&u!=e)for(var h=0;h<i.he.length;h++){var a=i.he[h];if(o.cr==a.cr){n=this._a,r=!0;break}}}return r?n:null},pf:function(t,i){for(var n=0;n<i.length;n++)if(i[n].cr==t)return i[n];return null},Za:function(t){if(1==this.Xt){if(this.Jh)return}else if(this.barrierFree){if(this.Qh===t&&this.ta)return}else if(this.Qh===t&&this.Jh)return;var i;this.Qh=t,this.barrierFree?(this.vf(),i=new Yn(this.sa,this.ua),this.ta=new $n(i)):(this.vf(),i=new Yn(this.ea,this.oa),this.Jh=new $n(i))},$a:function(t){var i=t.zi,n=new yn;return n.Kn=t.Kn,n.ir.push(i[0]),n.tr.push(i[0].zt),n.Jn=0,n},Qa:function(t){var i=t.zi,n=new yn;return n.Kn=t.Kn,n.ir.push(i[i.length-1]),n.tr.push(i[i.length-1].zt),n.Jn=0,n},mf:function(t,i){for(var n=null,n=this.ka&&this.barrierFree?this.sa:this.ea,r=0;r<n.length;r++)if(null!=t&&n[r].Kn==t&&n[r].Gi==i)return n[r];return null},wf:function(t){for(var i=null,i=this.ka&&this.barrierFree?this.sa:this.ea,n=0;n<i.length;n++)if(i[n].Dr==t)return i[n];return null},Ya:function(t,i){var n,r=null,e=null;if((r=(e=this.ka&&this.barrierFree?this.ta:this.Jh).to(t,i))!=T.ROUTE_SUCCESS)return r;n=e.io(),this.ha=[];for(var s=0;s<n.length;s++)this.ha.push(n[s]);return r},_f:function(t,i){return t.wr==ln.NaviLiftType_Lift&&i.wr==ln.NaviLiftType_Lift?t.yr-i.yr:t.wr==ln.NaviLiftType_Lift?-1:i.wr==ln.NaviLiftType_Lift?1:t.yr-i.yr},gf:function(t,i){return t.wr==ln.NaviLiftType_Escalator&&i.wr==ln.NaviLiftType_Escalator?t.yr-i.yr:t.wr==ln.NaviLiftType_Escalator?-1:i.wr==ln.NaviLiftType_Escalator?1:t.yr-i.yr},xf:function(t,i){return t.wr==ln.NaviLiftType_Stair&&i.wr==ln.NaviLiftType_Stair?t.yr-i.yr:t.wr==ln.NaviLiftType_Stair?-1:i.wr==ln.NaviLiftType_Stair?1:t.yr-i.yr},Of:function(t,i){if(null==t)return!1;for(var n=0;n<t.length;n++)if(t[n].Gi==i.Gi)return!0;return!1},Mf:function(t,i){if(null==t)return!1;for(var n=0;n<t.length;n++)if(t[n].bs==i.Gi)return!0;return!1},za:function(t,i,n){var r=this.Jh.Ds.ke;if(0==r.size)return[];var e=t.length-1,s=r.get(t[e].Gi);if(null==s)return[];if(0==n)return this.Mf(s,i)?(t.push(i),t):[];for(var o=[],u=0;u<s.length;u++){var h,a=s[u];this.Of(t,a)||a.bs==i.Gi||(h=t.concat(),a=this.Jh.Ds.ns(a.bs),h.push(this.Jh.Ds.we[a]),0!=(h=this.za(h,i,n-1)).length&&o.push(h))}return o},jf:function(t,i,n){var r=this.Jh.Ds.ke;if(0!=r.size){for(var e=-1,s=0;s<n.length;s++)n[s].indexOf(t)==n[s].length-1&&(e=s);if(-1!=e){var o=n[e];n.splice(e,1);var u=r.get(t.Gi);if(null!=u)for(var h=0;h<u.length;h++){var a,f=this.ea[u[h].bs];this.Of(o,f)||((a=[]).push.apply(a,jr(o)),a.push(f),n.push(a),f.Gi!=i.Gi&&this.jf(f,i,n))}}}},Ef:function(t,i,n){for(var r=t.he,e=n.he,s=0;s<r.length;s++){var o=r[s];o.yr=yt.distanceOfTwoPoints(o.zt,i)}w.PRIORITY_DEFAULT==this.Qh||w.PRIORITY_LIFTONLY==this.Qh||w.PRIORITY_LIFTONLY==this.Qh?r.sort(this._f):w.PRIORITY_ESCALATORFIRST==this.Qh||w.PRIORITY_ESCALATORONLY==this.Qh?r.sort(this.gf):w.PRIORITY_STAIRFIRST!=this.Qh&&w.PRIORITY_STAIRONLY!=this.Qh||r.sort(this._f);for(var u=null,h=null,a=!1,f=0;f<r.length;f++){for(var c=r[f],l=c.cr,v=0;v<e.length;v++)if(e[v].cr==l){u=c,h=e[v],a=!0;break}if(a)break}return null==u||null==h?null:{startLiftNodes:u,endLiftNodes:h}},kf:function(t,i,n,r,e){this.Hh=this.ia.get(t.Kn).Ds.We(n);for(var s=t.queryLiftNodes(this.Hh,n,this.Lr,this.Qh),o=0;o<s.length;o++){var u=s[o];if(ln.NaviLiftType_Stair!=u.wr)if(-1==u.ar.indexOf(i.Kn))continue;for(var h=0;h<i.he.length;h++){var a=i.he[h];if(u.cr==a.cr){r.push(u),e.push(a);break}}}return 0==r.length},Va:function(n,t,i,r,e){this.ka&&this.barrierFree?this.Hh=this.na.get(n.Kn).Ds.We(i):this.Hh=this.ia.get(n.Kn).Ds.We(i);var s=Math.abs(n.Kn-t.Kn),o=[];function u(t,i){i=n.ce(t,i,h);o.push.apply(o,jr(i))}var h=[];if(0==this.ka&&1==this.barrierFree)for(var a=0;a<n.he.length;a++)1==n.he[a].ff&&h.push(n.he[a]);else h=n.he;for(var f=0;f<h.length;f++){var c=h[f];c.yr=yt.lt(c.zt,this.Lr)+yt.lt(c.zt,i)}var l=n.Ks.Gt.size,v=l.x+l.y;w.PRIORITY_LIFTONLY!==this.Qh&&w.PRIORITY_ESCALATORONLY!==this.Qh&&w.PRIORITY_STAIRONLY!==this.Qh&&w.PRIORITY_ACCESSIBLEONLY!==this.Qh||(l=null,w.PRIORITY_LIFTONLY===this.Qh&&(l=ln.NaviLiftType_Lift),w.PRIORITY_ESCALATORONLY===this.Qh&&(l=ln.NaviLiftType_Escalator),w.PRIORITY_STAIRONLY===this.Qh&&(l=ln.NaviLiftType_Stair),w.PRIORITY_ACCESSIBLEONLY===this.Qh&&(l=ln.NaviLiftType_Accessible),o=n.ce(l,null,h)),w.PRIORITY_LIFTFIRST!==this.Qh&&w.PRIORITY_ESCALATORFIRST!==this.Qh&&w.PRIORITY_STAIRFIRST!==this.Qh&&w.PRIORITY_DEFAULT!==this.Qh||(w.PRIORITY_LIFTFIRST!==this.Qh&&w.PRIORITY_DEFAULT!==this.Qh||(u(ln.NaviLiftType_Lift,-15*s),u(ln.NaviLiftType_Escalator,-8*s),u(ln.NaviLiftType_Stair,0)),w.PRIORITY_ESCALATORFIRST===this.Qh&&(u(ln.NaviLiftType_Lift,-8*s),u(ln.NaviLiftType_Escalator,-15*s),u(ln.NaviLiftType_Stair,0)),w.PRIORITY_STAIRFIRST===this.Qh&&(u(ln.NaviLiftType_Lift,-8*s),u(ln.NaviLiftType_Escalator,0),u(ln.NaviLiftType_Stair,-15*s))),w.PRIORITY_LIFTFIRST1!==this.Qh&&w.PRIORITY_ESCALATORFIRST1!==this.Qh&&w.PRIORITY_STAIRFIRST1!==this.Qh||(w.PRIORITY_LIFTFIRST1===this.Qh&&(u(ln.NaviLiftType_Lift,-v),u(ln.NaviLiftType_Escalator,0),u(ln.NaviLiftType_Stair,0)),w.PRIORITY_ESCALATORFIRST1===this.Qh&&(u(ln.NaviLiftType_Lift,0),u(ln.NaviLiftType_Escalator,-v),u(ln.NaviLiftType_Stair,0)),w.PRIORITY_STAIRFIRST1===this.Qh&&(u(ln.NaviLiftType_Lift,0),u(ln.NaviLiftType_Escalator,0),u(ln.NaviLiftType_Stair,-v)));var d=this;o.sort(function(t,i){if(t.zone!==i.zone){if(t.zone===d.Hh)return-1;if(i.zone===d.Hh)return 1}return t.yr-i.yr});for(var y=0;y<o.length;y++){var b=o[y];if(!(1===b._r&&t.Kn<n.Kn)&&!(2===b._r&&t.Kn>n.Kn))for(var p=0;p<t.he.length;p++){var m=t.he[p];if(b.cr===m.cr){r.push(b),e.push(m);break}}}return 0!==r.length},qa:function(t,i,n,r,e){this.Hh=this.ia.get(t.Kn).Ds.We(n);for(var s=[],o=t.he,u=0;u<o.length;u++){var h=o[u];h.yr=yt.lt(h.zt,this.Lr)+yt.lt(h.zt,n)}var s=t.ce(ln.NaviLiftType_Ramp),a=this;s.sort(function(t,i){if(t.zone!==i.zone){if(t.zone===a.Hh)return-1;if(i.zone===a.Hh)return 1}return t.yr-i.yr});for(var f=0;f<s.length;f++){var c=s[f];if(!(1===c._r&&i.Kn<t.Kn)&&!(2===c._r&&i.Kn>t.Kn))for(var l=0;l<i.he.length;l++){var v=i.he[l];if(c.cr===v.cr){r.push(c),e.push(v);break}}}return 0!==r.length},Na:function(t){var i=[];if(this.barrierFree){var n,r=Er(t);try{for(r.s();!(n=r.n()).done;){var e,s,o=n.value;this.Oa&&(!(e=this.Oa.Vh(o.level,o))||(s=e.Gi)&&i.push(s))}}catch(t){r.e(t)}finally{r.f()}}else{var u,h=Er(t);try{for(h.s();!(u=h.n()).done;){var a,f,c=u.value;this.xa&&(!(a=this.xa.Vh(c.level,c))||(f=a.Gi)&&i.push(f))}}catch(t){h.e(t)}finally{h.f()}}return i},La:function(t,i,n){var r=null,e=Array.from(new Set(n)),n=e.indexOf(t);-1!=n&&e.splice(n,1);n=e.indexOf(i);if(-1!=n&&e.splice(n,1),e.length<=0){if(r={rst:T.ROUTE_FAILED_OUTLINE,extentPath:[]},t==i)return r.extentPath.push(t),r.rst=T.ROUTE_SUCCESS,r;if(r.rst=this.Ya(t,i),r.rst!=T.ROUTE_SUCCESS)return r;this.ha.reverse();for(var s=0;s<this.ha.length;s++)r.extentPath.push(this.ha[s].Dr)}else r=this.Tf(t,i,e);return r},Rf:function(t){var i=0;if(null==t||t.length<=0)return i;for(var n=this.Jh.Ds.ke,r=1;r<t.length;r++)for(var e=t[r].Gi,s=t[r-1].Gi,o=n.get(s),u=0;u<o.length;u++)if(o[u].bs==e){i+=o[u].Jn;break}return i},Tf:function(t,i,n){for(var r={rst:null,extentPath:[]},e=[],s=t;0<n.length;){for(var o=Number.MAX_VALUE,u=null,h=null,a=0;a<n.length;a++){var f,c=n[a];this.Jh.to(s,c)==T.ROUTE_SUCCESS&&((f=this.Jh.io()).reverse(),(c=this.Rf(f))<o&&(o=c,u=a,h=f))}if(null==u)return r;s=n[u],h.splice(h.length-1,1),e.push.apply(e,jr(h)),n.splice(u,1)}if(r.rst=this.Jh.to(s,i),r.rst!=T.ROUTE_SUCCESS)return r;i=this.Jh.io();i.reverse(),e.push.apply(e,jr(i));for(var l=0;l<e.length;l++)r.extentPath.push(e[l].Dr);return r},Pa:function(t,i,n,r){this.On();for(var e=[],s=t,o=0;o<r.length;o++){var u=r[o],h=null,h=(this.barrierFree?this.Oa:this.xa).qh(u),a=[],f=n.get(r[o]);if(null!=f)for(;0<f.length;){var c=null,l=null,v=Number.MAX_VALUE;this.Af(s,f);for(var d=4<=Math.ceil(f.length/2)?4:Math.ceil(f.length/2),y=0;y<d;y++){var b=this.Sf(s,f[y],h);b.rst==T.ROUTE_SUCCESS&&b.dist<v&&(c=b.nodePath,l=y,v=b.dist)}if(null==l)return{rst:T.ROUTE_FAILED_WAYPOINT_CALCULATE_ERROR,nodePath:e};s=f[l],f.splice(l,1),c.splice(c.length-1,1),a.push.apply(a,jr(c))}if(o<r.length-1){var p=this.wf(u),m=s instanceof jn?s.Kn:s.level,w=r[o+1],u=this.wf(w),_=[],w=[];if(!this.If(p,u,s,_,w))return{rst:T.ROUTE_FAILED_WAYPOINT_CALCULATE_ERROR,nodePath:e};for(var g=null,x=0;x<_.length;x++){var O=this.Sf(s,_[x],h);if(O.rst==T.ROUTE_SUCCESS){a.push.apply(a,jr(O.nodePath)),g=x;break}}if(null==g)return{rst:T.ROUTE_FAILED_WAYPOINT_CALCULATE_ERROR,nodePath:e};s=w[g],e.push({level:m,path:a})}if(o==r.length-1){m=this.Sf(s,i,h);return m.rst!=T.ROUTE_SUCCESS?{rst:T.ROUTE_FAILED_WAYPOINT_CALCULATE_ERROR,nodePath:e}:(a.push.apply(a,jr(m.nodePath)),e.push({level:i.level,path:a}),{rst:T.ROUTE_SUCCESS,nodePath:e})}}return{rst:T.ROUTE_SUCCESS,nodePath:e}},Da:function(t){for(var i=[],n=0;n<t.length;n++)i.push({Kn:t[n].level,zi:t[n].path});this.zi=i},Sf:function(t,i,n){var r,e;Number.MAX_VALUE;return n.On(),n.gh(t),n.Mh(i),n._o=n.Ch(t),n.go=n.Ch(i),r=n.Js(),e=n.wo,{rst:r,dist:this.Nf(e),nodePath:e}},Nf:function(t){var i=0;if(null==t||t.length<=1)return i;for(var n=1;n<t.length;n++)i+=yt.lt(t[n].zt,t[n-1].zt);return i},If:function(n,t,i,r,e){var s=Math.abs(n.Kn-t.Kn),o=[];function u(t,i){i=n.ce(t,i,h);o.push.apply(o,jr(i))}var h=[];if(0==this.ka&&1==this.barrierFree)for(var a=0;a<n.he.length;a++)1==n.he[a].ff&&h.push(n.he[a]);else h=n.he;for(var f=0;f<h.length;f++){var c=h[f];c.yr=yt.lt(i,c.zt)}var l=n.Ks.Gt.size,v=l.x+l.y;w.PRIORITY_LIFTONLY!==this.Qh&&w.PRIORITY_ESCALATORONLY!==this.Qh&&w.PRIORITY_STAIRONLY!==this.Qh&&w.PRIORITY_ACCESSIBLEONLY!==this.Qh||(l=null,w.PRIORITY_LIFTONLY===this.Qh&&(l=ln.NaviLiftType_Lift),w.PRIORITY_ESCALATORONLY===this.Qh&&(l=ln.NaviLiftType_Escalator),w.PRIORITY_STAIRONLY===this.Qh&&(l=ln.NaviLiftType_Stair),w.PRIORITY_ACCESSIBLEONLY===this.Qh&&(l=ln.NaviLiftType_Accessible),o=n.ce(l,null,h)),w.PRIORITY_LIFTFIRST!==this.Qh&&w.PRIORITY_ESCALATORFIRST!==this.Qh&&w.PRIORITY_STAIRFIRST!==this.Qh&&w.PRIORITY_DEFAULT!==this.Qh||(w.PRIORITY_LIFTFIRST!==this.Qh&&w.PRIORITY_DEFAULT!==this.Qh||(u(ln.NaviLiftType_Lift,-15*s),u(ln.NaviLiftType_Escalator,-8*s),u(ln.NaviLiftType_Stair,0)),w.PRIORITY_ESCALATORFIRST===this.Qh&&(u(ln.NaviLiftType_Lift,-8*s),u(ln.NaviLiftType_Escalator,-15*s),u(ln.NaviLiftType_Stair,0)),w.PRIORITY_STAIRFIRST===this.Qh&&(u(ln.NaviLiftType_Lift,-8*s),u(ln.NaviLiftType_Escalator,0),u(ln.NaviLiftType_Stair,-15*s))),w.PRIORITY_LIFTFIRST1!==this.Qh&&w.PRIORITY_ESCALATORFIRST1!==this.Qh&&w.PRIORITY_STAIRFIRST1!==this.Qh||(w.PRIORITY_LIFTFIRST1===this.Qh&&(u(ln.NaviLiftType_Lift,-v),u(ln.NaviLiftType_Escalator,0),u(ln.NaviLiftType_Stair,0)),w.PRIORITY_ESCALATORFIRST1===this.Qh&&(u(ln.NaviLiftType_Lift,0),u(ln.NaviLiftType_Escalator,-v),u(ln.NaviLiftType_Stair,0)),w.PRIORITY_STAIRFIRST1===this.Qh&&(u(ln.NaviLiftType_Lift,0),u(ln.NaviLiftType_Escalator,0),u(ln.NaviLiftType_Stair,-v)));var d=this;o.sort(function(t,i){if(t.zone!==i.zone){if(t.zone===d.Hh)return-1;if(i.zone===d.Hh)return 1}return t.yr-i.yr});for(var y=0;y<o.length;y++){var b=o[y];if(!(1===b._r&&t.Kn<n.Kn)&&!(2===b._r&&t.Kn>n.Kn))for(var p=0;p<t.he.length;p++){var m=t.he[p];if(b.cr===m.cr){r.push(b),e.push(m);break}}}return 0!==r.length},Af:function(n,t){t.sort(function(t,i){return yt.vt(n,t)-yt.vt(n,i)})}});var Ar=D,Sr={Drive:1,Walk:0},Ir={zh:{straight:"",still_go_straight:"",back_to:"",turn_right:"",turn_left:"",right_front:" ",left_front:" ",turn_right_rear:"",turn_left_rear:"",up:"",down:"",up_to:"",down_to:"",drive_up:"",drive_down:"",meter:"",pass:"",arrived:"",front:"",stair:"",stair_pure:"",escalator_pure:"",lift_pure:"",ramp_pure:"",take:"",along:"",take_stair:"",along_ramp:"",front_pure:"",right_front_pure:"",right_pure:"",right_back_pure:"",back_pure:"",left_back_pure:"",left_pure:"",left_front_pure:"",east:"",west:"",south:"",north:"",southeast:"",northeast:"",southwest:"",northwest:"",face_to:"",start:"",dest:"",enter:"",outdoor:"",entrance:"",exit:"",reach:""},en:{straight:"go straight",still_go_straight:"go straight",back_to:"turn back",turn_right:"turn right",turn_left:"turn left",right_front:"go straight right front ",left_front:"go straight left front ",turn_right_rear:"turn right rear",turn_left_rear:"turn left rear",up:"up",down:"up",up_to:"up to",down_to:"down to",drive_up:"drive up",drive_down:"drive down",meter:"meter",pass:"pass",arrived:"arrived",front:"front",stair:"stair",stair_pure:"stair",escalator_pure:"escalator",lift_pure:"lift",ramp_pure:"ramp",take:"take",along:"along",take_stair:"take stair",along_ramp:"along ramp",front_pure:"front",right_front_pure:"right front",right_pure:"right",right_back_pure:"right back",back_pure:"back",left_back_pure:"left back",left_pure:"left",left_front_pure:"left front",east:"east",west:"west",south:"south",north:"north",southeast:"southeast",northeast:"northeast",southwest:"southwest",northwest:"northwest",face_to:"face to",start:"start",dest:"dest",enter:"enter",outdoor:"outdoor",entrance:"entrance",exit:"exit",reach:"reach"}};r=function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.Lf=i.data||null,this.Pf=i.directionAssert||10,this.Df=i.combineAsset||5,this.Ff=i.combineDistance||.1,this.Cf=i.language||a.ZH,this.Xt=i.type||Sr.Walk,this.Bf=0,this.Uf=[],this.Gf=["north","northeast","east","southeast","south","southwest","west","northwest","north"],this.Wf=["front_pure","right_front_pure","right_pure","right_back_pure","back_pure","left_back_pure","left_pure","left_front_pure","front_pure"],this.Zf=["still_go_straight","right_front","turn_right","turn_right_rear","back_to","turn_left_rear","turn_left","left_front","still_go_straight"],this.Vf=!1,this.qf=0,Object.assign(this,i)};Object.assign(r.prototype,{ji:function(){},H:function(t){return this.zf(t)},Yf:function(t){for(var i=[],n=0;n<t.length;n++)i=i.concat(t[n].ir);return i},Xf:function(t,i){var n=Math.PI/4,r=t/n,t=parseInt(r),r=r%1*n;return t%2==0?i<r&&(t+=1):n-i<=r&&(t+=1),t},Hf:function(t,i){var n=i.angleTo(t);return n=new xn(i.x,i.z,i.y).cross(new xn(t.x,t.z,t.y)).z<0?2*Math.PI-n:n},Qf:function(t,i){if(i==t.length-1)return{index:t[t.length-1].index};var n=new xn(0,0,1),r=n;0!=i&&((r=t[i].clone().sub(t[i-1]).normalize()).y=0,r.z*=-1);var e=t[i+1].clone().sub(t[i]);e.y=0;var s=e.length(),e=e.normalize();e.z*=-1;n=this.Xf(this.Hf(n,e),22.5*yt.J()),r=this.Hf(r,e),e=this.Xf(r,this.Pf*yt.J());return{relField:e,relDesc:this.$f(this.Wf[e]),relAngle:r*yt.tt(),absField:n,absDesc:this.$f(this.Gf[n]),distance:s,index:t[i].index}},Mn:function(){var t={center:{x:0,y:0,z:0}};return this.Lf&&(t.center.x=this.Lf.scene.defCenX,t.center.y=this.Lf.scene.defCenY,t.center.z=this.Lf.scene.defCenZ),t},An:function(t){var i={level:t,height:0,gname:"",desc:""};if(this.Lf)for(var n=this.Lf.scene,r=0;r<n.layerGroups.length;r++){var e=n.layerGroups[r];if(e.gid==t){i.height=e.height,i.gname=e.gname,i.desc=e.desc;break}}return i},Kf:function(t,i){var n=0;return i.level&&(n=this.An(i.level).height),new xn(i.x-t.x,t.y+n,-i.y+t.y)},Jf:function(t,i){for(var n=this,r=this.Mn().center,e=t.map(function(t,i){t=n.Kf(r,t);return t.index=i,t}),s=[],o=0;o<e.length;o++){var u=this.Qf(e,o);u.point=t[o],u.level=i,s.push(u)}for(var h=[s[0]],a=1;a<s.length;a++)1==a&&s[0].distance<=this.Ff?(s[0].distance+=s[a].distance,s[0].relDesc=s[a].relDesc,s[0].relAngle=s[a].relAngle,s[0].absField=s[a].absField,s[0].absDesc=s[a].absDesc):s[a].distance<=this.Ff||s[a].relAngle<=this.Df||360-s[a].relAngle<=this.Df?h[h.length-1].distance+=s[a].distance:h.push(s[a]);return h},tc:function(t,i){var n=[],r=0;if(i.forEach(function(t){t.xh&&n.push(r),r++}),0!=n.length)for(;0!=n.length;){for(var e=0;e<t.length-1;e++)if(t[e].index<=n[0]&&t[e+1].index>=n[0]){t[e+1].xh=!0;break}n.splice(0,1)}},ic:function(t){var i="",t=this.An(t);return null!=t&&(""+(i=this.Cf==a.ZH?t.desc:t.gname.toUpperCase())!="null"&&""+i!=""&&""+i!="undefined"||(i=t.gname.toUpperCase())),i},nc:function(t,i,n,r,e,s){var o,u,h=t[i],a=t[i+1],f=null,c=this.$f(this.Zf[a.relField]);this.Vf=i==t.length-3&&a.distance<this.Bf,c&&!this.Vf||(r?(this.Vf=!1,c||(f=this.rc(t[i+1].point,e),o=this.ec(f),u=null,e=this.ic(r),c=this.Xt==Sr.Drive?(u=n<r?this.$f("drive_up"):this.$f("drive_down"),this.$f("along")+o+" "+u+" "+e):(u=n<r?this.$f("up_to"):this.$f("down_to"),this.$f("take")+o+" "+u+" "+e))):(this.Vf&&(this.qf=a.distance),s||(c=this.$f("arrived"))));s=null,s=0==i?2==t.length?this.$f("face_to")+" "+h.absDesc+" "+this.$f("straight")+" "+Math.ceil(h.distance)+" "+this.$f("meter")+" "+c:this.$f("face_to")+" "+h.absDesc+" "+this.$f("straight")+" "+Math.ceil(h.distance)+" "+this.$f("meter")+" "+this.$f(this.Zf[t[i+1].relField]):this.$f("straight")+" "+Math.ceil(h.distance+(this.Vf&&!r?a.distance:0))+" "+this.$f("meter")+" "+c;return a.xh&&(s+=" ",s+=this.$f("pass")),[s,f]},sc:function(t,i,n,r,e){var s=t[i],o=t[i+1];return this.$f(this.Zf[t[i+1].relField])&&!this.Vf||(r?(n=n<r?this.$f("up"):this.$f("down"),o.relDesc=n):o.relDesc=e?this.$f("front_pure"):this.$f("dest")),{startPoint:s.point,startLevel:s.level,startIndex:s.index,endPoint:o.point,endLevel:o.level,endIndex:o.index,startDirection:s.absDesc,endDirection:o.relDesc,distance:s.distance+(this.Vf&&!r?o.distance:0)}},rc:function(t,i){for(var n,r=Number.MAX_SAFE_INTEGER,e=-1,s=0;s<i.length;s++)i[s]&&((n=Math.pow(i[s].zt.x-t.x,2)+Math.pow(i[s].zt.y-t.y,2))<r&&(r=n,e=i[s].wr));return e},ec:function(t){if(-1!=t)switch(t){case 2:return" "+this.$f("stair_pure");case 3:return" "+this.$f("escalator_pure");case 1:return" "+this.$f("lift_pure");case 5:return" "+this.$f("ramp_pure");default:return""}return this.$f("stair")},$f:function(t){t=Ir[this.Cf][t];return t||""},zf:function(t){for(var i,n,r=t.oc,e=t.uc,s=t.result,o=[],u=[],h=[],a=null,f=0,c=[],l=!(this.Uf=[]),v=null,d=null,t=t.buildingName||this.$f("outdoor"),y=this.Yf(s),b=0;b<s.length;b++){if(i=(n=s[b]).level,a=null,b<s.length-1)for(var p=b;p<s.length;p++)if(s[p].level!=i){a=s[p].level;break}var m,w,_=n.pointList,g=this.Jf(_,i);if(this.tc(g,n.ir),1<g.length&&(this.Uf=this.Uf.concat(g)),1==g.length)(a||l)&&(l?u.length&&(b==s.length-1&&(e?(o[o.length-1]+=" "+this.$f("arrived"),u[u.length-1].endDirection=this.$f("dest")):u[u.length-1].endDirection=this.$f("front_pure")),u[u.length-1].endPoint=_[0],u[u.length-1].endLevel=i):v!=i&&null!=v||(m=null,w=this.ic(a),d=this.Xt===Sr.Drive?(m=i<a?this.$f("drive_up"):this.$f("drive_down"),this.$f("along_ramp")+" "+m+" "+w):(m=i<a?this.$f("up_to"):this.$f("down_to"),this.$f("take_stair")+" "+m+" "+w),o.push(d),u.push({startPoint:_[0],startDirection:i<a?this.$f("up"):this.$f("down"),startLevel:i})),l=!l);else for(var v=i,x=0;x<g.length-1&&!this.Vf;x++){var O=this.nc(g,x,i,a,y,e),M=O[0],O=O[1];O&&h.push(O),o.push(M),u.push(this.sc(g,x,i,a,e))}1<g.length&&(w=g.reduce(function(t,i){return t+(i.distance||0)},0),c.push({level:i,distance:w}),f+=w)}return r&&0<o.length&&(o[0]=this.$f("enter")+" "+t+" "+o[0]),e&&0<o.length&&(t===this.$f("outdoor")?o[o.length-1]=o[o.length-1]+this.$f("reach")+" "+e+" "+this.$f("entrance"):o[o.length-1]=o[o.length-1]+this.$f("reach")+" "+t+" "+this.$f("exit")),[o,u,f,c,this.qf,h]}});var Nr=r;function Lr(t,i){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Dr(t))||i&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,s=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){o=!0,e=t},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw e}}}}function Pr(t){return function(t){if(Array.isArray(t))return Fr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Dr(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dr(t,i){if(t){if("string"==typeof t)return Fr(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fr(t,i):void 0}}function Fr(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}s=function t(i,n,r){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.hc=i,this.ac={},this.fc={},this.cc=-1,this.lc=-1,this.vc=[],this.dc=[],this.yc=new Map,this.bc=new Map,this.pc=[],this.mc=new Map,this.Ye=[],this.wc=new Map,this._c=new Map,this.gc=new Map,this.Sr=null,this.Nr=null,this.xc=null,this.Oc=null,this.Xt=n,this.Mc=r,this.jc=!1,this.Ec=null,this.kc=10,this.Tc()};Object.assign(s.prototype,{Tc:function(){this.hc&&(this.Rc(),this.Ac(),this.Sc(this.vc,this._c),this.Sc(this.dc,this.gc))},Rc:function(){for(var t=0;t<this.hc.length;t++){var i=null,n=null,i=null==this.Xt||0===this.Xt?(n=this.hc[t].accessible,this.hc[t].navi):this.hc[t].drive,r=""==this.hc[t].bid?null:this.hc[t].bid,e=this.hc[t].gid,i=this.Ic(i,e,r),e=this.Ic(n,r);(n=this.pc).push.apply(n,Pr(i)),(n=this.Ye).push.apply(n,Pr(e)),null==this.ac[r]&&(this.ac[r]=[]),(n=this.ac[r]).push.apply(n,Pr(i)),null==this.fc[r]&&(this.fc[r]=[]),(r=this.fc[r]).push.apply(r,Pr(e))}for(var s=0;s<this.pc.length;s++)this.pc[s].Gi=s,this.mc.set(s,this.pc[s]);for(var o=0;o<this.Ye.length;o++)this.Ye[o].Gi=o,this.wc.set(o,this.Ye[o])},Ic:function(t,i,n){if(null==t)return[];for(var r=[],e=0;e<t.length;e++){var s=t[e];s.level=i,s.bid=n,r.push(s)}return r},Ac:function(){this.vc=this.Nc(this.mc),this.dc=this.Nc(this.wc);for(var t=0;t<this.vc.length;t++)this.vc[t].Gi=t,this.yc.set(t,this.vc[t]);for(var i=0;i<this.dc.length;i++)this.dc[i].Gi=i,this.bc.set(i,this.dc[i])},Nc:function(t){for(var i=[],n=Array.from(t.keys()),r=0;r<n.length;r++)for(var e=r+1;e<n.length;e++){var s,o=n[r],u=n[e],h=t.get(o),a=t.get(u);t.get(o).flag==t.get(u).flag&&(s=this.Lc(h,a),i.push(s)),t.get(o).bid==t.get(u).bid&&(a=this.Lc(h,a),i.push(a))}return i},Lc:function(t,i){var n,r,e=0,s={};return s.startPoint=t.Gi,s.endPoint=i.Gi,s.Gi=null,t.bid==i.bid?(n={x:t.pts[0],y:t.pts[1]},r={x:i.pts[0],y:i.pts[1]},i=Math.abs(t.level-i.level)*this.kc,e=yt.distance(n,r)+i,s.dist=Number(e.toFixed(5))):s.dist=e,s},Pc:function(t){this.Sr=this.cc;for(var i=t.buildingID,n=[],r={type:null,pts:[t.x,t.y],bid:t.buildingID,level:t.level,Gi:this.Sr},e=[],e=(this.Mc?this.fc:this.ac)[i],s=0;s<e.length;s++){var o=this.Lc(r,e[s]);o&&(o.Gi=this.lc,n.push(o),this.Mc?(this.dc.push(o),this.bc.set(this.lc,o)):(this.vc.push(o),this.yc.set(this.lc,o)),--this.lc)}this.Mc?(this.Ye.push(r),this.wc.set(this.Sr,r),this.Sc(n,this.gc)):(this.pc.push(r),this.mc.set(this.Sr,r),this.Sc(n,this._c)),--this.cc},Dc:function(t){this.Nr=this.cc;var i=t.buildingID,n=[],r={type:null,pts:[t.x,t.y],bid:t.buildingID,level:t.level,Gi:this.Nr},e=[],e=(this.Mc?this.fc:this.ac)[i];this.pc.push(r),this.mc.set(this.Nr,r);for(var s=0;s<e.length;s++){var o=this.Lc(r,e[s]);o&&(o.Gi=this.lc,n.push(o),this.Mc?(this.dc.push(o),this.bc.set(this.lc,o)):(this.vc.push(o),this.yc.set(this.lc,o)),--this.lc)}this.Mc?(this.Ye.push(r),this.wc.set(this.Nr,r),this.Sc(n,this.gc)):(this.pc.push(r),this.mc.set(this.Nr,r),this.Sc(n,this._c)),--this.cc},Sc:function(t,i){for(var n=0;n<t.length;n++){var r=t[n],e=r.startPoint,s=r.endPoint;i.has(e)||i.set(e,new Map),i.get(e).set(s,r.dist),i.has(s)||i.set(s,new Map),i.get(s).set(e,r.dist)}return i},Fc:function(t,i){var n=null,r=null;if(this.Mc){if(!this.gc.has(t))return!1;for(var e=0;e<i.length;e++)if(!this.gc.has(i[e]))return!1;n=this.wc,r=this.gc}else{if(!this._c.has(t))return!1;for(var s=0;s<i.length;s++)if(!this._c.has(i[s]))return!1;n=this.mc,r=this._c}this.ro(i,t);var o,u=i.length,h=0,a=Lr(n.keys());try{for(a.s();!(o=a.n()).done;){var f=o.value;n.get(f).yr=f==t?0:Number.MAX_VALUE,n.get(f).br=!1,n.get(f).pr=[]}}catch(t){a.e(t)}finally{a.f()}var c=[];for(c.push(t);0<c.length;){var l=c[0];c.splice(0,1);var v=n.get(l);if(!v.br){v.br=!0;var d=i.indexOf(l);if(-1!=d&&++h==u)return!0;var y=r.get(l);if(y){var b,p=Lr(y.keys());try{for(p.s();!(b=p.n()).done;){var m=b.value,w=v.yr+y.get(m),_=n.get(m);_.br||_.yr>w&&(_.yr=w,_.pr=[],_.pr.push(l),c.push(m))}}catch(t){p.e(t)}finally{p.f()}c.sort(function(t,i){n.get(t).yr,n.get(i).yr})}}}return!(h<u)},ro:function(t,i){for(var n=t.indexOf(i);-1!=n;)t.splice(n,1),n=t.indexOf(i)},Js:function(){if(this.Mc){if(!this.gc.has(this.Sr))return T.ROUTE_FAILED_CANNOT_CALCULATE;if(!this.gc.has(this.Nr))return T.ROUTE_FAILED_CANNOT_CALCULATE}else{if(!this._c.has(this.Sr))return T.ROUTE_FAILED_CANNOT_CALCULATE;if(!this._c.has(this.Nr))return T.ROUTE_FAILED_CANNOT_CALCULATE}var t=[];return t.push(this.Nr),this.Fc(this.Sr,t)?T.ROUTE_SUCCESS:T.ROUTE_FAILED_CANNOT_ARRIVE},io:function(){var t=[],i=[];i.push(this.Nr),this.no(i,t);for(var n=0;n<t.length;n++)t[n].paths.reverse();return t},no:function(t,i){for(var n=0;n<t.length;n++){var r={paths:[],distance:0};r.paths.push(t[n]),this.so(t[n],r),i.push(r)}},so:function(t,i){var n=null,r=null;if(this.Mc){if(0==this.wc.get(t).pr.length)return;n=this.wc.get(t).pr[0],r=this.wc.get(t).yr}else{if(0==this.mc.get(t).pr.length)return;n=this.mc.get(t).pr[0],r=this.mc.get(t).yr}null!=n&&(i.paths.push(n),i.distance+=r),this.so(n,i)},Cc:function(t,i){var n=t[0];this.so(n,t);var r,e=Lr(i);try{for(e.s();!(r=e.n()).done;){var s=r.value;if(-1==t.indexOf(s))return!1}}catch(t){e.e(t)}finally{e.f()}return!0},Bc:function(t){var i,n=new Map,r=Lr(t.keys());try{for(r.s();!(i=r.n()).done;){var e=i.value,s=yt.St(t.get(e));s.bid=e;for(var o=0,u=0;u<t.get(e).length;u++)o+=t.get(e)[u].level;o=Math.floor(o/t.get(e).length),s.level=o,n.set(e,s)}}catch(t){r.e(t)}finally{r.f()}return n},Uc:function(t){var i,n=null,r=null,e=[],s=Lr(t.keys());try{for(s.s();!(i=s.n()).done;){var o=i.value,u=this.Gc(t.get(o));u.bid!=this.xc?u.bid!=this.Oc?e.push(u):r=u:n=u}}catch(t){s.e(t)}finally{s.f()}return null!=n&&e.unshift(n),null!=r&&e.push(r),e},Gc:function(t){for(var i=t.bid,n=[],r={type:null,pts:[t.x,t.y],bid:t.bid,level:t.level,Gi:this.cc},e=[],e=(this.Mc?this.fc:this.ac)[i],s=0;s<e.length;s++){var o=this.Lc(r,e[s]);o&&(o.Gi=this.lc,n.push(o),this.Mc?(this.dc.push(o),this.bc.set(this.lc,o)):(this.vc.push(o),this.yc.set(this.lc,o)),--this.lc)}return this.Mc?(this.Ye.push(r),this.wc.set(this.cc,r),this.Sc(n,this.gc)):(this.pc.push(r),this.mc.set(this.cc,r),this.Sc(n,this._c)),--this.cc,r},Wc:function(){if(!this.hc)return null;var t=null;if(this.jc){for(var i=this.Bc(this.Ec),n=this.Uc(i),r=[],e=1;e<n.length-1;e++)r.push(n[e].Gi);var s=n[0].Gi,o=[s],u=[],i=n[n.length-1].Gi;if(this.Zc(s,r,o,u),this.Zc(o[o.length-1],[i],o,u),o.length==n.length)return t=this.Vc(u)}return t},Vc:function(t){for(var i=[],n=-1,r=[],e=0;e<t.length;e++)for(var s,o=t[e].paths,u=null,h=0;h<o.length;h++)0<o[h]&&(s=o[h],u=this.mc.get(s),-1==n&&(n=u.bid),u.bid==n?r.push(u):(i.push({bid:n,entrances:r}),r=[u]),n=u.bid),e==t.length-1&&h==o.length-1&&u&&i.push({bid:u.bid,entrances:r});return i},Zc:function(t,i,n,r){if(0!=i.length){for(var e,s=null,o=Number.MAX_VALUE,u=null,h=0,a=0;a<i.length;a++)this.Fc(t,[i[a]])&&(this.so(i[a],e={paths:[],distance:0}),e.distance<o&&(o=e.distance,s=i[a],u=e,h=a));s&&(n.push(s),u.paths.reverse(),r.push(u),i.splice(h,1),this.Zc(s,i,n,r))}}});var Cr=s;function Br(t){return function(t){if(Array.isArray(t))return Wr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Gr(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ur(t,i){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Gr(t))||i&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,s=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){o=!0,e=t},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw e}}}}function Gr(t,i){if(t){if("string"==typeof t)return Wr(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wr(t,i):void 0}}function Wr(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}O=function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.ti=null,this.Ir=null,this.Lr=null,this.Gs=null,this.Qh=null,this.Xt=null,this.$h=new Map,this.qc=new Map,this.zi=T.ROUTE_FAILED_CANNOT_ARRIVE,this.zc=null,this.Yc=null,this.Xc=null,this.ja=null,this.Ea=null,this.Ma=!1,this.barrierFree=!1,this.Ta=[]};Object.assign(O.prototype,{Gn:function(t){this.ti=t,this.Xt=t.type,this.Hc=t.bid,this.Qc=this.ti.bidToMid,this.zc=[],this.Xc=[],this.Ea=[],this.$c=new Cr(this.ti.gate,this.Xt,this.barrierFree)},Dh:function(t,i,n,r){this.On(),t.buildingID=void 0!==t.buildingID?t.buildingID:this.Hc,i.buildingID=void 0!==i.buildingID?i.buildingID:this.Hc,this.Ir=t,this.Lr=i,this.Gs=n,this.Qh=r;var e,s=[];e=this.Ir.buildingID==this.Lr.buildingID?[[{pts:[t.x,t.y],bid:t.buildingID,level:t.level},{pts:[i.x,i.y],bid:i.buildingID,level:i.level}]]:this.Kc(t,i);for(var o=0;o<e.length;o++)s.push(e[o][0].bid);i=this.Jc(e);this.zi=i;i=this.tl(s);return this.Xc=i,this.zi},On:function(){this.zi=T.ROUTE_FAILED_CANNOT_ARRIVE,this.zc=[],this.Yc=null,this.Xc=[]},Kc:function(t,i){var n=[];if(this.il(t,i)===T.ROUTE_SUCCESS)for(var r=this.nl()[0],e=[],s=0;s<r.length-1;s++){var o=r[s],u=r[s+1];0===e.length&&e.push(o),o.bid===u.bid?(e.push(u),s==r.length-2&&n.push(e)):(n.push(e),e=[])}return n},Jc:function(t){for(var i=0;i<t.length;i++){var n={};n.x=t[i][0].pts[0],n.y=t[i][0].pts[1],n.level=t[i][0].level;var r={};r.x=t[i][1].pts[0],r.y=t[i][1].pts[1],r.level=t[i][1].level;var e,s=t[i][0].bid,o=this.qc.get(s);0===i||(e=o.if(n))&&e.road&&(n=e.coords),i===t.length-1||(o=o.if(r))&&o.road&&(r=o.coords);s=this.rl(n,r,s);if(s!==T.ROUTE_SUCCESS)return s}return T.ROUTE_SUCCESS},rl:function(t,i,n){return this.qc.get(n).Dh(t.level,t,i.level,i,this.Gs,this.Qh)},el:function(){return this.Xc},tl:function(t){for(var i=[],n=0;n<t.length;n++){var r=this.sl(t[n]);i.push({bid:t[n],result:r})}return i},sl:function(t){var i=this.qc.get(t),t=i.Xa();return this.ja=i.ja,t},il:function(t,i){return this.$c.Pc(t),this.$c.Dc(i),this.$c.Js()},nl:function(){for(var t=this.$c.io(),i=[],n=0;n<t.length;n++){for(var r=[],e=0;e<t[n].paths.length;e++)r.push(this.$c.mc.get(t[n].paths[e]));i.push(r)}return i},if:function(t,i){var n=void 0!==t.buildingID?t.buildingID:this.Hc,i=this.qc.get(n).if(t,i);return i&&void 0!==t.buildingID&&(i.coords.buildingID=t.buildingID),i},iu:function(t){for(var i=new Map,n=0;n<t.length;n++){var r=t[n],e=i.get(r.Hc);e||i.set(r.Hc,e=[]),e.push(r)}var s,o=Ur(i.keys());try{for(o.s();!(s=o.n()).done;){var u=s.value;this.qc.get(u).iu(t)}}catch(t){o.e(t)}finally{o.f()}},Ho:function(){for(var t in this.Ea){var i=parseInt(t),i=this.qc.get(i);i.Ea=this.Ea[t],i.Ho();t=i.Xa();(i=this.Xc).push.apply(i,Br(t))}},Ia:function(t,i,n,r,e){this.Ir=t,this.Lr=i,this.Gs=n,this.Qh=r,this.Ta.unshift(t),this.Ta.push(i);for(var s=0;s<this.Ta.length;s++)this.Ta[s].buildingID=void 0!==this.Ta[s].buildingID?this.Ta[s].buildingID:this.Hc;return void 0!==e?this.ol(passPts):(e=this.ul(this.Ta),this.$c.Ec=e,this.$c.jc=!0,this.$c.xc=t.buildingID,this.$c.Oc=i.buildingID,e=this.$c.Wc(),this.hl(t,i,e,this.Ta))},ul:function(t){for(var i=new Map,n=0;n<t.length;n++){var r=t[n].buildingID;i.has(r)||i.set(r,[]),i.get(r).push(t[n])}return i},hl:function(t,i,n,r){var e=[],s=null;if(r.shift(),r.pop(),n)for(var o=this.ul(r),u=0;u<n.length;u++){var h,a,f,c,l=n[u].bid;if(0==u?(a={x:n[u].entrances[0].pts[0],y:n[u].entrances[0].pts[1],level:n[u].entrances[0].level},o.has(l)?(h=o.get(l),s=this.al(t,a,l,h),o.delete(l)):s=this.rl(t,a,l)):u==n.length-1?(c={x:n[u].entrances[0].pts[0],y:n[u].entrances[0].pts[1],level:n[u].entrances[0].level},o.has(l)?(f=o.get(l),s=this.al(c,i,l,f),o.delete(l)):s=this.rl(c,i,l)):(a={x:n[u].entrances[0].pts[0],y:n[u].entrances[0].pts[1],level:n[u].entrances[0].level},f={x:n[u].entrances[1].pts[0],y:n[u].entrances[1].pts[1],level:n[u].entrances[1].level},o.has(l)?(c=o.get(l),s=this.al(a,f,l,c),o.delete(l)):s=this.rl(a,f,l)),s!==T.ROUTE_SUCCESS)break;d=this.sl(l),e.push({bid:l,result:d})}else{var v=t.buildingID,s=this.al(t,i,v,r),d=this.sl(v);e.push({bid:v,result:d})}return this.Xc=e,this.zi=s},ol:function(t){for(var i=null,n=null,r=0;r<t.length-1;r++)if(t[r].buildingID==t[r+1].buildingID){var e=t[r].buildingID;if((n=this.rl(t[r],t[r+1],e))!=T.ROUTE_SUCCESS)return n;e={bid:e,result:this.sl(e)},i.push(e)}else{var s=this.Kc(this.Ta[r],this.Ta[r+1]);if((n=this.Jc(s))!=T.ROUTE_SUCCESS)return n;for(var o=[],u=0;u<s.length;u++)o.push(s[u][0].bid);e=this.tl(o),i.push.apply(i,Br(e))}return this.Xc=i,this.zi=n},al:function(t,i,n,r){n=this.qc.get(n);n.Ta=r;i=n.Ia(t,i);return n.Ta=null,i},ji:function(){this.ti=null,this.Xc=null,this.zc=null,this.Yc=null;var t,i=Ur(this.qc.keys());try{for(i.s();!(t=i.n()).done;){var n=t.value;this.qc.get(n).ji()}}catch(t){i.e(t)}finally{i.f()}}});var Zr=O;function Vr(t,i){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=zr(t))||i&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,s=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){o=!0,e=t},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw e}}}}function qr(t){return function(t){if(Array.isArray(t))return Yr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||zr(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zr(t,i){if(t){if("string"==typeof t)return Yr(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yr(t,i):void 0}}function Yr(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function Xr(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}D=function(){function r(t,i,n){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,r),this.ti=Object.assign({tile:!0,isPreview:!1},t),this.fl=new Map,this.cl=null,this.ll=[],this.vl=[],this.$c=null,this.dl=void 0!==t.mapID?t.mapID:null,this.yl=null,this.Pn=!!t.map,this.Dn=t.map?t.map.getDataManager():new Hi,this.bl=1,this.pl={radius:.5,dash:{size:4,gap:2}},this.Bn=i,this.Un=n,this.Xt=t.type,this.ml=new Map,this.wl=new Map,this.Gn()}var t,i,n;return t=r,(i=[{key:"setObstructions",value:function(t){this.cl&&this.cl.iu(t)}},{key:"route",value:function(t,i,n){this.cl.toDoors=void 0!==t.toDoors&&t.toDoors,this.cl.obstruct=void 0===t.obstruct||t.obstruct;var r=T.ROUTE_FAILED_CANNOT_ARRIVE;if((r=t.viapoints&&0<t.viapoints.length?(this.cl.Ta=t.viapoints,this.cl.Ia(t.start,t.dest,t.mode||x.MODULE_SHORTEST,t.priority||w.PRIORITY_DEFAULT)):this.cl.Dh(t.start,t.dest,t.mode||x.MODULE_SHORTEST,t.priority||w.PRIORITY_DEFAULT))===T.ROUTE_SUCCESS){this.ll=this.cl.el();var e=null,s=null;this.vl=[];for(var o=0;o<this.ll.length;o++)0<o&&(e=this.ti.bidToName.get(this.ll[o-1].bid)?this.ti.bidToName.get(this.ll[o-1].bid):"outdoor"),o<this.ll.length-1&&(s=this.ti.bidToName.get(this.ll[o+1].bid)?this.ti.bidToName.get(this.ll[o+1].bid):"outdoor"),this.ll[o].oc=e,this.ll[o].uc=s,s=e=null,this.ll[o].buildingName=this.ti.bidToName.get(this.ll[o].bid),this.vl.push([this._l(this.ll[o],{language:a.ZH}),this._l(this.ll[o],{language:a.EN})]);this.yl=this.cl.ja,i&&i(this.Qn())}else n&&n(r)}},{key:"dispose",value:function(){this.gl=null,this.ll=[],this.vl=[],this.cl&&(this.cl.ji(),this.cl=null)}},{key:"pathConstraint",value:function(t,i){return this.cl?this.cl.if(t,i):null}},{key:"getNaviGraph",value:function(t){var i=t.buildingID,t=t.level;return null!=i?null!=t?this.cl.$h.get(i).get(t):this.cl.$h.get(i):null!=t?this.cl.$h.get(null).get(t):qr(this.cl.$h.values())}},{key:"query",value:function(t,i,n,r){var e=[],s=null,s=n?this.cl.qc.get(n):this.cl.qc.get(null),o=r?s.Kh:s.$h;if(!o)return e;if(null==t){var u,h=Vr(o.keys());try{for(h.s();!(u=h.n()).done;){var a=u.value;e.push({level:a,roadRanks:i,roadVector:o.get(a)._e.slice(0)})}}catch(t){h.e(t)}finally{h.f()}}else if(null==i)e.push({level:t,roadRanks:i,roadVector:o.get(t)._e.slice(0)});else{for(var f=[],c=o.get(t)._e,l=0;l<i.length;l++)for(var v=0;v<c.length;v++)c[v].Br===i[l]&&f.push(c[v]);e.push({level:t,roadRanks:i,roadVector:f})}for(var d=0;d<e.length;d++)for(var y=0;y<e[d].roadVector.length;y++)e[d].roadVector[y]=Object.assign({},this.xl(e[d].roadVector[y])),n&&(e[d].roadVector[y].buildingID=n);return e}},{key:"intersectionRoadsByCircle",value:function(t,i,n){if(!n||!n.roadVector||n.roadVector.length<=0)return null;var r,e=null==n.roadVector[0].buildingID?null:n.roadVector[0].buildingID,s={center:t,radius:i,points:[]},o=t.x-i,u=t.x+i,h=t.y-i,a=t.y+i,f=[],c=new Map,l=Vr(n.roadVector);try{for(l.s();!(r=l.n()).done;){var v,d=r.value,y=yt.It(t,i,d.startPoint,d.endPoint);if(!(y.length<1)){var b=d.roadEntry,p=d.endId;if(yt.distance(d.endPoint,t)>i&&((b=b===ln.Entry_FORWARD?vn.Entry_BACK:b)===ln.Entry_BACK&&(b=vn.Entry_FORWARD),p=d.startId),b===vn.Entry_FORWARD||b===vn.Entry_BOTH){var m,w=Vr(y);try{for(w.s();!(m=w.n()).done;){var _=m.value;_.direction=b,_.Ol=p}}catch(t){w.e(t)}finally{w.f()}(v=s.points).push.apply(v,qr(y)),d.startPoint.x>=o&&d.startPoint.x<=u&&d.startPoint.y>=h&&d.startPoint.y<=a&&f.push(d.startId),d.endPoint.x>=o&&d.endPoint.x<=u&&d.endPoint.y>=h&&d.endPoint.y<=a&&f.push(d.endId)}}}}catch(t){l.e(t)}finally{l.f()}for(var g=n.level,x=(null===(n=this.cl.qc)||void 0===n?void 0:n.get(e)).$h.get(g).ke,O=0,M=f;O<M.length;O++){var j=M[O];c.set(j,x.get(j))}var E,k=Vr(s.points);try{for(k.s();!(E=k.n()).done;){var T=E.value;T.branch=this.Ml(c,T.Ol,t.nodeID)}}catch(t){k.e(t)}finally{k.f()}return s}},{key:"queryNode",value:function(t){var i=t.buildingID?this.cl.qc.get(buildingID):this.cl.qc.get(null);if(null==i)return null;var n=(i=(t.barrierFree?i.Kh:i.$h).get(t.level)).De(t.point);if(n<=0)return null;for(var r=i._e,e=new Set,s=0;s<r.length;s++)if(n===r[s].Dr){if(!e.has(r[s].Sr)&&yt.jl(t.point,r[s].Ir))return t.nodeID=r[s].Sr,t;if(!e.has(r[s].Nr)&&yt.jl(t.point,r[s].Lr))return t.nodeID=r[s].Nr,t;e.add(r[s].Sr),e.add(r[s].Nr)}return null}},{key:"constraintTrack",value:function(t){var i=[];if(null==t||t.length<=0)return i;for(var n=new Map,r=0;r<t.length;r++){var e=void 0===t[r].coords.buildingID?null:t[r].coords.buildingID;n.has(e)?n.get(e).push(t[r]):n.set(e,[t[r]])}if(n.size<=0)return i;var s,o=Vr(n.keys());try{for(o.s();!(s=o.n()).done;){for(var u=s.value,h=n.get(u),a=new Set,f=new Set,c=0;c<h.length;c++)a.add(h[c].coords.level),f.add(h[c].road.roadRank);if(a.size<=0)return i;var l=Array.from(a),v=Array.from(f);this.El(l,v,u)}}catch(t){o.e(t)}finally{o.f()}for(var d=t.length-1,y=0;y<d;y++){var b=this.kl(t[y],t[y+1]);i.push(t[y].coords),i.push.apply(i,qr(b)),y+1==d&&i.push(t[y+1].coords)}return i}}])&&Xr(t.prototype,i),n&&Xr(t,n),r}();Object.assign(D.prototype,{Gn:function(){this.Pn&&(t=this.ti.map.getMapOptions(),this.ti.mapID=t.mapID,this.ti.appName=t.appName,this.ti.key=t.key,this.ti.license=t.license,this.ti.mapURL=t.mapURL,this.ti.mapURLAbsolute=t.mapURLAbsolute,this.ti.navigationData=t.navigationData,this.ti.buildingOptions=t.buildingOptions,this.ti.type=this.Xt);var t={buildingID:this.ti.mapID,appName:this.ti.appName,key:this.ti.key,license:this.ti.license,mapURL:this.ti.mapURL,mapURLAbsolute:this.ti.mapURLAbsolute,buildingOptions:this.ti.buildingOptions,navigationData:this.ti.navigationData,merge:this.ti.merge,loadNavi:!0,justDecode:!0,preLoad:!0,isPreview:"undefined"!=typeof KjWzhWlSj&&!!KjWzhWlSj.ProtoDef,tile:this.ti.tile,type:this.ti.type,bid:this.ti.buildingID||null,gate:null,isOutdoor:!0};this.dl||(this.dl=this.ti.mapID),this.fl.set(t.bid,t),this.ti.bidToMid=new Map,this.ti.bidToName=new Map,this.ti.bidToMid.set(t.bid,this.dl),this.cl=new Zr,this.qn(t)},qn:function(n){var r=this;setTimeout(function(){n.tile?r.Dn.load(n,function(t,i){r.zn(t,i,n)}):r.Dn.loadWhole(n,function(t,i){r.zn(t,i,n)})},0)},zn:function(t,i,n){if("error"===t&&this.Un&&this.Un(i),"decode"===t){t=new Ar(n);if(t.Gn(i),this.cl.qc.set(n.bid,t),this.cl.$h.set(n.bid,t.$h),i.scene.mid===this.dl){i.gate&&(n.gate=i.gate.floors),this.cl.Gn(n);for(var r=0;r<(null===(s=i.scene.buildings)||void 0===s?void 0:s.length);r++){var e=i.scene.buildings[r],s={mapID:this.ti.mapID,buildingID:null,appName:this.ti.appName,key:this.ti.key,license:this.ti.license,mapURL:this.ti.mapURL,mapURLAbsolute:this.ti.mapURLAbsolute,merge:this.ti.merge,loadNavi:!0,justDecode:!0,preLoad:!0,isPreview:"undefined"!=typeof KjWzhWlSj,tile:this.ti.tile,type:this.ti.type,bid:null,isOutdoor:!1};s.buildingID=e.mid,s.bid=e.bid;s=Object.assign({},s);this.fl.set(e.bid,s),this.ti.bidToMid.set(e.bid,e.mid),this.ti.bidToName.set(e.bid,e.name),this.qn(s)}}this.cl.qc.size===this.ti.bidToMid.size&&this.Bn&&this.Bn()}},Qn:function(){for(var t={buildings:[],distance:0,subs:[],viapoints:[]},i=0;i<this.ll.length;i++){var n={buildingID:null,buildingName:null,levels:[],distance:0},r=this.ll[i].bid,e=this.ll[i].buildingName,s=this.Tl(this.ll[i],this.vl[i],r);n.levels=s.levels,n.distance=s.distance,t.distance+=n.distance,i!==this.ll.length-1&&(s.subs[s.subs.length-1].transfer=f.TRANSFER_ENTRANCE),n.buildingID=r==this.dl?null:r,n.buildingName=e||null;var o,u=Vr(s.subs);try{for(u.s();!(o=u.n()).done;){var h=o.value;h.buildingID=n.buildingID,h.buildingName=n.buildingName}}catch(t){u.e(t)}finally{u.f()}t.buildings.push(n),(e=t.subs).push.apply(e,qr(s.subs)),(e=t.viapoints).push.apply(e,qr(s.viapoints))}return t},Tl:function(t,i,n){if(0==t.length||0==i.length)return null;for(var r={viapoints:[],subs:[],levels:[],distance:0},e=i[0].descriptions,s=i[0].descriptionsData,o=i[1].descriptions,u=i[1].descriptionsData,h=i[0].ladderList,a=0,f=[],c=!1,l=[],v=0;v<s.length;v++){var d={instruction:{zh:null,en:null},waypoint:{points:null,direction:{zh:null,en:null}},viapoint:null,levels:null,distance:Number.NaN,buildingID:null},y=e[v],b=s[v],p=o[v],m=u[v];d.instruction.zh=y,d.instruction.en=p,d.levels=[b.startLevel,b.endLevel],d.distance=void 0!==b.distance?b.distance:0,d.waypoint.direction.zh=[b.startDirection,b.endDirection||b.startDirection],d.waypoint.direction.en=[m.startDirection,m.endDirection||m.startDirection],d.levels[0]!=d.levels[1]?(c=!0,f.push.apply(f,qr(d.levels)),d.transfer=h[a],a+=1):0!=f.length&&f.slice(-1)[0]==d.levels[0]&&!c||(f.push(d.levels[0]),c=!1);b=this.Rl([b.startIndex,b.endIndex],f,t.result);d.waypoint.points=b.points,b.via&&-1==l.indexOf(b.via)&&(d.viapoint=Object.assign({},b.via.zt),r.viapoints.push(Object.assign({},b.via.zt)),l.push(b.via)),r.distance+=d.distance,d.buildingID=n,r.subs.push(d)}for(var w=0;w<f.length;w++)0!=r.levels.length&&r.levels.slice(-1)[0]==f[w]||r.levels.push(f[w]);return r.door=this.yl,r},Rl:function(t,i,n){for(var r=[],e=[],s=null,o=[],u=0;u<n.length;u++){var h=n[u];if(o.push(h.Kn),i.toString()==o.toString()){var a=i[i.length-1],f=h.tr,c=h.ir;if(void 0===t[0]||void 0===t[1])r.push(Object.assign({level:h.Kn},h.tr[0])),e.push(h.ir[0]),h=n[u-1],r.unshift(Object.assign({level:h.Kn},h.tr[0])),e.unshift(h.ir[0]);else for(var l=t[0];l<=t[1];l++)r.push({x:f[l].x,y:f[l].y,level:a}),e.push(c[l]);break}}return e.forEach(function(t){t.xh&&(s=t)}),{points:r,via:s}},_l:function(t,i){var n=t.bid,r=t.result;if(!this.Al(r))return{};i=new Nr(Object.assign({data:this.Dn.getDecode(this.fl.get(n)),directionAssert:10,combineAsset:10,language:a.ZH},i)).H(t),t=this.Sl(i[5]);return{descriptions:i[0],descriptionsData:i[1],distance:i[2],distances:i[3],ladderList:t}},Sl:function(t){for(var i=0;i<t.length;i++)switch(t[i]){case 1:t[i]=f.TRANSFER_LIFT;break;case 2:t[i]=f.TRANSFER_STAIR;break;case 3:t[i]=f.TRANSFER_ESCALATOR;break;case 4:t[i]=f.TRANSFER_ACCESSIBLE;break;case 5:t[i]=f.TRANSFER_RAMP;break;default:return}return t},Il:function(t){this.cl.Ea=t,this.cl.Ho(),this.ll=this.Nl.Xa()},Ll:function(){return this.ll},Pl:function(t){var i=t||this.ll;if(!this.Al(i))return[];var n,r=[];for(n in i)i[n].getPointList&&r.push.apply(r,qr(i[n].pointList));return r},Dl:function(t){var i=t||this.ll;if(!this.Al(i))return[];for(var n=[],r=0;r<i.length;r++){for(var e=i[r],s=e.level,o=e.pointList,u={level:s,points:[]},h=0;h<o.length;h++)u.points.push(Object.assign({},o[h]));n.push(u)}return n},Fl:function(t){t=t||this.ll;if(!this.Al(t))return 0;var i=this.Pl(t);if(0==i.length)return 0;for(var n=0,r=0;r<i.length-1;r++)n+=yt.lt(i[r],i[r+1]);return n},Cl:function(t){var i=t||this.ll;if(!this.Al(i))return[];var n,r=[];for(n in i)!i[n].level||0!=n&&r[r.length-1]==i[n].level||r.push(i[n].level);return r},Bl:function(t,i){var n=i||this.ll;if(!this.Al(n))return[];var r,e=[];for(r in n)n[r].level&&n[r].level==t&&(e=e.concat(n[r].pointList));return e},Al:function(t){if(!Array.isArray(t))return!1;if(0==t.length)return!1;for(var i=0;i<t.length;i++)if(!(t[i]instanceof yn))return!1;return!0},Ul:function(s,t){if(0===s.length)return null;null==t&&(t={});var i=Object.assign({},this.pl);t&&t.style&&Object.assign(i,t.style),1===this.Xt&&(i.color="#002FA7");for(var o=t&&t.height?t.height:this.bl,u=[],n=0;n<s.length;n++)(function(t){var i=s[t],n=i.pointList;if(0===n.length)return;var t=i.level,r=[];n.forEach(function(t){var i=parseFloat(""+t.x),t=parseFloat(""+t.y);r.push({x:i,y:t,z:o})}),n.length<2&&(i=parseFloat(""+n[0].x),e=parseFloat(""+n[0].y),r.push({x:i,y:e,z:o}));var e=new fengmap.FMSegment;e.level=t,e.points=r,u.push(e)})(n);i=new fengmap.FMLineMarker(Object.assign({segments:u},i));return i.passed=t&&t.passed?t.passed:this.Gl,i},xl:function(t){return{id:t.Gi,startPoint:{x:t.Ir.x,y:t.Ir.y},endPoint:{x:t.Lr.x,y:t.Lr.y},startId:t.Sr,endId:t.Nr,roadRank:t.Br,roadEntry:t.Ur}},Ml:function(t,i,n){if(0!=t.length&&null!=t.get(i)&&null!=t.get(n)){var r,e=new Map,s=Vr(t.keys());try{for(s.s();!(r=s.n()).done;){var o=r.value;e.set(o,!1)}}catch(t){s.e(t)}finally{s.f()}for(var u=[i];0<u.length;){var h=u[0];if(e.get(h))u.splice(0,1);else{if(e.set(h,!0),u.splice(0,1),h==n)return!1;var a=t.get(h);if(!a||a&&2<a.length)return!0;for(var f=0;f<a.length;f++)u.push(a[f].bs)}}return!0}},kl:function(t,i){var n=[];if(t.coords.buildingID!=i.coords.buildingID)return n;if(t.coords.level!=i.coords.level)return n;var r=null==t.buildingID?null:t.buildingID,e=t.coords.level,s=this.ml.get(r).get(e),o=t.road.id,u=i.road.id,h=s.get(o),a=s.get(u),s=t.coords.buildingID,f=null==this.wl.get(s)?[]:this.wl.get(s),r=s?this.cl.qc.get(r):this.cl.qc.get(null);if(h!=a){for(var c=null,l=0;l<f.length;l++)if(f[l].level==e&&null!=f[l].ptsBwteenRoad){c=f[l].ptsBwteenRoad;break}null!=c&&null!=c.get(o)&&null!=c.get(o).get(u)?n=c.get(o).get(u):(r=r.ia.get(e),n=this.Wl(t,i,r),null==c?((c=new Map).set(o,new Map),c.get(o).set(u,n),f.push({level:e,ptsBwteenRoad:c}),this.wl.set(s,f)):(null==c.get(o)&&c.set(o,new Map),c.get(o).set(u,n)))}return n},El:function(t,i,n,r){var e,s=new Map;if(null==(e=(n=null==n?null:n)?this.cl.qc.get(n):this.cl.qc.get(null)))return null;for(var o=r?e.Kh:e.$h,u=0;u<t.length;u++){var h=t[u],a=o.get(h)._e,f=[],c=void 0;if(null!=i&&0<i.length){for(var l=0;l<i.length;l++)for(var v=0;v<a.length;v++)a[v].Br===i[l]&&f.push(a[v]);c=this.Zl(f)}else c=this.Zl(a);s.set(h,c)}this.ml.set(n,s)},Zl:function(t){for(var i=new Map,n=new Map,r=0,e=0;e<t.length;e++)n.set(t[e].Gi,[0,0]),i.set(t[e].Gi,-1);for(var s=0;s<t.length;s++){var o=t[s];if(1!=n.get(o.Gi)[0]||1!=n.get(o.Gi)[1]){for(var u=o.Sr,h=o.Nr,a=new xn(o.Lr.x-o.Ir.x,o.Lr.y-o.Ir.y),f=s+1;f<t.length;f++){var c=t[f];if(o.Br==c.Br){var l=c.Sr,v=c.Nr,d=i.get(o.Gi),y=i.get(c.Gi),b=void 0,b=-1==d&&-1==y?-1:-1!=d&&(-1==y||d<=y)?d:y,p=new xn(c.Lr.x-c.Ir.x,c.Lr.y-c.Ir.y);if(0==n.get(o.Gi)[0]){if(u==l){if(a.multiplyScalar(-1).angleTo(p)*yt.tt()<=5){if(b=-1==b?++r:b,i.set(o.Gi,b),i.set(c.Gi,b),n.get(o.Gi)[0]=1,-(n.get(c.Gi)[0]=1)!=y&&y!=b){var m,w=Vr(i.keys());try{for(w.s();!(m=w.n()).done;){var _=m.value;i.get(_)==y&&i.set(_,b)}}catch(t){w.e(t)}finally{w.f()}}if(-1!=d&&d!=b){var g,x=Vr(i.keys());try{for(x.s();!(g=x.n()).done;){var O=g.value;i.get(O)==d&&i.set(O,b)}}catch(t){x.e(t)}finally{x.f()}}}continue}if(u==v){if(a.multiplyScalar(-1).angleTo(p.multiplyScalar(-1))*yt.tt()<=5){if(b=-1==b?++r:b,i.set(o.Gi,b),i.set(c.Gi,b),n.get(o.Gi)[0]=1,-(n.get(c.Gi)[1]=1)!=y&&y!=b){var M,j=Vr(i.keys());try{for(j.s();!(M=j.n()).done;){var E=M.value;i.get(E)==y&&i.set(E,b)}}catch(t){j.e(t)}finally{j.f()}}if(-1!=d&&d!=b){var k,T=Vr(i.keys());try{for(T.s();!(k=T.n()).done;){var R=k.value;i.get(R)==d&&i.set(R,b)}}catch(t){T.e(t)}finally{T.f()}}}continue}}if(0==n.get(o.Gi)[1])if(h!=l){if(h==v)if(a.angleTo(p.multiplyScalar(-1))*yt.tt()<=5){if(b=-1==b?++r:b,i.set(o.Gi,b),i.set(c.Gi,b),n.get(o.Gi)[1]=1,-(n.get(c.Gi)[1]=1)!=y&&y!=b){var A,S=Vr(i.keys());try{for(S.s();!(A=S.n()).done;){var I=A.value;i.get(I)==y&&i.set(I,b)}}catch(t){S.e(t)}finally{S.f()}}if(-1!=d&&d!=b){var N,L=Vr(i.keys());try{for(L.s();!(N=L.n()).done;){var P=N.value;i.get(P)==d&&i.set(P,b)}}catch(t){L.e(t)}finally{L.f()}}}}else if(a.angleTo(p)*yt.tt()<=5){if(b=-1==b?++r:b,i.set(o.Gi,b),i.set(c.Gi,b),n.get(o.Gi)[1]=1,-(n.get(c.Gi)[0]=1)!=y&&y!=b){var D,F=Vr(i.keys());try{for(F.s();!(D=F.n()).done;){var C=D.value;i.get(C)==y&&i.set(C,b)}}catch(t){F.e(t)}finally{F.f()}}if(-1!=d&&d!=b){var B,U=Vr(i.keys());try{for(U.s();!(B=U.n()).done;){var G=B.value;i.get(G)==d&&i.set(G,b)}}catch(t){U.e(t)}finally{U.f()}}}}}-1==i.get(o.Gi)&&i.set(o.Gi,++r)}}return i},Wl:function(t,i,n){var r=[],e=t.coords,s=t.road,o=i.coords,u=i.road,h=n.qo(e),t=n.qo(o);if(null==s||null==u||e.level!=o.level||s.extentID!=u.extentID)return r;if(h!=t)return r;var i=null,t=null,a=e.level,t=yt.vt(o,s.startPoint)<=yt.vt(o,s.endPoint)?(i=s.startPoint,s.startID):(i=s.endPoint,s.endID),s=null,s=yt.vt(i,u.startPoint)<=yt.vt(i,u.endPoint)?(u.startPoint,u.startID):(u.endPoint,u.endID),i=n.Ds,u=i.ps(t),t=[i.ps(s)],h=n.mu(h);if(!h.Xs(i,u,t))return r;h.Us=s;for(var f=h.io(),c=f.length-1;0<=c;c--)r.push(Object.assign({level:a},f[c].zt));return r}});var Hr=D;function Qr(t){return(Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $r(t,i){return($r=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function Kr(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=Jr(n);return t=r?(t=Jr(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),i=this,!(t=t)||"object"!==Qr(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(i):t}}function Jr(t){return(Jr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}r=function(){!function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&$r(t,i)}(e,Hr);var r=Kr(e);function e(t,i,n){return function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,e),r.call(this,t,i,n)}return e}();function te(t){return function(t){if(Array.isArray(t))return ie(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,i){if(t){if("string"==typeof t)return ie(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(t,i):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}s=function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.Hc=void 0!==i.buildingID?i.buildingID:null,this.Kn=void 0!==i.level?i.level:null,this.zr=void 0!==i.points?i.points:null,this.Vl=-1,this.Gt=null,this.Gn()};Object.assign(s.prototype,{Gn:function(){this.zr&&(this.Gt=new pt,this.Gt.Dt(this.zr),this.Vl=this.zr.length,this.zr[0].x==this.zr[this.Vl-1].x&&this.zr[0].y==this.zr[this.Vl-1].y?this.Vl--:this.zr.push(this.zr[0]))},Wu:function(t,i){return yt.st(t,i,this.Gt.Nt,this.Gt.Lt)},gs:function(t){return!!yt.ut(t,this.Gt.min,this.Gt.max)&&yt.ft(t,this.zr,this.Vl)},ql:function(t){var i=0;return this.gs(t[0])&&(i|=1),this.gs(t[1])&&(i|=2),i},_s:function(t,i){if(!yt.st(t[0],t[1],this.Gt.min,this.Gt.max))return!1;for(var n,r,e=!1,s=0;s<this.Vl;s++){var o={};1==yt.wt(t[0],t[1],this.zr[s],this.zr[s+1],o)&&(e=!0,i.push(o))}return t[0].x!=t[1].x?(n=t[0].x<t[1].x,i.sort(function(t,i){return n?t.x-i.x:i.x-t.x})):(r=t[0].y<t[1].y,i.sort(function(t,i){return r?t.y-i.y:i.y-t.y})),e},zl:function(t,i){var n=[];n.push(t[0]),n.push.apply(n,te(i)),n.push(t[1]);for(var r=[],e=0;e<n.length-1;e++)r.push([n[e],n[e+1]]);return r},tf:function(t){if(this.Hc!=t.bid||this.Kn!=t.Kn)return!1;if(this.zr.length!=t.zr.length)return!1;for(var i=0;i<this.zr.length;i++){if(this.zr[i].x!=t.zr[i].x)return!1;if(this.zr[i].y!=t.zr[i].y)return!1}return!0}});O=s;function ne(t){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function re(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ee(t,i){return(ee=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function se(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=oe(n);return t=r?(t=oe(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),i=this,!(t=t)||"object"!==ne(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(i):t}}function oe(t){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}D=function(){!function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&ee(t,i)}(e,Hr);var t,i,n,r=se(e);function e(t,i,n){return function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,e),t.type=Sr.Drive,r.call(this,t,i,n)}return t=e,(i=[{key:"route",value:function(t,i,n){this.cl.obstruct=void 0===t.obstruct||t.obstruct;var r=T.ROUTE_FAILED_CANNOT_ARRIVE;if((r=t.viapoints&&0<t.viapoints.length?(this.cl.Ta=t.viapoints,this.cl.Ia(t.start,t.dest)):this.cl.Dh(t.start,t.dest,t.mode||x.MODULE_SHORTEST,t.priority||w.PRIORITY_DEFAULT))===T.ROUTE_SUCCESS){this.ll=this.cl.el();var e=null,s=null;this.vl=[];for(var o=0;o<this.ll.length;o++)0<o&&(e=this.ti.bidToName.get(this.ll[o-1].bid)?this.ti.bidToName.get(this.ll[o-1].bid):"outdoor"),o<this.ll.length-1&&(s=this.ti.bidToName.get(this.ll[o+1].bid)?this.ti.bidToName.get(this.ll[o+1].bid):"outdoor"),this.ll[o].oc=e,this.ll[o].uc=s,s=e=null,this.ll[o].buildingName=this.ti.bidToName.get(this.ll[o].bid),this.vl.push([this._l(this.ll[o],{language:a.ZH}),this._l(this.ll[o],{language:a.EN})]);this.yl=this.cl.ja,i&&i(this.Qn())}else n&&n(r)}}])&&re(t.prototype,i),n&&re(t,n),e}();function ue(t){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function he(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ae(t,i){return(ae=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function fe(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=ce(n);return t=r?(t=ce(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),i=this,!(t=t)||"object"!==ue(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(i):t}}function ce(t){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var le,s=function(){!function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&ae(t,i)}(e,Hr);var t,i,n,r=fe(e);function e(t,i,n){return function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,e),t.type=Sr.Walk,r.call(this,t,i,n)}return t=e,(i=[{key:"route",value:function(t,i,n){this.cl.toDoors=void 0!==t.toDoors&&t.toDoors,this.cl.obstruct=void 0===t.obstruct||t.obstruct,this.cl.barrierFree=void 0!==t.barrierFree&&t.barrierFree;var r=T.ROUTE_FAILED_CANNOT_ARRIVE;if((r=t.viapoints&&0<t.viapoints.length?(this.cl.Ta=t.viapoints,this.cl.Ia(t.start,t.dest,t.mode||x.MODULE_SHORTEST,t.priority||w.PRIORITY_DEFAULT)):this.cl.Dh(t.start,t.dest,t.mode||x.MODULE_SHORTEST,t.priority||w.PRIORITY_DEFAULT))===T.ROUTE_SUCCESS){this.ll=this.cl.el();var e=null,s=null;this.vl=[];for(var o=0;o<this.ll.length;o++)0<o&&(e=this.ti.bidToName.get(this.ll[o-1].bid)?this.ti.bidToName.get(this.ll[o-1].bid):"outdoor"),o<this.ll.length-1&&(s=this.ti.bidToName.get(this.ll[o+1].bid)?this.ti.bidToName.get(this.ll[o+1].bid):"outdoor"),this.ll[o].oc=e,this.ll[o].uc=s,s=e=null,this.ll[o].buildingName=this.ti.bidToName.get(this.ll[o].bid),this.vl.push([this._l(this.ll[o],{language:a.ZH}),this._l(this.ll[o],{language:a.EN})]);this.yl=this.cl.ja,i&&i(this.Qn())}else n&&n(r)}}])&&he(t.prototype,i),n&&he(t,n),e}(),n=n(28),ve={VERSION:u,BUILD:h,XMLHttpRequest:n.a,FMType:e,FMNaviMode:x,FMNaviPriority:w,FMRouteResult:T,FMLanguageType:a,FMNaviTransfer:f,FMSearchRequest:y,FMSearchAnalyser:A,FMNaviAnalyser:r,FMNaviObstruction:O,FMNaviDriveAnalyser:D,FMNaviWalkAnalyser:s},s=Vt.a.global(),de=void 0!==s?s.fengmap:{};for(le in void 0===de&&(de={}),ve)de[le]=ve[le];void 0!==s&&(s.fengmap=de);i.default=de}],f={},g.m=d,g.c=f,g.d=function(t,i,n){g.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:n})},g.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"Yl",{value:!0})},g.t=function(i,t){if(1&t&&(i=g(i)),8&t)return i;if(4&t&&"object"==typeof i&&i&&i.Yl)return i;var n=Object.create(null);if(g.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:i}),2&t&&"string"!=typeof i)for(var r in i)g.d(n,r,function(t){return i[t]}.bind(null,r));return n},g.n=function(t){var i=t&&t.Yl?function(){return t.default}:function(){return t};return g.d(i,"a",i),i},g.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},g.p="",g(g.s=50).default;function g(t){if(f[t])return f[t].exports;var i=f[t]={i:t,l:!1,exports:{}};return d[t].call(i.exports,i,i.exports,g),i.l=!0,i.exports}var d,f});